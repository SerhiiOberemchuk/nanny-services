import{w as A,x as v,j as e,F as T,E as k,y as $,z as M,M as C,i as S,r as b,u as V,c as q,B as Y,A as U,D as E}from"./index-DZ_KHQPY.js";const O="_list_3mize_1",P="_listItem_3mize_10",Z="_imgSection_3mize_23",B="_image_3mize_32",W="_status_3mize_38",H="_statusDisable_3mize_51",J="_infoSection_3mize_58",K="_nameSection_3mize_62",X="_nannyName_3mize_67",G="_about_3mize_76",Q="_buttonReadMore_3mize_84",ee="_iconSvg_3mize_101",te="_iconSvgStar_3mize_109",ae="_iconSvgFavorite_3mize_117",se="_isFavorite_3mize_125",ne="_animate_3mize_152",ie="_colorChange_3mize_1",re="_locationSection_3mize_156",oe="_locationFavorite_3mize_164",ce="_spanLocation_3mize_169",le="_spanPrice_3mize_188",de="_buttonFavorite_3mize_192",o={list:O,listItem:P,imgSection:Z,image:B,status:W,statusDisable:H,infoSection:J,nameSection:K,nannyName:X,about:G,buttonReadMore:Q,iconSvg:ee,iconSvgStar:te,iconSvgFavorite:ae,isFavorite:se,animate:ne,colorChange:ie,locationSection:re,locationFavorite:oe,spanLocation:ce,spanPrice:le,buttonFavorite:de},me="_reviewsList_1kij1_1",ue="_itemReviews_1kij1_8",he="_reviewerName_1kij1_14",_e="_reviewerLeter_1kij1_19",pe="_reviewerTitle_1kij1_34",xe="_reviewValueBox_1kij1_44",ve="_reviewValue_1kij1_44",Ne="_iconSvgStar_1kij1_55",fe="_buttonAppointment_1kij1_62",h={reviewsList:me,itemReviews:ue,reviewerName:he,reviewerLeter:_e,reviewerTitle:pe,reviewValueBox:xe,reviewValue:ve,iconSvgStar:Ne,buttonAppointment:fe},ge="_madalContent_1d0o5_1",je="_title_1d0o5_11",be="_description_1d0o5_19",Se="_nameAvatar_1d0o5_27",we="_avatar_1d0o5_34",De="_youNanny_1d0o5_39",ye="_nannyName_1d0o5_46",Fe="_iconSvg_1d0o5_53",p={madalContent:ge,title:je,description:be,nameAvatar:Se,avatar:we,youNanny:De,nannyName:ye,iconSvg:Fe},Ce=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,ze=/^\+380\d{9}$/,Le=/^([01]\d|2[0-3]):([0-5]\d)$/,Re=A().shape({address:v().min(1,"Too Short!").max(20,"Too Long!").required("Required"),numberPhone:v().matches(ze,"Invalid phone number format").required("Required"),age:v().min(1,"Too Short!").max(2,"Too Long!").required("Required"),time:v().matches(Le,"Invalid time format").required("Required"),email:v().email("Invalid email").matches(Ce,"Invalid email domain").required("Required"),fatherName:v().required("Required"),comment:v().required("Required")}),Ie="_form_axi9p_1",Ae="_positionInput_axi9p_7",Te="_errorsSchema_axi9p_12",ke="_field_axi9p_23",$e="_textarea_axi9p_24",Me="_buttonSubmit_axi9p_46",Ve="_blockField_axi9p_57",qe="_hiddenLabel_axi9p_64",x={form:Ie,positionInput:Ae,errorsSchema:Te,field:ke,textarea:$e,buttonSubmit:Me,blockField:Ve,hiddenLabel:qe},N=({id:t,name:a,type:n="text",placeholder:s,ariaLabel:i,as:r="input"})=>e.jsxs("div",{className:x.positionInput,children:[e.jsx("label",{htmlFor:t,className:x.hiddenLabel,children:s}),e.jsx(T,{type:n,id:t,name:a,placeholder:s,"aria-label":i,className:r==="textarea"?x.textarea:x.field,as:r}),e.jsx(k,{name:a,component:"div",className:x.errorsSchema})]}),Ye=()=>e.jsx($,{initialValues:{address:"",numberPhone:"+380",age:"",time:"",email:"",fatherName:"",comment:""},onSubmit:t=>console.log(t),validationSchema:Re,children:()=>e.jsxs(M,{className:x.form,children:[e.jsxs("div",{className:x.blockField,children:[e.jsx(N,{id:"address",name:"address",placeholder:"Address",ariaLabel:"Address"}),e.jsx(N,{id:"numberPhone",name:"numberPhone",placeholder:"+380",ariaLabel:"number phone"}),e.jsx(N,{id:"age",name:"age",placeholder:"Child's age",ariaLabel:"Child's age"}),e.jsx(N,{id:"time",name:"time",type:"time",placeholder:"00:00",ariaLabel:"time"})]}),e.jsx(N,{id:"email",name:"email",type:"email",placeholder:"Email",ariaLabel:"Email"}),e.jsx(N,{id:"fatherName",name:"fatherName",placeholder:"Father's or mother's name",ariaLabel:"Father's or mother's name"}),e.jsx(N,{id:"comment",name:"comment",placeholder:"Comment",ariaLabel:"Comment",as:"textarea"}),e.jsx("button",{type:"submit",className:x.buttonSubmit,children:"Submit"})]})}),Ue={content:{border:"none",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"30px",padding:"64px",color:"#11101c",zIndex:1001},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1e3}};C.setAppElement("#root");function Ee({data:t,isModal:a=!1,closeModal:n}){return e.jsx(C,{isOpen:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:n,style:Ue,children:e.jsxs("div",{className:p.madalContent,children:[e.jsx("button",{type:"button",onClick:n,children:e.jsx("svg",{className:p.iconSvg,children:e.jsx("use",{href:`${S}#icon-iconX`})})}),e.jsx("h2",{className:p.title,children:"Make an appointment with a babysitter"}),e.jsx("p",{className:p.description,children:"Arranging a meeting with a caregiver for your child is the first step to creating a safe and comfortable environment. Fill out the form below so we can match you with the perfect care partner."}),e.jsxs("div",{className:p.nameAvatar,children:[e.jsx("img",{src:t.avatar_url,alt:"avatar nanny",className:p.avatar,width:44}),e.jsxs("div",{children:[e.jsx("span",{className:p.youNanny,children:"Your nanny"}),e.jsx("h3",{className:p.nannyName,children:t.name})]})]}),e.jsx(Ye,{})]})})}function Oe({nanny:t}){const[a,n]=b.useState(!1);function s(){n(!0)}function i(){n(!1)}return e.jsxs("ul",{className:h.reviewsList,children:[t.reviews.map((r,d)=>e.jsxs("li",{className:h.itemReviews,children:[e.jsxs("div",{className:h.reviewerTitle,children:[e.jsx("div",{className:h.reviewerLeter,children:e.jsx("span",{children:r.reviewer.substr(0,1)})}),e.jsxs("div",{children:[e.jsx("h3",{className:h.reviewerName,children:r.reviewer}),e.jsxs("span",{className:h.reviewValueBox,children:[e.jsx("svg",{className:h.iconSvgStar,children:e.jsx("use",{href:`${S}#icon-star`})}),e.jsx("span",{className:h.reviewValue,children:r.rating.toFixed(1)})]})]})]}),e.jsx("p",{children:r.comment})]},d)),e.jsx("button",{type:"button",onClick:s,className:h.buttonAppointment,children:"Make an appointment"}),e.jsx(Ee,{data:t,isModal:a,closeModal:i})]})}function g(t){const a=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&a==="[object Date]"?new t.constructor(+t):typeof t=="number"||a==="[object Number]"||typeof t=="string"||a==="[object String]"?new Date(t):new Date(NaN)}const z=6e4,L=36e5;function F(t,a){const n=g(t),s=g(a),i=n.getTime()-s.getTime();return i<0?-1:i>0?1:i}function Pe(t,a){const n=g(t),s=g(a);return n.getFullYear()-s.getFullYear()}function Ze(t,a){const n=g(t),s=g(a),i=F(n,s),r=Math.abs(Pe(n,s));n.setFullYear(1584),s.setFullYear(1584);const d=F(n,s)===-i,m=i*(r-+d);return m===0?0:m}function Be(t,a){const s=Ke(t);let i;if(s.date){const l=Xe(s.date,2);i=Ge(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const r=i.getTime();let d=0,m;if(s.time&&(d=Qe(s.time),isNaN(d)))return new Date(NaN);if(s.timezone){if(m=et(s.timezone),isNaN(m))return new Date(NaN)}else{const l=new Date(r+d),_=new Date(0);return _.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),_.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),_}return new Date(r+d+m)}const w={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},We=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,He=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Je=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ke(t){const a={},n=t.split(w.dateTimeDelimiter);let s;if(n.length>2)return a;if(/:/.test(n[0])?s=n[0]:(a.date=n[0],s=n[1],w.timeZoneDelimiter.test(a.date)&&(a.date=t.split(w.timeZoneDelimiter)[0],s=t.substr(a.date.length,t.length))),s){const i=w.timezone.exec(s);i?(a.time=s.replace(i[1],""),a.timezone=i[1]):a.time=s}return a}function Xe(t,a){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,r=s[2]?parseInt(s[2]):null;return{year:r===null?i:r*100,restDateString:t.slice((s[1]||s[2]).length)}}function Ge(t,a){if(a===null)return new Date(NaN);const n=t.match(We);if(!n)return new Date(NaN);const s=!!n[4],i=j(n[1]),r=j(n[2])-1,d=j(n[3]),m=j(n[4]),l=j(n[5])-1;if(s)return it(a,m,l)?tt(a,m,l):new Date(NaN);{const _=new Date(0);return!st(a,r,d)||!nt(a,i)?new Date(NaN):(_.setUTCFullYear(a,r,Math.max(i,d)),_)}}function j(t){return t?parseInt(t):1}function Qe(t){const a=t.match(He);if(!a)return NaN;const n=D(a[1]),s=D(a[2]),i=D(a[3]);return rt(n,s,i)?n*L+s*z+i*1e3:NaN}function D(t){return t&&parseFloat(t.replace(",","."))||0}function et(t){if(t==="Z")return 0;const a=t.match(Je);if(!a)return 0;const n=a[1]==="+"?-1:1,s=parseInt(a[2]),i=a[3]&&parseInt(a[3])||0;return ot(s,i)?n*(s*L+i*z):NaN}function tt(t,a,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const i=s.getUTCDay()||7,r=(a-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+r),s}const at=[31,null,31,30,31,30,31,31,30,31,30,31];function R(t){return t%400===0||t%4===0&&t%100!==0}function st(t,a,n){return a>=0&&a<=11&&n>=1&&n<=(at[a]||(R(t)?29:28))}function nt(t,a){return a>=1&&a<=(R(t)?366:365)}function it(t,a,n){return a>=1&&a<=53&&n>=0&&n<=6}function rt(t,a,n){return t===24?a===0&&n===0:n>=0&&n<60&&a>=0&&a<60&&t>=0&&t<25}function ot(t,a){return a>=0&&a<=59}const ct="_listCharacters_qbzly_1",lt="_charactersNanny_qbzly_10",dt="_charactersValue_qbzly_16",mt="_charactersValueAge_qbzly_20",u={listCharacters:ct,charactersNanny:lt,charactersValue:dt,charactersValueAge:mt},ut=new Date;function ht({nanny:t}){return e.jsxs("ul",{className:u.listCharacters,children:[e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Age:"})," ",e.jsx("span",{className:u.charactersValueAge,children:Ze(ut,Be(t.birthday))})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Experience:"})," ",e.jsx("span",{className:u.charactersValue,children:t.experience})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Kids Age:"})," ",e.jsx("span",{className:u.charactersValue,children:t.kids_age})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Characters:"})," ",e.jsx("span",{className:u.charactersValue,children:t.characters.map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(", ")})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Education:"})," ",e.jsx("span",{className:u.charactersValue,children:t.education})]})]})}const _t=(t,a)=>t.some(s=>s.id===a.id)?t=t.filter(s=>s.id!==a.id):t=[...t,a];function xt({nanniesCatalog:t}){const[a,n]=b.useState([]),[s,i]=b.useState(null),{userId:r,isLoggedIn:d,favoritesNannies:m}=V(c=>c.users),l=q(),_=b.useCallback((c,f)=>{if(i(f.id),!d){Y.warn("Please log in to continue.");return}const y=_t(m,f);l(U({userId:c,favoritesArray:y})).finally(()=>i(null)),l(E(y))},[l,m,d]),I=b.useCallback(c=>{n(f=>[...f,c.target.id])},[]);return e.jsx("ul",{className:o.list,children:t.map(c=>e.jsxs("li",{className:o.listItem,children:[e.jsxs("div",{className:o.imgSection,children:[e.jsx("img",{src:c.avatar_url,alt:c.name,className:o.image}),e.jsx("div",{className:o.status,children:e.jsx("div",{className:o.statusDisable})})]}),e.jsxs("div",{className:o.infoSection,children:[e.jsxs("div",{className:o.nameSection,children:[e.jsxs("div",{children:[e.jsx("span",{children:"Nanny"}),e.jsx("h2",{className:o.nannyName,children:c.name})]}),e.jsxs("div",{className:o.locationFavorite,children:[e.jsxs("div",{className:o.locationSection,children:[e.jsxs("span",{className:o.spanLocation,children:[e.jsx("svg",{className:o.iconSvg,children:e.jsx("use",{href:`${S}#icon-map`})}),e.jsx("span",{children:c.location})]}),e.jsxs("span",{className:o.spanLocation,children:[e.jsx("svg",{className:o.iconSvgStar,children:e.jsx("use",{href:`${S}#icon-star`})}),e.jsxs("span",{children:["Rating: ",c.rating]})]}),e.jsxs("span",{children:["Price / 1 hour:"," ",e.jsxs("span",{className:o.spanPrice,children:[c.price_per_hour,"$"]})]})]}),e.jsx("button",{type:"button",className:o.buttonFavorite,onClick:()=>_(r,c),children:e.jsx("svg",{className:`${o.iconSvgFavorite} 
                     ${s===c.id?o.animate:""}
                     ${m.some(f=>f.id===c.id)?o.isFavorite:""}                                
                    `,children:e.jsx("use",{href:`${S}#icon-heart`})})})]})]}),e.jsx(ht,{nanny:c}),e.jsx("p",{className:o.about,children:c.about}),a.includes(c.id)?e.jsx(Oe,{nanny:c}):e.jsx("button",{type:"button",id:c.id,className:o.buttonReadMore,onClick:I,"aria-label":"show reviews",children:"Read more"})]})]},c.id))})}export{xt as L};
