const __vite__fileDeps=["assets/HomePage-kGKRDn-c.js","assets/HomePage-CtkIIk3B.css","assets/NanniesPage-r-qMtLJA.js","assets/NanniesPage-CkQx_fIr.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var TA=Object.defineProperty;var SA=(t,e,n)=>e in t?TA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rh=(t,e,n)=>(SA(t,typeof e!="symbol"?e+"":e,n),n);function IA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ed(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function CA(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var XE={exports:{}},td={},JE={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl=Symbol.for("react.element"),AA=Symbol.for("react.portal"),RA=Symbol.for("react.fragment"),PA=Symbol.for("react.strict_mode"),kA=Symbol.for("react.profiler"),bA=Symbol.for("react.provider"),OA=Symbol.for("react.context"),xA=Symbol.for("react.forward_ref"),NA=Symbol.for("react.suspense"),DA=Symbol.for("react.memo"),LA=Symbol.for("react.lazy"),gv=Symbol.iterator;function MA(t){return t===null||typeof t!="object"?null:(t=gv&&t[gv]||t["@@iterator"],typeof t=="function"?t:null)}var ZE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ew=Object.assign,tw={};function go(t,e,n){this.props=t,this.context=e,this.refs=tw,this.updater=n||ZE}go.prototype.isReactComponent={};go.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};go.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nw(){}nw.prototype=go.prototype;function wm(t,e,n){this.props=t,this.context=e,this.refs=tw,this.updater=n||ZE}var Tm=wm.prototype=new nw;Tm.constructor=wm;ew(Tm,go.prototype);Tm.isPureReactComponent=!0;var yv=Array.isArray,rw=Object.prototype.hasOwnProperty,Sm={current:null},iw={key:!0,ref:!0,__self:!0,__source:!0};function sw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)rw.call(e,r)&&!iw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yl,type:t,key:s,ref:o,props:i,_owner:Sm.current}}function FA(t,e){return{$$typeof:yl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Im(t){return typeof t=="object"&&t!==null&&t.$$typeof===yl}function VA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var vv=/\/+/g;function Ph(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VA(""+t.key):e.toString(36)}function Ou(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yl:case AA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Ph(o,0):r,yv(i)?(n="",t!=null&&(n=t.replace(vv,"$&/")+"/"),Ou(i,e,n,"",function(c){return c})):i!=null&&(Im(i)&&(i=FA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(vv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yv(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Ph(s,a);o+=Ou(s,e,n,u,i)}else if(u=MA(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Ph(s,a++),o+=Ou(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function eu(t,e,n){if(t==null)return t;var r=[],i=0;return Ou(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $A(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kt={current:null},xu={transition:null},UA={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:xu,ReactCurrentOwner:Sm};function ow(){throw Error("act(...) is not supported in production builds of React.")}de.Children={map:eu,forEach:function(t,e,n){eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eu(t,function(){e++}),e},toArray:function(t){return eu(t,function(e){return e})||[]},only:function(t){if(!Im(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};de.Component=go;de.Fragment=RA;de.Profiler=kA;de.PureComponent=wm;de.StrictMode=PA;de.Suspense=NA;de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UA;de.act=ow;de.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ew({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Sm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)rw.call(e,u)&&!iw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:yl,type:t.type,key:i,ref:s,props:r,_owner:o}};de.createContext=function(t){return t={$$typeof:OA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bA,_context:t},t.Consumer=t};de.createElement=sw;de.createFactory=function(t){var e=sw.bind(null,t);return e.type=t,e};de.createRef=function(){return{current:null}};de.forwardRef=function(t){return{$$typeof:xA,render:t}};de.isValidElement=Im;de.lazy=function(t){return{$$typeof:LA,_payload:{_status:-1,_result:t},_init:$A}};de.memo=function(t,e){return{$$typeof:DA,type:t,compare:e===void 0?null:e}};de.startTransition=function(t){var e=xu.transition;xu.transition={};try{t()}finally{xu.transition=e}};de.unstable_act=ow;de.useCallback=function(t,e){return kt.current.useCallback(t,e)};de.useContext=function(t){return kt.current.useContext(t)};de.useDebugValue=function(){};de.useDeferredValue=function(t){return kt.current.useDeferredValue(t)};de.useEffect=function(t,e){return kt.current.useEffect(t,e)};de.useId=function(){return kt.current.useId()};de.useImperativeHandle=function(t,e,n){return kt.current.useImperativeHandle(t,e,n)};de.useInsertionEffect=function(t,e){return kt.current.useInsertionEffect(t,e)};de.useLayoutEffect=function(t,e){return kt.current.useLayoutEffect(t,e)};de.useMemo=function(t,e){return kt.current.useMemo(t,e)};de.useReducer=function(t,e,n){return kt.current.useReducer(t,e,n)};de.useRef=function(t){return kt.current.useRef(t)};de.useState=function(t){return kt.current.useState(t)};de.useSyncExternalStore=function(t,e,n){return kt.current.useSyncExternalStore(t,e,n)};de.useTransition=function(){return kt.current.useTransition()};de.version="18.3.1";JE.exports=de;var N=JE.exports;const we=ed(N),Pf=IA({__proto__:null,default:we},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA=N,zA=Symbol.for("react.element"),BA=Symbol.for("react.fragment"),HA=Object.prototype.hasOwnProperty,WA=jA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qA={key:!0,ref:!0,__self:!0,__source:!0};function aw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)HA.call(e,r)&&!qA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:zA,type:t,key:s,ref:o,props:i,_owner:WA.current}}td.Fragment=BA;td.jsx=aw;td.jsxs=aw;XE.exports=td;var z=XE.exports,kf={},lw={exports:{}},Jt={},uw={exports:{}},cw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,W){var G=$.length;$.push(W);e:for(;0<G;){var Z=G-1>>>1,ne=$[Z];if(0<i(ne,W))$[Z]=W,$[G]=ne,G=Z;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var W=$[0],G=$.pop();if(G!==W){$[0]=G;e:for(var Z=0,ne=$.length,oe=ne>>>1;Z<oe;){var _e=2*(Z+1)-1,Te=$[_e],Ue=_e+1,He=$[Ue];if(0>i(Te,G))Ue<ne&&0>i(He,Te)?($[Z]=He,$[Ue]=G,Z=Ue):($[Z]=Te,$[_e]=G,Z=_e);else if(Ue<ne&&0>i(He,G))$[Z]=He,$[Ue]=G,Z=Ue;else break e}}return W}function i($,W){var G=$.sortIndex-W.sortIndex;return G!==0?G:$.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,p=null,m=3,T=!1,I=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w($){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=$)r(c),W.sortIndex=W.expirationTime,e(u,W);else break;W=n(c)}}function b($){if(R=!1,w($),!I)if(n(u)!==null)I=!0,pe(V);else{var W=n(c);W!==null&&M(b,W.startTime-$)}}function V($,W){I=!1,R&&(R=!1,_(g),g=-1),T=!0;var G=m;try{for(w(W),p=n(u);p!==null&&(!(p.expirationTime>W)||$&&!P());){var Z=p.callback;if(typeof Z=="function"){p.callback=null,m=p.priorityLevel;var ne=Z(p.expirationTime<=W);W=t.unstable_now(),typeof ne=="function"?p.callback=ne:p===n(u)&&r(u),w(W)}else r(u);p=n(u)}if(p!==null)var oe=!0;else{var _e=n(c);_e!==null&&M(b,_e.startTime-W),oe=!1}return oe}finally{p=null,m=G,T=!1}}var D=!1,E=null,g=-1,S=5,C=-1;function P(){return!(t.unstable_now()-C<S)}function O(){if(E!==null){var $=t.unstable_now();C=$;var W=!0;try{W=E(!0,$)}finally{W?A():(D=!1,E=null)}}else D=!1}var A;if(typeof y=="function")A=function(){y(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,J=q.port2;q.port1.onmessage=O,A=function(){J.postMessage(null)}}else A=function(){k(O,0)};function pe($){E=$,D||(D=!0,A())}function M($,W){g=k(function(){$(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){I||T||(I=!0,pe(V))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var G=m;m=W;try{return $()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,W){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=m;m=$;try{return W()}finally{m=G}},t.unstable_scheduleCallback=function($,W,G){var Z=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?Z+G:Z):G=Z,$){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=G+ne,$={id:h++,callback:W,priorityLevel:$,startTime:G,expirationTime:ne,sortIndex:-1},G>Z?($.sortIndex=G,e(c,$),n(u)===null&&$===n(c)&&(R?(_(g),g=-1):R=!0,M(b,G-Z))):($.sortIndex=ne,e(u,$),I||T||(I=!0,pe(V))),$},t.unstable_shouldYield=P,t.unstable_wrapCallback=function($){var W=m;return function(){var G=m;m=W;try{return $.apply(this,arguments)}finally{m=G}}}})(cw);uw.exports=cw;var KA=uw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=N,Qt=KA;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dw=new Set,Fa={};function Ji(t,e){Ys(t,e),Ys(t+"Capture",e)}function Ys(t,e){for(Fa[t]=e,t=0;t<e.length;t++)dw.add(e[t])}var nr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bf=Object.prototype.hasOwnProperty,QA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_v={},Ev={};function YA(t){return bf.call(Ev,t)?!0:bf.call(_v,t)?!1:QA.test(t)?Ev[t]=!0:(_v[t]=!0,!1)}function XA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function JA(t,e,n,r){if(e===null||typeof e>"u"||XA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cm=/[\-:]([a-z])/g;function Am(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cm,Am);dt[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cm,Am);dt[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cm,Am);dt[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Rm(t,e,n,r){var i=dt.hasOwnProperty(e)?dt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(JA(e,n,i,r)&&(n=null),r||i===null?YA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ur=GA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tu=Symbol.for("react.element"),Es=Symbol.for("react.portal"),ws=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),Of=Symbol.for("react.profiler"),hw=Symbol.for("react.provider"),fw=Symbol.for("react.context"),km=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),Nf=Symbol.for("react.suspense_list"),bm=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),pw=Symbol.for("react.offscreen"),wv=Symbol.iterator;function Xo(t){return t===null||typeof t!="object"?null:(t=wv&&t[wv]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,kh;function aa(t){if(kh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kh=e&&e[1]||""}return`
`+kh+t}var bh=!1;function Oh(t,e){if(!t||bh)return"";bh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{bh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?aa(t):""}function ZA(t){switch(t.tag){case 5:return aa(t.type);case 16:return aa("Lazy");case 13:return aa("Suspense");case 19:return aa("SuspenseList");case 0:case 2:case 15:return t=Oh(t.type,!1),t;case 11:return t=Oh(t.type.render,!1),t;case 1:return t=Oh(t.type,!0),t;default:return""}}function Df(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ws:return"Fragment";case Es:return"Portal";case Of:return"Profiler";case Pm:return"StrictMode";case xf:return"Suspense";case Nf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case fw:return(t.displayName||"Context")+".Consumer";case hw:return(t._context.displayName||"Context")+".Provider";case km:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case bm:return e=t.displayName||null,e!==null?e:Df(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return Df(t(e))}catch{}}return null}function eR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Df(e);case 8:return e===Pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tR(t){var e=mw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nu(t){t._valueTracker||(t._valueTracker=tR(t))}function gw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lf(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Tv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yw(t,e){e=e.checked,e!=null&&Rm(t,"checked",e,!1)}function Mf(t,e){yw(t,e);var n=Qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ff(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ff(t,e,n){(e!=="number"||nc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var la=Array.isArray;function Fs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Iv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(la(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function vw(t,e){var n=Qr(e.value),r=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Cv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function _w(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?_w(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ru,Ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nR=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(t){nR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ya[e]=ya[t]})});function ww(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ya.hasOwnProperty(t)&&ya[t]?(""+e).trim():e+"px"}function Tw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ww(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rR=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uf(t,e){if(e){if(rR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function jf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zf=null;function Om(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bf=null,Vs=null,$s=null;function Av(t){if(t=El(t)){if(typeof Bf!="function")throw Error(j(280));var e=t.stateNode;e&&(e=od(e),Bf(t.stateNode,t.type,e))}}function Sw(t){Vs?$s?$s.push(t):$s=[t]:Vs=t}function Iw(){if(Vs){var t=Vs,e=$s;if($s=Vs=null,Av(t),e)for(t=0;t<e.length;t++)Av(e[t])}}function Cw(t,e){return t(e)}function Aw(){}var xh=!1;function Rw(t,e,n){if(xh)return t(e,n);xh=!0;try{return Cw(t,e,n)}finally{xh=!1,(Vs!==null||$s!==null)&&(Aw(),Iw())}}function $a(t,e){var n=t.stateNode;if(n===null)return null;var r=od(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Hf=!1;if(nr)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Hf=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Hf=!1}function iR(t,e,n,r,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var va=!1,rc=null,ic=!1,Wf=null,sR={onError:function(t){va=!0,rc=t}};function oR(t,e,n,r,i,s,o,a,u){va=!1,rc=null,iR.apply(sR,arguments)}function aR(t,e,n,r,i,s,o,a,u){if(oR.apply(this,arguments),va){if(va){var c=rc;va=!1,rc=null}else throw Error(j(198));ic||(ic=!0,Wf=c)}}function Zi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Rv(t){if(Zi(t)!==t)throw Error(j(188))}function lR(t){var e=t.alternate;if(!e){if(e=Zi(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Rv(i),t;if(s===r)return Rv(i),e;s=s.sibling}throw Error(j(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function kw(t){return t=lR(t),t!==null?bw(t):null}function bw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=bw(t);if(e!==null)return e;t=t.sibling}return null}var Ow=Qt.unstable_scheduleCallback,Pv=Qt.unstable_cancelCallback,uR=Qt.unstable_shouldYield,cR=Qt.unstable_requestPaint,qe=Qt.unstable_now,dR=Qt.unstable_getCurrentPriorityLevel,xm=Qt.unstable_ImmediatePriority,xw=Qt.unstable_UserBlockingPriority,sc=Qt.unstable_NormalPriority,hR=Qt.unstable_LowPriority,Nw=Qt.unstable_IdlePriority,nd=null,xn=null;function fR(t){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(nd,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:gR,pR=Math.log,mR=Math.LN2;function gR(t){return t>>>=0,t===0?32:31-(pR(t)/mR|0)|0}var iu=64,su=4194304;function ua(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function oc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=ua(a):(s&=o,s!==0&&(r=ua(s)))}else o=n&~i,o!==0?r=ua(o):s!==0&&(r=ua(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function yR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_n(s),a=1<<o,u=i[o];u===-1?(!(a&n)||a&r)&&(i[o]=yR(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function qf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Dw(){var t=iu;return iu<<=1,!(iu&4194240)&&(iu=64),t}function Nh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function _R(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function Lw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Mw,Dm,Fw,Vw,$w,Kf=!1,ou=[],Mr=null,Fr=null,Vr=null,Ua=new Map,ja=new Map,Sr=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kv(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Fr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Ua.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ja.delete(e.pointerId)}}function Zo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=El(e),e!==null&&Dm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wR(t,e,n,r,i){switch(e){case"focusin":return Mr=Zo(Mr,t,e,n,r,i),!0;case"dragenter":return Fr=Zo(Fr,t,e,n,r,i),!0;case"mouseover":return Vr=Zo(Vr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ua.set(s,Zo(Ua.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ja.set(s,Zo(ja.get(s)||null,t,e,n,r,i)),!0}return!1}function Uw(t){var e=Ti(t.target);if(e!==null){var n=Zi(e);if(n!==null){if(e=n.tag,e===13){if(e=Pw(n),e!==null){t.blockedOn=e,$w(t.priority,function(){Fw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zf=r,n.target.dispatchEvent(r),zf=null}else return e=El(n),e!==null&&Dm(e),t.blockedOn=n,!1;e.shift()}return!0}function bv(t,e,n){Nu(t)&&n.delete(e)}function TR(){Kf=!1,Mr!==null&&Nu(Mr)&&(Mr=null),Fr!==null&&Nu(Fr)&&(Fr=null),Vr!==null&&Nu(Vr)&&(Vr=null),Ua.forEach(bv),ja.forEach(bv)}function ea(t,e){t.blockedOn===e&&(t.blockedOn=null,Kf||(Kf=!0,Qt.unstable_scheduleCallback(Qt.unstable_NormalPriority,TR)))}function za(t){function e(i){return ea(i,t)}if(0<ou.length){ea(ou[0],t);for(var n=1;n<ou.length;n++){var r=ou[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&ea(Mr,t),Fr!==null&&ea(Fr,t),Vr!==null&&ea(Vr,t),Ua.forEach(e),ja.forEach(e),n=0;n<Sr.length;n++)r=Sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sr.length&&(n=Sr[0],n.blockedOn===null);)Uw(n),n.blockedOn===null&&Sr.shift()}var Us=ur.ReactCurrentBatchConfig,ac=!0;function SR(t,e,n,r){var i=Ie,s=Us.transition;Us.transition=null;try{Ie=1,Lm(t,e,n,r)}finally{Ie=i,Us.transition=s}}function IR(t,e,n,r){var i=Ie,s=Us.transition;Us.transition=null;try{Ie=4,Lm(t,e,n,r)}finally{Ie=i,Us.transition=s}}function Lm(t,e,n,r){if(ac){var i=Gf(t,e,n,r);if(i===null)Bh(t,e,r,lc,n),kv(t,r);else if(wR(i,t,e,n,r))r.stopPropagation();else if(kv(t,r),e&4&&-1<ER.indexOf(t)){for(;i!==null;){var s=El(i);if(s!==null&&Mw(s),s=Gf(t,e,n,r),s===null&&Bh(t,e,r,lc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Bh(t,e,r,null,n)}}var lc=null;function Gf(t,e,n,r){if(lc=null,t=Om(r),t=Ti(t),t!==null)if(e=Zi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lc=t,null}function jw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dR()){case xm:return 1;case xw:return 4;case sc:case hR:return 16;case Nw:return 536870912;default:return 16}default:return 16}}var kr=null,Mm=null,Du=null;function zw(){if(Du)return Du;var t,e=Mm,n=e.length,r,i="value"in kr?kr.value:kr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Du=i.slice(t,1<r?1-r:void 0)}function Lu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function au(){return!0}function Ov(){return!1}function Zt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?au:Ov,this.isPropagationStopped=Ov,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),e}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fm=Zt(yo),_l=$e({},yo,{view:0,detail:0}),CR=Zt(_l),Dh,Lh,ta,rd=$e({},_l,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ta&&(ta&&t.type==="mousemove"?(Dh=t.screenX-ta.screenX,Lh=t.screenY-ta.screenY):Lh=Dh=0,ta=t),Dh)},movementY:function(t){return"movementY"in t?t.movementY:Lh}}),xv=Zt(rd),AR=$e({},rd,{dataTransfer:0}),RR=Zt(AR),PR=$e({},_l,{relatedTarget:0}),Mh=Zt(PR),kR=$e({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),bR=Zt(kR),OR=$e({},yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xR=Zt(OR),NR=$e({},yo,{data:0}),Nv=Zt(NR),DR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MR[t])?!!e[t]:!1}function Vm(){return FR}var VR=$e({},_l,{key:function(t){if(t.key){var e=DR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vm,charCode:function(t){return t.type==="keypress"?Lu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$R=Zt(VR),UR=$e({},rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dv=Zt(UR),jR=$e({},_l,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vm}),zR=Zt(jR),BR=$e({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),HR=Zt(BR),WR=$e({},rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),qR=Zt(WR),KR=[9,13,27,32],$m=nr&&"CompositionEvent"in window,_a=null;nr&&"documentMode"in document&&(_a=document.documentMode);var GR=nr&&"TextEvent"in window&&!_a,Bw=nr&&(!$m||_a&&8<_a&&11>=_a),Lv=" ",Mv=!1;function Hw(t,e){switch(t){case"keyup":return KR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ww(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function QR(t,e){switch(t){case"compositionend":return Ww(e);case"keypress":return e.which!==32?null:(Mv=!0,Lv);case"textInput":return t=e.data,t===Lv&&Mv?null:t;default:return null}}function YR(t,e){if(Ts)return t==="compositionend"||!$m&&Hw(t,e)?(t=zw(),Du=Mm=kr=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Bw&&e.locale!=="ko"?null:e.data;default:return null}}var XR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!XR[t.type]:e==="textarea"}function qw(t,e,n,r){Sw(r),e=uc(e,"onChange"),0<e.length&&(n=new Fm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ea=null,Ba=null;function JR(t){rT(t,0)}function id(t){var e=Cs(t);if(gw(e))return t}function ZR(t,e){if(t==="change")return e}var Kw=!1;if(nr){var Fh;if(nr){var Vh="oninput"in document;if(!Vh){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),Vh=typeof Vv.oninput=="function"}Fh=Vh}else Fh=!1;Kw=Fh&&(!document.documentMode||9<document.documentMode)}function $v(){Ea&&(Ea.detachEvent("onpropertychange",Gw),Ba=Ea=null)}function Gw(t){if(t.propertyName==="value"&&id(Ba)){var e=[];qw(e,Ba,t,Om(t)),Rw(JR,e)}}function eP(t,e,n){t==="focusin"?($v(),Ea=e,Ba=n,Ea.attachEvent("onpropertychange",Gw)):t==="focusout"&&$v()}function tP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return id(Ba)}function nP(t,e){if(t==="click")return id(e)}function rP(t,e){if(t==="input"||t==="change")return id(e)}function iP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:iP;function Ha(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bf.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function Uv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jv(t,e){var n=Uv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uv(n)}}function Qw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Qw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Yw(){for(var t=window,e=nc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nc(t.document)}return e}function Um(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sP(t){var e=Yw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Qw(n.ownerDocument.documentElement,n)){if(r!==null&&Um(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=jv(n,s);var o=jv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oP=nr&&"documentMode"in document&&11>=document.documentMode,Ss=null,Qf=null,wa=null,Yf=!1;function zv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yf||Ss==null||Ss!==nc(r)||(r=Ss,"selectionStart"in r&&Um(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wa&&Ha(wa,r)||(wa=r,r=uc(Qf,"onSelect"),0<r.length&&(e=new Fm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Is={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},$h={},Xw={};nr&&(Xw=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function sd(t){if($h[t])return $h[t];if(!Is[t])return t;var e=Is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Xw)return $h[t]=e[n];return t}var Jw=sd("animationend"),Zw=sd("animationiteration"),eT=sd("animationstart"),tT=sd("transitionend"),nT=new Map,Bv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,e){nT.set(t,e),Ji(e,[t])}for(var Uh=0;Uh<Bv.length;Uh++){var jh=Bv[Uh],aP=jh.toLowerCase(),lP=jh[0].toUpperCase()+jh.slice(1);ri(aP,"on"+lP)}ri(Jw,"onAnimationEnd");ri(Zw,"onAnimationIteration");ri(eT,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(tT,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ca="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ca));function Hv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,aR(r,e,void 0,t),t.currentTarget=null}function rT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Hv(i,a,c),s=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Hv(i,a,c),s=u}}}if(ic)throw t=Wf,ic=!1,Wf=null,t}function be(t,e){var n=e[tp];n===void 0&&(n=e[tp]=new Set);var r=t+"__bubble";n.has(r)||(iT(e,t,2,!1),n.add(r))}function zh(t,e,n){var r=0;e&&(r|=4),iT(n,t,r,e)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Wa(t){if(!t[uu]){t[uu]=!0,dw.forEach(function(n){n!=="selectionchange"&&(uP.has(n)||zh(n,!1,t),zh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uu]||(e[uu]=!0,zh("selectionchange",!1,e))}}function iT(t,e,n,r){switch(jw(e)){case 1:var i=SR;break;case 4:i=IR;break;default:i=Lm}n=i.bind(null,e,n,t),i=void 0,!Hf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Bh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ti(a),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Rw(function(){var c=s,h=Om(n),p=[];e:{var m=nT.get(t);if(m!==void 0){var T=Fm,I=t;switch(t){case"keypress":if(Lu(n)===0)break e;case"keydown":case"keyup":T=$R;break;case"focusin":I="focus",T=Mh;break;case"focusout":I="blur",T=Mh;break;case"beforeblur":case"afterblur":T=Mh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=xv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=RR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=zR;break;case Jw:case Zw:case eT:T=bR;break;case tT:T=HR;break;case"scroll":T=CR;break;case"wheel":T=qR;break;case"copy":case"cut":case"paste":T=xR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Dv}var R=(e&4)!==0,k=!R&&t==="scroll",_=R?m!==null?m+"Capture":null:m;R=[];for(var y=c,w;y!==null;){w=y;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,_!==null&&(b=$a(y,_),b!=null&&R.push(qa(y,b,w)))),k)break;y=y.return}0<R.length&&(m=new T(m,I,null,n,h),p.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",m&&n!==zf&&(I=n.relatedTarget||n.fromElement)&&(Ti(I)||I[rr]))break e;if((T||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,T?(I=n.relatedTarget||n.toElement,T=c,I=I?Ti(I):null,I!==null&&(k=Zi(I),I!==k||I.tag!==5&&I.tag!==6)&&(I=null)):(T=null,I=c),T!==I)){if(R=xv,b="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(R=Dv,b="onPointerLeave",_="onPointerEnter",y="pointer"),k=T==null?m:Cs(T),w=I==null?m:Cs(I),m=new R(b,y+"leave",T,n,h),m.target=k,m.relatedTarget=w,b=null,Ti(h)===c&&(R=new R(_,y+"enter",I,n,h),R.target=w,R.relatedTarget=k,b=R),k=b,T&&I)t:{for(R=T,_=I,y=0,w=R;w;w=ms(w))y++;for(w=0,b=_;b;b=ms(b))w++;for(;0<y-w;)R=ms(R),y--;for(;0<w-y;)_=ms(_),w--;for(;y--;){if(R===_||_!==null&&R===_.alternate)break t;R=ms(R),_=ms(_)}R=null}else R=null;T!==null&&Wv(p,m,T,R,!1),I!==null&&k!==null&&Wv(p,k,I,R,!0)}}e:{if(m=c?Cs(c):window,T=m.nodeName&&m.nodeName.toLowerCase(),T==="select"||T==="input"&&m.type==="file")var V=ZR;else if(Fv(m))if(Kw)V=rP;else{V=tP;var D=eP}else(T=m.nodeName)&&T.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(V=nP);if(V&&(V=V(t,c))){qw(p,V,n,h);break e}D&&D(t,m,c),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&Ff(m,"number",m.value)}switch(D=c?Cs(c):window,t){case"focusin":(Fv(D)||D.contentEditable==="true")&&(Ss=D,Qf=c,wa=null);break;case"focusout":wa=Qf=Ss=null;break;case"mousedown":Yf=!0;break;case"contextmenu":case"mouseup":case"dragend":Yf=!1,zv(p,n,h);break;case"selectionchange":if(oP)break;case"keydown":case"keyup":zv(p,n,h)}var E;if($m)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ts?Hw(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(Bw&&n.locale!=="ko"&&(Ts||g!=="onCompositionStart"?g==="onCompositionEnd"&&Ts&&(E=zw()):(kr=h,Mm="value"in kr?kr.value:kr.textContent,Ts=!0)),D=uc(c,g),0<D.length&&(g=new Nv(g,t,null,n,h),p.push({event:g,listeners:D}),E?g.data=E:(E=Ww(n),E!==null&&(g.data=E)))),(E=GR?QR(t,n):YR(t,n))&&(c=uc(c,"onBeforeInput"),0<c.length&&(h=new Nv("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=E))}rT(p,e)})}function qa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function uc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=$a(t,n),s!=null&&r.unshift(qa(t,s,i)),s=$a(t,e),s!=null&&r.push(qa(t,s,i))),t=t.return}return r}function ms(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=$a(n,s),u!=null&&o.unshift(qa(n,u,a))):i||(u=$a(n,s),u!=null&&o.push(qa(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var cP=/\r\n?/g,dP=/\u0000|\uFFFD/g;function qv(t){return(typeof t=="string"?t:""+t).replace(cP,`
`).replace(dP,"")}function cu(t,e,n){if(e=qv(e),qv(t)!==e&&n)throw Error(j(425))}function cc(){}var Xf=null,Jf=null;function Zf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ep=typeof setTimeout=="function"?setTimeout:void 0,hP=typeof clearTimeout=="function"?clearTimeout:void 0,Kv=typeof Promise=="function"?Promise:void 0,fP=typeof queueMicrotask=="function"?queueMicrotask:typeof Kv<"u"?function(t){return Kv.resolve(null).then(t).catch(pP)}:ep;function pP(t){setTimeout(function(){throw t})}function Hh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),za(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);za(e)}function $r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Gv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vo=Math.random().toString(36).slice(2),kn="__reactFiber$"+vo,Ka="__reactProps$"+vo,rr="__reactContainer$"+vo,tp="__reactEvents$"+vo,mP="__reactListeners$"+vo,gP="__reactHandles$"+vo;function Ti(t){var e=t[kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rr]||n[kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Gv(t);t!==null;){if(n=t[kn])return n;t=Gv(t)}return e}t=n,n=t.parentNode}return null}function El(t){return t=t[kn]||t[rr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function od(t){return t[Ka]||null}var np=[],As=-1;function ii(t){return{current:t}}function Ne(t){0>As||(t.current=np[As],np[As]=null,As--)}function Pe(t,e){As++,np[As]=t.current,t.current=e}var Yr={},Tt=ii(Yr),Mt=ii(!1),Mi=Yr;function Xs(t,e){var n=t.type.contextTypes;if(!n)return Yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ft(t){return t=t.childContextTypes,t!=null}function dc(){Ne(Mt),Ne(Tt)}function Qv(t,e,n){if(Tt.current!==Yr)throw Error(j(168));Pe(Tt,e),Pe(Mt,n)}function sT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(j(108,eR(t)||"Unknown",i));return $e({},n,r)}function hc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yr,Mi=Tt.current,Pe(Tt,t),Pe(Mt,Mt.current),!0}function Yv(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=sT(t,e,Mi),r.__reactInternalMemoizedMergedChildContext=t,Ne(Mt),Ne(Tt),Pe(Tt,t)):Ne(Mt),Pe(Mt,n)}var qn=null,ad=!1,Wh=!1;function oT(t){qn===null?qn=[t]:qn.push(t)}function yP(t){ad=!0,oT(t)}function si(){if(!Wh&&qn!==null){Wh=!0;var t=0,e=Ie;try{var n=qn;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qn=null,ad=!1}catch(i){throw qn!==null&&(qn=qn.slice(t+1)),Ow(xm,si),i}finally{Ie=e,Wh=!1}}return null}var Rs=[],Ps=0,fc=null,pc=0,sn=[],on=0,Fi=null,Gn=1,Qn="";function mi(t,e){Rs[Ps++]=pc,Rs[Ps++]=fc,fc=t,pc=e}function aT(t,e,n){sn[on++]=Gn,sn[on++]=Qn,sn[on++]=Fi,Fi=t;var r=Gn;t=Qn;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var s=32-_n(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gn=1<<32-_n(e)+i|n<<i|r,Qn=s+t}else Gn=1<<s|n<<i|r,Qn=t}function jm(t){t.return!==null&&(mi(t,1),aT(t,1,0))}function zm(t){for(;t===fc;)fc=Rs[--Ps],Rs[Ps]=null,pc=Rs[--Ps],Rs[Ps]=null;for(;t===Fi;)Fi=sn[--on],sn[on]=null,Qn=sn[--on],sn[on]=null,Gn=sn[--on],sn[on]=null}var Gt=null,Wt=null,De=!1,yn=null;function lT(t,e){var n=ln(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Xv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Gt=t,Wt=$r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Gt=t,Wt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fi!==null?{id:Gn,overflow:Qn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ln(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Gt=t,Wt=null,!0):!1;default:return!1}}function rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ip(t){if(De){var e=Wt;if(e){var n=e;if(!Xv(t,e)){if(rp(t))throw Error(j(418));e=$r(n.nextSibling);var r=Gt;e&&Xv(t,e)?lT(r,n):(t.flags=t.flags&-4097|2,De=!1,Gt=t)}}else{if(rp(t))throw Error(j(418));t.flags=t.flags&-4097|2,De=!1,Gt=t}}}function Jv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Gt=t}function du(t){if(t!==Gt)return!1;if(!De)return Jv(t),De=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zf(t.type,t.memoizedProps)),e&&(e=Wt)){if(rp(t))throw uT(),Error(j(418));for(;e;)lT(t,e),e=$r(e.nextSibling)}if(Jv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Wt=$r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Wt=null}}else Wt=Gt?$r(t.stateNode.nextSibling):null;return!0}function uT(){for(var t=Wt;t;)t=$r(t.nextSibling)}function Js(){Wt=Gt=null,De=!1}function Bm(t){yn===null?yn=[t]:yn.push(t)}var vP=ur.ReactCurrentBatchConfig;function na(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function hu(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zv(t){var e=t._init;return e(t._payload)}function cT(t){function e(_,y){if(t){var w=_.deletions;w===null?(_.deletions=[y],_.flags|=16):w.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function i(_,y){return _=Br(_,y),_.index=0,_.sibling=null,_}function s(_,y,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<y?(_.flags|=2,y):w):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,w,b){return y===null||y.tag!==6?(y=Jh(w,_.mode,b),y.return=_,y):(y=i(y,w),y.return=_,y)}function u(_,y,w,b){var V=w.type;return V===ws?h(_,y,w.props.children,b,w.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wr&&Zv(V)===y.type)?(b=i(y,w.props),b.ref=na(_,y,w),b.return=_,b):(b=zu(w.type,w.key,w.props,null,_.mode,b),b.ref=na(_,y,w),b.return=_,b)}function c(_,y,w,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Zh(w,_.mode,b),y.return=_,y):(y=i(y,w.children||[]),y.return=_,y)}function h(_,y,w,b,V){return y===null||y.tag!==7?(y=Pi(w,_.mode,b,V),y.return=_,y):(y=i(y,w),y.return=_,y)}function p(_,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Jh(""+y,_.mode,w),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tu:return w=zu(y.type,y.key,y.props,null,_.mode,w),w.ref=na(_,null,y),w.return=_,w;case Es:return y=Zh(y,_.mode,w),y.return=_,y;case wr:var b=y._init;return p(_,b(y._payload),w)}if(la(y)||Xo(y))return y=Pi(y,_.mode,w,null),y.return=_,y;hu(_,y)}return null}function m(_,y,w,b){var V=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return V!==null?null:a(_,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tu:return w.key===V?u(_,y,w,b):null;case Es:return w.key===V?c(_,y,w,b):null;case wr:return V=w._init,m(_,y,V(w._payload),b)}if(la(w)||Xo(w))return V!==null?null:h(_,y,w,b,null);hu(_,w)}return null}function T(_,y,w,b,V){if(typeof b=="string"&&b!==""||typeof b=="number")return _=_.get(w)||null,a(y,_,""+b,V);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case tu:return _=_.get(b.key===null?w:b.key)||null,u(y,_,b,V);case Es:return _=_.get(b.key===null?w:b.key)||null,c(y,_,b,V);case wr:var D=b._init;return T(_,y,w,D(b._payload),V)}if(la(b)||Xo(b))return _=_.get(w)||null,h(y,_,b,V,null);hu(y,b)}return null}function I(_,y,w,b){for(var V=null,D=null,E=y,g=y=0,S=null;E!==null&&g<w.length;g++){E.index>g?(S=E,E=null):S=E.sibling;var C=m(_,E,w[g],b);if(C===null){E===null&&(E=S);break}t&&E&&C.alternate===null&&e(_,E),y=s(C,y,g),D===null?V=C:D.sibling=C,D=C,E=S}if(g===w.length)return n(_,E),De&&mi(_,g),V;if(E===null){for(;g<w.length;g++)E=p(_,w[g],b),E!==null&&(y=s(E,y,g),D===null?V=E:D.sibling=E,D=E);return De&&mi(_,g),V}for(E=r(_,E);g<w.length;g++)S=T(E,_,g,w[g],b),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?g:S.key),y=s(S,y,g),D===null?V=S:D.sibling=S,D=S);return t&&E.forEach(function(P){return e(_,P)}),De&&mi(_,g),V}function R(_,y,w,b){var V=Xo(w);if(typeof V!="function")throw Error(j(150));if(w=V.call(w),w==null)throw Error(j(151));for(var D=V=null,E=y,g=y=0,S=null,C=w.next();E!==null&&!C.done;g++,C=w.next()){E.index>g?(S=E,E=null):S=E.sibling;var P=m(_,E,C.value,b);if(P===null){E===null&&(E=S);break}t&&E&&P.alternate===null&&e(_,E),y=s(P,y,g),D===null?V=P:D.sibling=P,D=P,E=S}if(C.done)return n(_,E),De&&mi(_,g),V;if(E===null){for(;!C.done;g++,C=w.next())C=p(_,C.value,b),C!==null&&(y=s(C,y,g),D===null?V=C:D.sibling=C,D=C);return De&&mi(_,g),V}for(E=r(_,E);!C.done;g++,C=w.next())C=T(E,_,g,C.value,b),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?g:C.key),y=s(C,y,g),D===null?V=C:D.sibling=C,D=C);return t&&E.forEach(function(O){return e(_,O)}),De&&mi(_,g),V}function k(_,y,w,b){if(typeof w=="object"&&w!==null&&w.type===ws&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case tu:e:{for(var V=w.key,D=y;D!==null;){if(D.key===V){if(V=w.type,V===ws){if(D.tag===7){n(_,D.sibling),y=i(D,w.props.children),y.return=_,_=y;break e}}else if(D.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wr&&Zv(V)===D.type){n(_,D.sibling),y=i(D,w.props),y.ref=na(_,D,w),y.return=_,_=y;break e}n(_,D);break}else e(_,D);D=D.sibling}w.type===ws?(y=Pi(w.props.children,_.mode,b,w.key),y.return=_,_=y):(b=zu(w.type,w.key,w.props,null,_.mode,b),b.ref=na(_,y,w),b.return=_,_=b)}return o(_);case Es:e:{for(D=w.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(_,y.sibling),y=i(y,w.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Zh(w,_.mode,b),y.return=_,_=y}return o(_);case wr:return D=w._init,k(_,y,D(w._payload),b)}if(la(w))return I(_,y,w,b);if(Xo(w))return R(_,y,w,b);hu(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(_,y.sibling),y=i(y,w),y.return=_,_=y):(n(_,y),y=Jh(w,_.mode,b),y.return=_,_=y),o(_)):n(_,y)}return k}var Zs=cT(!0),dT=cT(!1),mc=ii(null),gc=null,ks=null,Hm=null;function Wm(){Hm=ks=gc=null}function qm(t){var e=mc.current;Ne(mc),t._currentValue=e}function sp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function js(t,e){gc=t,Hm=ks=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function cn(t){var e=t._currentValue;if(Hm!==t)if(t={context:t,memoizedValue:e,next:null},ks===null){if(gc===null)throw Error(j(308));ks=t,gc.dependencies={lanes:0,firstContext:t}}else ks=ks.next=t;return e}var Si=null;function Km(t){Si===null?Si=[t]:Si.push(t)}function hT(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Km(e)):(n.next=i.next,i.next=n),e.interleaved=n,ir(t,r)}function ir(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tr=!1;function Gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ur(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ir(t,n)}return i=r.interleaved,i===null?(e.next=e,Km(r)):(e.next=i.next,i.next=e),r.interleaved=e,ir(t,n)}function Mu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}function e_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yc(t,e,n,r){var i=t.updateQueue;Tr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,h=c=u=null,a=s;do{var m=a.lane,T=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:T,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var I=t,R=a;switch(m=e,T=n,R.tag){case 1:if(I=R.payload,typeof I=="function"){p=I.call(T,p,m);break e}p=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=R.payload,m=typeof I=="function"?I.call(T,p,m):I,m==null)break e;p=$e({},p,m);break e;case 2:Tr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else T={eventTime:T,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=T,u=p):h=h.next=T,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);$i|=o,t.lanes=o,t.memoizedState=p}}function t_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(j(191,i));i.call(r)}}}var wl={},Nn=ii(wl),Ga=ii(wl),Qa=ii(wl);function Ii(t){if(t===wl)throw Error(j(174));return t}function Qm(t,e){switch(Pe(Qa,e),Pe(Ga,t),Pe(Nn,wl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$f(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$f(e,t)}Ne(Nn),Pe(Nn,e)}function eo(){Ne(Nn),Ne(Ga),Ne(Qa)}function pT(t){Ii(Qa.current);var e=Ii(Nn.current),n=$f(e,t.type);e!==n&&(Pe(Ga,t),Pe(Nn,n))}function Ym(t){Ga.current===t&&(Ne(Nn),Ne(Ga))}var Me=ii(0);function vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qh=[];function Xm(){for(var t=0;t<qh.length;t++)qh[t]._workInProgressVersionPrimary=null;qh.length=0}var Fu=ur.ReactCurrentDispatcher,Kh=ur.ReactCurrentBatchConfig,Vi=0,Fe=null,Je=null,nt=null,_c=!1,Ta=!1,Ya=0,_P=0;function mt(){throw Error(j(321))}function Jm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Zm(t,e,n,r,i,s){if(Vi=s,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fu.current=t===null||t.memoizedState===null?SP:IP,t=n(r,i),Ta){s=0;do{if(Ta=!1,Ya=0,25<=s)throw Error(j(301));s+=1,nt=Je=null,e.updateQueue=null,Fu.current=CP,t=n(r,i)}while(Ta)}if(Fu.current=Ec,e=Je!==null&&Je.next!==null,Vi=0,nt=Je=Fe=null,_c=!1,e)throw Error(j(300));return t}function eg(){var t=Ya!==0;return Ya=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nt===null?Fe.memoizedState=nt=t:nt=nt.next=t,nt}function dn(){if(Je===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=nt===null?Fe.memoizedState:nt.next;if(e!==null)nt=e,Je=t;else{if(t===null)throw Error(j(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},nt===null?Fe.memoizedState=nt=t:nt=nt.next=t}return nt}function Xa(t,e){return typeof e=="function"?e(t):e}function Gh(t){var e=dn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=Je,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((Vi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=r):u=u.next=p,Fe.lanes|=h,$i|=h}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=a,Tn(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Fe.lanes|=s,$i|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qh(t){var e=dn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tn(s,e.memoizedState)||(Lt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mT(){}function gT(t,e){var n=Fe,r=dn(),i=e(),s=!Tn(r.memoizedState,i);if(s&&(r.memoizedState=i,Lt=!0),r=r.queue,tg(_T.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nt!==null&&nt.memoizedState.tag&1){if(n.flags|=2048,Ja(9,vT.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(j(349));Vi&30||yT(n,e,i)}return i}function yT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function vT(t,e,n,r){e.value=n,e.getSnapshot=r,ET(e)&&wT(t)}function _T(t,e,n){return n(function(){ET(e)&&wT(t)})}function ET(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function wT(t){var e=ir(t,1);e!==null&&En(e,t,1,-1)}function n_(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:t},e.queue=t,t=t.dispatch=TP.bind(null,Fe,t),[e.memoizedState,t]}function Ja(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function TT(){return dn().memoizedState}function Vu(t,e,n,r){var i=Rn();Fe.flags|=t,i.memoizedState=Ja(1|e,n,void 0,r===void 0?null:r)}function ld(t,e,n,r){var i=dn();r=r===void 0?null:r;var s=void 0;if(Je!==null){var o=Je.memoizedState;if(s=o.destroy,r!==null&&Jm(r,o.deps)){i.memoizedState=Ja(e,n,s,r);return}}Fe.flags|=t,i.memoizedState=Ja(1|e,n,s,r)}function r_(t,e){return Vu(8390656,8,t,e)}function tg(t,e){return ld(2048,8,t,e)}function ST(t,e){return ld(4,2,t,e)}function IT(t,e){return ld(4,4,t,e)}function CT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AT(t,e,n){return n=n!=null?n.concat([t]):null,ld(4,4,CT.bind(null,e,t),n)}function ng(){}function RT(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function PT(t,e){var n=dn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kT(t,e,n){return Vi&21?(Tn(n,e)||(n=Dw(),Fe.lanes|=n,$i|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function EP(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=Kh.transition;Kh.transition={};try{t(!1),e()}finally{Ie=n,Kh.transition=r}}function bT(){return dn().memoizedState}function wP(t,e,n){var r=zr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OT(t))xT(e,n);else if(n=hT(t,e,n,r),n!==null){var i=Pt();En(n,t,r,i),NT(n,e,r)}}function TP(t,e,n){var r=zr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OT(t))xT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Tn(a,o)){var u=e.interleaved;u===null?(i.next=i,Km(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=hT(t,e,i,r),n!==null&&(i=Pt(),En(n,t,r,i),NT(n,e,r))}}function OT(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function xT(t,e){Ta=_c=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function NT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}var Ec={readContext:cn,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useInsertionEffect:mt,useLayoutEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useMutableSource:mt,useSyncExternalStore:mt,useId:mt,unstable_isNewReconciler:!1},SP={readContext:cn,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:cn,useEffect:r_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vu(4194308,4,CT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vu(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wP.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:n_,useDebugValue:ng,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=n_(!1),e=t[0];return t=EP.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=Rn();if(De){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),rt===null)throw Error(j(349));Vi&30||yT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,r_(_T.bind(null,r,s,t),[t]),r.flags|=2048,Ja(9,vT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Rn(),e=rt.identifierPrefix;if(De){var n=Qn,r=Gn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ya++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=_P++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IP={readContext:cn,useCallback:RT,useContext:cn,useEffect:tg,useImperativeHandle:AT,useInsertionEffect:ST,useLayoutEffect:IT,useMemo:PT,useReducer:Gh,useRef:TT,useState:function(){return Gh(Xa)},useDebugValue:ng,useDeferredValue:function(t){var e=dn();return kT(e,Je.memoizedState,t)},useTransition:function(){var t=Gh(Xa)[0],e=dn().memoizedState;return[t,e]},useMutableSource:mT,useSyncExternalStore:gT,useId:bT,unstable_isNewReconciler:!1},CP={readContext:cn,useCallback:RT,useContext:cn,useEffect:tg,useImperativeHandle:AT,useInsertionEffect:ST,useLayoutEffect:IT,useMemo:PT,useReducer:Qh,useRef:TT,useState:function(){return Qh(Xa)},useDebugValue:ng,useDeferredValue:function(t){var e=dn();return Je===null?e.memoizedState=t:kT(e,Je.memoizedState,t)},useTransition:function(){var t=Qh(Xa)[0],e=dn().memoizedState;return[t,e]},useMutableSource:mT,useSyncExternalStore:gT,useId:bT,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function op(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ud={isMounted:function(t){return(t=t._reactInternals)?Zi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=zr(t),s=Zn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(En(e,t,i,r),Mu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=zr(t),s=Zn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ur(t,s,i),e!==null&&(En(e,t,i,r),Mu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=zr(t),i=Zn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ur(t,i,r),e!==null&&(En(e,t,r,n),Mu(e,t,r))}};function i_(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ha(n,r)||!Ha(i,s):!0}function DT(t,e,n){var r=!1,i=Yr,s=e.contextType;return typeof s=="object"&&s!==null?s=cn(s):(i=Ft(e)?Mi:Tt.current,r=e.contextTypes,s=(r=r!=null)?Xs(t,i):Yr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ud,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function s_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ud.enqueueReplaceState(e,e.state,null)}function ap(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=cn(s):(s=Ft(e)?Mi:Tt.current,i.context=Xs(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(op(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ud.enqueueReplaceState(i,i.state,null),yc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function to(t,e){try{var n="",r=e;do n+=ZA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Yh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var AP=typeof WeakMap=="function"?WeakMap:Map;function LT(t,e,n){n=Zn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Tc||(Tc=!0,vp=r),lp(t,e)},n}function MT(t,e,n){n=Zn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){lp(t,e),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function o_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new AP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=UP.bind(null,t,e,n),e.then(t,t))}function a_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l_(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zn(-1,1),e.tag=2,Ur(n,e,1))),n.lanes|=1),t)}var RP=ur.ReactCurrentOwner,Lt=!1;function Ct(t,e,n,r){e.child=t===null?dT(e,null,n,r):Zs(e,t.child,n,r)}function u_(t,e,n,r,i){n=n.render;var s=e.ref;return js(e,i),r=Zm(t,e,n,r,s,i),n=eg(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(De&&n&&jm(e),e.flags|=1,Ct(t,e,r,i),e.child)}function c_(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,FT(t,e,s,r,i)):(t=zu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ha,n(o,r)&&t.ref===e.ref)return sr(t,e,i)}return e.flags|=1,t=Br(s,r),t.ref=e.ref,t.return=e,e.child=t}function FT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ha(s,r)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,sr(t,e,i)}return up(t,e,n,r,i)}function VT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(Os,Ht),Ht|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(Os,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Pe(Os,Ht),Ht|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Pe(Os,Ht),Ht|=r;return Ct(t,e,i,n),e.child}function $T(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function up(t,e,n,r,i){var s=Ft(n)?Mi:Tt.current;return s=Xs(e,s),js(e,i),n=Zm(t,e,n,r,s,i),r=eg(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(De&&r&&jm(e),e.flags|=1,Ct(t,e,n,i),e.child)}function d_(t,e,n,r,i){if(Ft(n)){var s=!0;hc(e)}else s=!1;if(js(e,i),e.stateNode===null)$u(t,e),DT(e,n,r),ap(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=cn(c):(c=Ft(n)?Mi:Tt.current,c=Xs(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&s_(e,o,r,c),Tr=!1;var m=e.memoizedState;o.state=m,yc(e,r,o,i),u=e.memoizedState,a!==r||m!==u||Mt.current||Tr?(typeof h=="function"&&(op(e,n,h,r),u=e.memoizedState),(a=Tr||i_(e,n,a,r,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,fT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pn(e.type,a),o.props=c,p=e.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=cn(u):(u=Ft(n)?Mi:Tt.current,u=Xs(e,u));var T=n.getDerivedStateFromProps;(h=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==u)&&s_(e,o,r,u),Tr=!1,m=e.memoizedState,o.state=m,yc(e,r,o,i);var I=e.memoizedState;a!==p||m!==I||Mt.current||Tr?(typeof T=="function"&&(op(e,n,T,r),I=e.memoizedState),(c=Tr||i_(e,n,c,r,m,I,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return cp(t,e,n,r,s,i)}function cp(t,e,n,r,i,s){$T(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Yv(e,n,!1),sr(t,e,s);r=e.stateNode,RP.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zs(e,t.child,null,s),e.child=Zs(e,null,a,s)):Ct(t,e,a,s),e.memoizedState=r.state,i&&Yv(e,n,!0),e.child}function UT(t){var e=t.stateNode;e.pendingContext?Qv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Qv(t,e.context,!1),Qm(t,e.containerInfo)}function h_(t,e,n,r,i){return Js(),Bm(i),e.flags|=256,Ct(t,e,n,r),e.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function jT(t,e,n){var r=e.pendingProps,i=Me.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Me,i&1),t===null)return ip(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=hd(o,r,0,null),t=Pi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=hp(n),e.memoizedState=dp,t):rg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return PP(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Br(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Br(a,s):(s=Pi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?hp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=dp,r}return s=t.child,t=s.sibling,r=Br(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rg(t,e){return e=hd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fu(t,e,n,r){return r!==null&&Bm(r),Zs(e,t.child,null,n),t=rg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function PP(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Yh(Error(j(422))),fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=hd({mode:"visible",children:r.children},i,0,null),s=Pi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Zs(e,t.child,null,o),e.child.memoizedState=hp(o),e.memoizedState=dp,s);if(!(e.mode&1))return fu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(j(419)),r=Yh(s,r,void 0),fu(t,e,o,r)}if(a=(o&t.childLanes)!==0,Lt||a){if(r=rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ir(t,i),En(r,t,i,-1))}return ug(),r=Yh(Error(j(421))),fu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Wt=$r(i.nextSibling),Gt=e,De=!0,yn=null,t!==null&&(sn[on++]=Gn,sn[on++]=Qn,sn[on++]=Fi,Gn=t.id,Qn=t.overflow,Fi=e),e=rg(e,r.children),e.flags|=4096,e)}function f_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sp(t.return,e,n)}function Xh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function zT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Ct(t,e,r.children,n),r=Me.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f_(t,n,e);else if(t.tag===19)f_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Me,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&vc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&vc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xh(e,!0,n,null,s);break;case"together":Xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $u(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),$i|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Br(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Br(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kP(t,e,n){switch(e.tag){case 3:UT(e),Js();break;case 5:pT(e);break;case 1:Ft(e.type)&&hc(e);break;case 4:Qm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(mc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Me,Me.current&1),e.flags|=128,null):n&e.child.childLanes?jT(t,e,n):(Pe(Me,Me.current&1),t=sr(t,e,n),t!==null?t.sibling:null);Pe(Me,Me.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return zT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Me,Me.current),r)break;return null;case 22:case 23:return e.lanes=0,VT(t,e,n)}return sr(t,e,n)}var BT,fp,HT,WT;BT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fp=function(){};HT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ii(Nn.current);var s=null;switch(n){case"input":i=Lf(t,i),r=Lf(t,r),s=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),s=[];break;case"textarea":i=Vf(t,i),r=Vf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cc)}Uf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fa.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&be("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};WT=function(t,e,n,r){n!==r&&(e.flags|=4)};function ra(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bP(t,e,n){var r=e.pendingProps;switch(zm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(e),null;case 1:return Ft(e.type)&&dc(),gt(e),null;case 3:return r=e.stateNode,eo(),Ne(Mt),Ne(Tt),Xm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yn!==null&&(wp(yn),yn=null))),fp(t,e),gt(e),null;case 5:Ym(e);var i=Ii(Qa.current);if(n=e.type,t!==null&&e.stateNode!=null)HT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return gt(e),null}if(t=Ii(Nn.current),du(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kn]=e,r[Ka]=s,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<ca.length;i++)be(ca[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":Tv(r,s),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},be("invalid",r);break;case"textarea":Iv(r,s),be("invalid",r)}Uf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&cu(r.textContent,a,t),i=["children",""+a]):Fa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":nu(r),Sv(r,s,!0);break;case"textarea":nu(r),Cv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=cc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=_w(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kn]=e,t[Ka]=r,BT(t,e,!1,!1),e.stateNode=t;e:{switch(o=jf(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<ca.length;i++)be(ca[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":Tv(t,r),i=Lf(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),be("invalid",t);break;case"textarea":Iv(t,r),i=Vf(t,r),be("invalid",t);break;default:i=r}Uf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Tw(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Ew(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Va(t,u):typeof u=="number"&&Va(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fa.hasOwnProperty(s)?u!=null&&s==="onScroll"&&be("scroll",t):u!=null&&Rm(t,s,u,o))}switch(n){case"input":nu(t),Sv(t,r,!1);break;case"textarea":nu(t),Cv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qr(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fs(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gt(e),null;case 6:if(t&&e.stateNode!=null)WT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Ii(Qa.current),Ii(Nn.current),du(e)){if(r=e.stateNode,n=e.memoizedProps,r[kn]=e,(s=r.nodeValue!==n)&&(t=Gt,t!==null))switch(t.tag){case 3:cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kn]=e,e.stateNode=r}return gt(e),null;case 13:if(Ne(Me),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(De&&Wt!==null&&e.mode&1&&!(e.flags&128))uT(),Js(),e.flags|=98560,s=!1;else if(s=du(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(j(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(j(317));s[kn]=e}else Js(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gt(e),s=!1}else yn!==null&&(wp(yn),yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Me.current&1?et===0&&(et=3):ug())),e.updateQueue!==null&&(e.flags|=4),gt(e),null);case 4:return eo(),fp(t,e),t===null&&Wa(e.stateNode.containerInfo),gt(e),null;case 10:return qm(e.type._context),gt(e),null;case 17:return Ft(e.type)&&dc(),gt(e),null;case 19:if(Ne(Me),s=e.memoizedState,s===null)return gt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ra(s,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=vc(t),o!==null){for(e.flags|=128,ra(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Me,Me.current&1|2),e.child}t=t.sibling}s.tail!==null&&qe()>no&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304)}else{if(!r)if(t=vc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ra(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!De)return gt(e),null}else 2*qe()-s.renderingStartTime>no&&n!==1073741824&&(e.flags|=128,r=!0,ra(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=qe(),e.sibling=null,n=Me.current,Pe(Me,r?n&1|2:n&1),e):(gt(e),null);case 22:case 23:return lg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(gt(e),e.subtreeFlags&6&&(e.flags|=8192)):gt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function OP(t,e){switch(zm(e),e.tag){case 1:return Ft(e.type)&&dc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eo(),Ne(Mt),Ne(Tt),Xm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ym(e),null;case 13:if(Ne(Me),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(Me),null;case 4:return eo(),null;case 10:return qm(e.type._context),null;case 22:case 23:return lg(),null;case 24:return null;default:return null}}var pu=!1,Et=!1,xP=typeof WeakSet=="function"?WeakSet:Set,Q=null;function bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ze(t,e,r)}else n.current=null}function pp(t,e,n){try{n()}catch(r){ze(t,e,r)}}var p_=!1;function NP(t,e){if(Xf=ac,t=Yw(),Um(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,h=0,p=t,m=null;t:for(;;){for(var T;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(T=p.firstChild)!==null;)m=p,p=T;for(;;){if(p===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(u=o),(T=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=T}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jf={focusedElem:t,selectionRange:n},ac=!1,Q=e;Q!==null;)if(e=Q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Q=t;else for(;Q!==null;){e=Q;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var R=I.memoizedProps,k=I.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?R:pn(e.type,R),k);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(b){ze(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,Q=t;break}Q=e.return}return I=p_,p_=!1,I}function Sa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&pp(e,n,s)}i=i.next}while(i!==r)}}function cd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function qT(t){var e=t.alternate;e!==null&&(t.alternate=null,qT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kn],delete e[Ka],delete e[tp],delete e[mP],delete e[gP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KT(t){return t.tag===5||t.tag===3||t.tag===4}function m_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cc));else if(r!==4&&(t=t.child,t!==null))for(gp(t,e,n),t=t.sibling;t!==null;)gp(t,e,n),t=t.sibling}function yp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yp(t,e,n),t=t.sibling;t!==null;)yp(t,e,n),t=t.sibling}var at=null,gn=!1;function _r(t,e,n){for(n=n.child;n!==null;)GT(t,e,n),n=n.sibling}function GT(t,e,n){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(nd,n)}catch{}switch(n.tag){case 5:Et||bs(n,e);case 6:var r=at,i=gn;at=null,_r(t,e,n),at=r,gn=i,at!==null&&(gn?(t=at,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):at.removeChild(n.stateNode));break;case 18:at!==null&&(gn?(t=at,n=n.stateNode,t.nodeType===8?Hh(t.parentNode,n):t.nodeType===1&&Hh(t,n),za(t)):Hh(at,n.stateNode));break;case 4:r=at,i=gn,at=n.stateNode.containerInfo,gn=!0,_r(t,e,n),at=r,gn=i;break;case 0:case 11:case 14:case 15:if(!Et&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&pp(n,e,o),i=i.next}while(i!==r)}_r(t,e,n);break;case 1:if(!Et&&(bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ze(n,e,a)}_r(t,e,n);break;case 21:_r(t,e,n);break;case 22:n.mode&1?(Et=(r=Et)||n.memoizedState!==null,_r(t,e,n),Et=r):_r(t,e,n);break;default:_r(t,e,n)}}function g_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new xP),e.forEach(function(r){var i=zP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:at=a.stateNode,gn=!1;break e;case 3:at=a.stateNode.containerInfo,gn=!0;break e;case 4:at=a.stateNode.containerInfo,gn=!0;break e}a=a.return}if(at===null)throw Error(j(160));GT(s,o,i),at=null,gn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){ze(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QT(e,t),e=e.sibling}function QT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),An(t),r&4){try{Sa(3,t,t.return),cd(3,t)}catch(R){ze(t,t.return,R)}try{Sa(5,t,t.return)}catch(R){ze(t,t.return,R)}}break;case 1:fn(e,t),An(t),r&512&&n!==null&&bs(n,n.return);break;case 5:if(fn(e,t),An(t),r&512&&n!==null&&bs(n,n.return),t.flags&32){var i=t.stateNode;try{Va(i,"")}catch(R){ze(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&yw(i,s),jf(a,o);var c=jf(a,s);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?Tw(i,p):h==="dangerouslySetInnerHTML"?Ew(i,p):h==="children"?Va(i,p):Rm(i,h,p,c)}switch(a){case"input":Mf(i,s);break;case"textarea":vw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?Fs(i,!!s.multiple,T,!1):m!==!!s.multiple&&(s.defaultValue!=null?Fs(i,!!s.multiple,s.defaultValue,!0):Fs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ka]=s}catch(R){ze(t,t.return,R)}}break;case 6:if(fn(e,t),An(t),r&4){if(t.stateNode===null)throw Error(j(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){ze(t,t.return,R)}}break;case 3:if(fn(e,t),An(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{za(e.containerInfo)}catch(R){ze(t,t.return,R)}break;case 4:fn(e,t),An(t);break;case 13:fn(e,t),An(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(og=qe())),r&4&&g_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Et=(c=Et)||h,fn(e,t),Et=c):fn(e,t),An(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Q=t,h=t.child;h!==null;){for(p=Q=h;Q!==null;){switch(m=Q,T=m.child,m.tag){case 0:case 11:case 14:case 15:Sa(4,m,m.return);break;case 1:bs(m,m.return);var I=m.stateNode;if(typeof I.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(R){ze(r,n,R)}}break;case 5:bs(m,m.return);break;case 22:if(m.memoizedState!==null){v_(p);continue}}T!==null?(T.return=m,Q=T):v_(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=ww("display",o))}catch(R){ze(t,t.return,R)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(R){ze(t,t.return,R)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:fn(e,t),An(t),r&4&&g_(t);break;case 21:break;default:fn(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(KT(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Va(i,""),r.flags&=-33);var s=m_(t);yp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=m_(t);gp(t,a,o);break;default:throw Error(j(161))}}catch(u){ze(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DP(t,e,n){Q=t,YT(t)}function YT(t,e,n){for(var r=(t.mode&1)!==0;Q!==null;){var i=Q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||pu;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Et;a=pu;var c=Et;if(pu=o,(Et=u)&&!c)for(Q=i;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?__(i):u!==null?(u.return=o,Q=u):__(i);for(;s!==null;)Q=s,YT(s),s=s.sibling;Q=i,pu=a,Et=c}y_(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Q=s):y_(t)}}function y_(t){for(;Q!==null;){var e=Q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Et||cd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Et)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&t_(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}t_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&za(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Et||e.flags&512&&mp(e)}catch(m){ze(e,e.return,m)}}if(e===t){Q=null;break}if(n=e.sibling,n!==null){n.return=e.return,Q=n;break}Q=e.return}}function v_(t){for(;Q!==null;){var e=Q;if(e===t){Q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Q=n;break}Q=e.return}}function __(t){for(;Q!==null;){var e=Q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{cd(4,e)}catch(u){ze(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){ze(e,i,u)}}var s=e.return;try{mp(e)}catch(u){ze(e,s,u)}break;case 5:var o=e.return;try{mp(e)}catch(u){ze(e,o,u)}}}catch(u){ze(e,e.return,u)}if(e===t){Q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Q=a;break}Q=e.return}}var LP=Math.ceil,wc=ur.ReactCurrentDispatcher,ig=ur.ReactCurrentOwner,un=ur.ReactCurrentBatchConfig,ge=0,rt=null,Ye=null,ut=0,Ht=0,Os=ii(0),et=0,Za=null,$i=0,dd=0,sg=0,Ia=null,xt=null,og=0,no=1/0,Wn=null,Tc=!1,vp=null,jr=null,mu=!1,br=null,Sc=0,Ca=0,_p=null,Uu=-1,ju=0;function Pt(){return ge&6?qe():Uu!==-1?Uu:Uu=qe()}function zr(t){return t.mode&1?ge&2&&ut!==0?ut&-ut:vP.transition!==null?(ju===0&&(ju=Dw()),ju):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:jw(t.type)),t):1}function En(t,e,n,r){if(50<Ca)throw Ca=0,_p=null,Error(j(185));vl(t,n,r),(!(ge&2)||t!==rt)&&(t===rt&&(!(ge&2)&&(dd|=n),et===4&&Ir(t,ut)),Vt(t,r),n===1&&ge===0&&!(e.mode&1)&&(no=qe()+500,ad&&si()))}function Vt(t,e){var n=t.callbackNode;vR(t,e);var r=oc(t,t===rt?ut:0);if(r===0)n!==null&&Pv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Pv(n),e===1)t.tag===0?yP(E_.bind(null,t)):oT(E_.bind(null,t)),fP(function(){!(ge&6)&&si()}),n=null;else{switch(Lw(r)){case 1:n=xm;break;case 4:n=xw;break;case 16:n=sc;break;case 536870912:n=Nw;break;default:n=sc}n=iS(n,XT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function XT(t,e){if(Uu=-1,ju=0,ge&6)throw Error(j(327));var n=t.callbackNode;if(zs()&&t.callbackNode!==n)return null;var r=oc(t,t===rt?ut:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ic(t,r);else{e=r;var i=ge;ge|=2;var s=ZT();(rt!==t||ut!==e)&&(Wn=null,no=qe()+500,Ri(t,e));do try{VP();break}catch(a){JT(t,a)}while(!0);Wm(),wc.current=s,ge=i,Ye!==null?e=0:(rt=null,ut=0,e=et)}if(e!==0){if(e===2&&(i=qf(t),i!==0&&(r=i,e=Ep(t,i))),e===1)throw n=Za,Ri(t,0),Ir(t,r),Vt(t,qe()),n;if(e===6)Ir(t,r);else{if(i=t.current.alternate,!(r&30)&&!MP(i)&&(e=Ic(t,r),e===2&&(s=qf(t),s!==0&&(r=s,e=Ep(t,s))),e===1))throw n=Za,Ri(t,0),Ir(t,r),Vt(t,qe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:gi(t,xt,Wn);break;case 3:if(Ir(t,r),(r&130023424)===r&&(e=og+500-qe(),10<e)){if(oc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ep(gi.bind(null,t,xt,Wn),e);break}gi(t,xt,Wn);break;case 4:if(Ir(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_n(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LP(r/1960))-r,10<r){t.timeoutHandle=ep(gi.bind(null,t,xt,Wn),r);break}gi(t,xt,Wn);break;case 5:gi(t,xt,Wn);break;default:throw Error(j(329))}}}return Vt(t,qe()),t.callbackNode===n?XT.bind(null,t):null}function Ep(t,e){var n=Ia;return t.current.memoizedState.isDehydrated&&(Ri(t,e).flags|=256),t=Ic(t,e),t!==2&&(e=xt,xt=n,e!==null&&wp(e)),t}function wp(t){xt===null?xt=t:xt.push.apply(xt,t)}function MP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Tn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ir(t,e){for(e&=~sg,e&=~dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function E_(t){if(ge&6)throw Error(j(327));zs();var e=oc(t,0);if(!(e&1))return Vt(t,qe()),null;var n=Ic(t,e);if(t.tag!==0&&n===2){var r=qf(t);r!==0&&(e=r,n=Ep(t,r))}if(n===1)throw n=Za,Ri(t,0),Ir(t,e),Vt(t,qe()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gi(t,xt,Wn),Vt(t,qe()),null}function ag(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(no=qe()+500,ad&&si())}}function Ui(t){br!==null&&br.tag===0&&!(ge&6)&&zs();var e=ge;ge|=1;var n=un.transition,r=Ie;try{if(un.transition=null,Ie=1,t)return t()}finally{Ie=r,un.transition=n,ge=e,!(ge&6)&&si()}}function lg(){Ht=Os.current,Ne(Os)}function Ri(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hP(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(zm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dc();break;case 3:eo(),Ne(Mt),Ne(Tt),Xm();break;case 5:Ym(r);break;case 4:eo();break;case 13:Ne(Me);break;case 19:Ne(Me);break;case 10:qm(r.type._context);break;case 22:case 23:lg()}n=n.return}if(rt=t,Ye=t=Br(t.current,null),ut=Ht=e,et=0,Za=null,sg=dd=$i=0,xt=Ia=null,Si!==null){for(e=0;e<Si.length;e++)if(n=Si[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Si=null}return t}function JT(t,e){do{var n=Ye;try{if(Wm(),Fu.current=Ec,_c){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_c=!1}if(Vi=0,nt=Je=Fe=null,Ta=!1,Ya=0,ig.current=null,n===null||n.return===null){et=1,Za=e,Ye=null;break}e:{var s=t,o=n.return,a=n,u=e;if(e=ut,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var T=a_(o);if(T!==null){T.flags&=-257,l_(T,o,a,s,e),T.mode&1&&o_(s,c,e),e=T,u=c;var I=e.updateQueue;if(I===null){var R=new Set;R.add(u),e.updateQueue=R}else I.add(u);break e}else{if(!(e&1)){o_(s,c,e),ug();break e}u=Error(j(426))}}else if(De&&a.mode&1){var k=a_(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),l_(k,o,a,s,e),Bm(to(u,a));break e}}s=u=to(u,a),et!==4&&(et=2),Ia===null?Ia=[s]:Ia.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=LT(s,u,e);e_(s,_);break e;case 1:a=u;var y=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(jr===null||!jr.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=MT(s,a,e);e_(s,b);break e}}s=s.return}while(s!==null)}tS(n)}catch(V){e=V,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function ZT(){var t=wc.current;return wc.current=Ec,t===null?Ec:t}function ug(){(et===0||et===3||et===2)&&(et=4),rt===null||!($i&268435455)&&!(dd&268435455)||Ir(rt,ut)}function Ic(t,e){var n=ge;ge|=2;var r=ZT();(rt!==t||ut!==e)&&(Wn=null,Ri(t,e));do try{FP();break}catch(i){JT(t,i)}while(!0);if(Wm(),ge=n,wc.current=r,Ye!==null)throw Error(j(261));return rt=null,ut=0,et}function FP(){for(;Ye!==null;)eS(Ye)}function VP(){for(;Ye!==null&&!uR();)eS(Ye)}function eS(t){var e=rS(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?tS(t):Ye=e,ig.current=null}function tS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OP(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ye=null;return}}else if(n=bP(n,e,Ht),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);et===0&&(et=5)}function gi(t,e,n){var r=Ie,i=un.transition;try{un.transition=null,Ie=1,$P(t,e,n,r)}finally{un.transition=i,Ie=r}return null}function $P(t,e,n,r){do zs();while(br!==null);if(ge&6)throw Error(j(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(_R(t,s),t===rt&&(Ye=rt=null,ut=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mu||(mu=!0,iS(sc,function(){return zs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=Ie;Ie=1;var a=ge;ge|=4,ig.current=null,NP(t,n),QT(n,t),sP(Jf),ac=!!Xf,Jf=Xf=null,t.current=n,DP(n),cR(),ge=a,Ie=o,un.transition=s}else t.current=n;if(mu&&(mu=!1,br=t,Sc=i),s=t.pendingLanes,s===0&&(jr=null),fR(n.stateNode),Vt(t,qe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Tc)throw Tc=!1,t=vp,vp=null,t;return Sc&1&&t.tag!==0&&zs(),s=t.pendingLanes,s&1?t===_p?Ca++:(Ca=0,_p=t):Ca=0,si(),null}function zs(){if(br!==null){var t=Lw(Sc),e=un.transition,n=Ie;try{if(un.transition=null,Ie=16>t?16:t,br===null)var r=!1;else{if(t=br,br=null,Sc=0,ge&6)throw Error(j(331));var i=ge;for(ge|=4,Q=t.current;Q!==null;){var s=Q,o=s.child;if(Q.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Q=c;Q!==null;){var h=Q;switch(h.tag){case 0:case 11:case 15:Sa(8,h,s)}var p=h.child;if(p!==null)p.return=h,Q=p;else for(;Q!==null;){h=Q;var m=h.sibling,T=h.return;if(qT(h),h===c){Q=null;break}if(m!==null){m.return=T,Q=m;break}Q=T}}}var I=s.alternate;if(I!==null){var R=I.child;if(R!==null){I.child=null;do{var k=R.sibling;R.sibling=null,R=k}while(R!==null)}}Q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Q=o;else e:for(;Q!==null;){if(s=Q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sa(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,Q=_;break e}Q=s.return}}var y=t.current;for(Q=y;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=y;Q!==null;){if(a=Q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:cd(9,a)}}catch(V){ze(a,a.return,V)}if(a===o){Q=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Q=b;break e}Q=a.return}}if(ge=i,si(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(nd,t)}catch{}r=!0}return r}finally{Ie=n,un.transition=e}}return!1}function w_(t,e,n){e=to(n,e),e=LT(t,e,1),t=Ur(t,e,1),e=Pt(),t!==null&&(vl(t,1,e),Vt(t,e))}function ze(t,e,n){if(t.tag===3)w_(t,t,n);else for(;e!==null;){if(e.tag===3){w_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){t=to(n,t),t=MT(e,t,1),e=Ur(e,t,1),t=Pt(),e!==null&&(vl(e,1,t),Vt(e,t));break}}e=e.return}}function UP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(ut&n)===n&&(et===4||et===3&&(ut&130023424)===ut&&500>qe()-og?Ri(t,0):sg|=n),Vt(t,e)}function nS(t,e){e===0&&(t.mode&1?(e=su,su<<=1,!(su&130023424)&&(su=4194304)):e=1);var n=Pt();t=ir(t,e),t!==null&&(vl(t,e,n),Vt(t,n))}function jP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nS(t,n)}function zP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),nS(t,n)}var rS;rS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,kP(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,De&&e.flags&1048576&&aT(e,pc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$u(t,e),t=e.pendingProps;var i=Xs(e,Tt.current);js(e,n),i=Zm(null,e,r,t,i,n);var s=eg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ft(r)?(s=!0,hc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gm(e),i.updater=ud,e.stateNode=i,i._reactInternals=e,ap(e,r,t,n),e=cp(null,e,r,!0,s,n)):(e.tag=0,De&&s&&jm(e),Ct(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($u(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=HP(r),t=pn(r,t),i){case 0:e=up(null,e,r,t,n);break e;case 1:e=d_(null,e,r,t,n);break e;case 11:e=u_(null,e,r,t,n);break e;case 14:e=c_(null,e,r,pn(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),up(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),d_(t,e,r,i,n);case 3:e:{if(UT(e),t===null)throw Error(j(387));r=e.pendingProps,s=e.memoizedState,i=s.element,fT(t,e),yc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=to(Error(j(423)),e),e=h_(t,e,r,n,i);break e}else if(r!==i){i=to(Error(j(424)),e),e=h_(t,e,r,n,i);break e}else for(Wt=$r(e.stateNode.containerInfo.firstChild),Gt=e,De=!0,yn=null,n=dT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Js(),r===i){e=sr(t,e,n);break e}Ct(t,e,r,n)}e=e.child}return e;case 5:return pT(e),t===null&&ip(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Zf(r,i)?o=null:s!==null&&Zf(r,s)&&(e.flags|=32),$T(t,e),Ct(t,e,o,n),e.child;case 6:return t===null&&ip(e),null;case 13:return jT(t,e,n);case 4:return Qm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zs(e,null,r,n):Ct(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),u_(t,e,r,i,n);case 7:return Ct(t,e,e.pendingProps,n),e.child;case 8:return Ct(t,e,e.pendingProps.children,n),e.child;case 12:return Ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Pe(mc,r._currentValue),r._currentValue=o,s!==null)if(Tn(s.value,o)){if(s.children===i.children&&!Mt.current){e=sr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Zn(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),sp(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(j(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),sp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ct(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,js(e,n),i=cn(i),r=r(i),e.flags|=1,Ct(t,e,r,n),e.child;case 14:return r=e.type,i=pn(r,e.pendingProps),i=pn(r.type,i),c_(t,e,r,i,n);case 15:return FT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),$u(t,e),e.tag=1,Ft(r)?(t=!0,hc(e)):t=!1,js(e,n),DT(e,r,i),ap(e,r,i,n),cp(null,e,r,!0,t,n);case 19:return zT(t,e,n);case 22:return VT(t,e,n)}throw Error(j(156,e.tag))};function iS(t,e){return Ow(t,e)}function BP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(t,e,n,r){return new BP(t,e,n,r)}function cg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function HP(t){if(typeof t=="function")return cg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===km)return 11;if(t===bm)return 14}return 2}function Br(t,e){var n=t.alternate;return n===null?(n=ln(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")cg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ws:return Pi(n.children,i,s,e);case Pm:o=8,i|=8;break;case Of:return t=ln(12,n,e,i|2),t.elementType=Of,t.lanes=s,t;case xf:return t=ln(13,n,e,i),t.elementType=xf,t.lanes=s,t;case Nf:return t=ln(19,n,e,i),t.elementType=Nf,t.lanes=s,t;case pw:return hd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hw:o=10;break e;case fw:o=9;break e;case km:o=11;break e;case bm:o=14;break e;case wr:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=ln(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Pi(t,e,n,r){return t=ln(7,t,r,e),t.lanes=n,t}function hd(t,e,n,r){return t=ln(22,t,r,e),t.elementType=pw,t.lanes=n,t.stateNode={isHidden:!1},t}function Jh(t,e,n){return t=ln(6,t,null,e),t.lanes=n,t}function Zh(t,e,n){return e=ln(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nh(0),this.expirationTimes=Nh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dg(t,e,n,r,i,s,o,a,u){return t=new WP(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ln(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(s),t}function qP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function sS(t){if(!t)return Yr;t=t._reactInternals;e:{if(Zi(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ft(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(Ft(n))return sT(t,n,e)}return e}function oS(t,e,n,r,i,s,o,a,u){return t=dg(n,r,!0,t,i,s,o,a,u),t.context=sS(null),n=t.current,r=Pt(),i=zr(n),s=Zn(r,i),s.callback=e??null,Ur(n,s,i),t.current.lanes=i,vl(t,i,r),Vt(t,r),t}function fd(t,e,n,r){var i=e.current,s=Pt(),o=zr(i);return n=sS(n),e.context===null?e.context=n:e.pendingContext=n,e=Zn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ur(i,e,o),t!==null&&(En(t,i,o,s),Mu(t,i,o)),o}function Cc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function T_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hg(t,e){T_(t,e),(t=t.alternate)&&T_(t,e)}function KP(){return null}var aS=typeof reportError=="function"?reportError:function(t){console.error(t)};function fg(t){this._internalRoot=t}pd.prototype.render=fg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));fd(t,e,null,null)};pd.prototype.unmount=fg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ui(function(){fd(null,t,null,null)}),e[rr]=null}};function pd(t){this._internalRoot=t}pd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Vw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sr.length&&e!==0&&e<Sr[n].priority;n++);Sr.splice(n,0,t),n===0&&Uw(t)}};function pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function md(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function S_(){}function GP(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Cc(o);s.call(c)}}var o=oS(e,r,t,0,null,!1,!1,"",S_);return t._reactRootContainer=o,t[rr]=o.current,Wa(t.nodeType===8?t.parentNode:t),Ui(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Cc(u);a.call(c)}}var u=dg(t,0,!1,null,null,!1,!1,"",S_);return t._reactRootContainer=u,t[rr]=u.current,Wa(t.nodeType===8?t.parentNode:t),Ui(function(){fd(e,u,n,r)}),u}function gd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Cc(o);a.call(u)}}fd(e,o,t,i)}else o=GP(n,e,t,i,r);return Cc(o)}Mw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ua(e.pendingLanes);n!==0&&(Nm(e,n|1),Vt(e,qe()),!(ge&6)&&(no=qe()+500,si()))}break;case 13:Ui(function(){var r=ir(t,1);if(r!==null){var i=Pt();En(r,t,1,i)}}),hg(t,1)}};Dm=function(t){if(t.tag===13){var e=ir(t,134217728);if(e!==null){var n=Pt();En(e,t,134217728,n)}hg(t,134217728)}};Fw=function(t){if(t.tag===13){var e=zr(t),n=ir(t,e);if(n!==null){var r=Pt();En(n,t,e,r)}hg(t,e)}};Vw=function(){return Ie};$w=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};Bf=function(t,e,n){switch(e){case"input":if(Mf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=od(r);if(!i)throw Error(j(90));gw(r),Mf(r,i)}}}break;case"textarea":vw(t,n);break;case"select":e=n.value,e!=null&&Fs(t,!!n.multiple,e,!1)}};Cw=ag;Aw=Ui;var QP={usingClientEntryPoint:!1,Events:[El,Cs,od,Sw,Iw,ag]},ia={findFiberByHostInstance:Ti,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YP={bundleType:ia.bundleType,version:ia.version,rendererPackageName:ia.rendererPackageName,rendererConfig:ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ur.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kw(t),t===null?null:t.stateNode},findFiberByHostInstance:ia.findFiberByHostInstance||KP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{nd=gu.inject(YP),xn=gu}catch{}}Jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QP;Jt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pg(e))throw Error(j(200));return qP(t,e,null,n)};Jt.createRoot=function(t,e){if(!pg(t))throw Error(j(299));var n=!1,r="",i=aS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dg(t,1,!1,null,null,n,!1,r,i),t[rr]=e.current,Wa(t.nodeType===8?t.parentNode:t),new fg(e)};Jt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=kw(e),t=t===null?null:t.stateNode,t};Jt.flushSync=function(t){return Ui(t)};Jt.hydrate=function(t,e,n){if(!md(e))throw Error(j(200));return gd(null,t,e,!0,n)};Jt.hydrateRoot=function(t,e,n){if(!pg(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=aS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=oS(e,null,t,1,n??null,i,!1,s,o),t[rr]=e.current,Wa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new pd(e)};Jt.render=function(t,e,n){if(!md(e))throw Error(j(200));return gd(null,t,e,!1,n)};Jt.unmountComponentAtNode=function(t){if(!md(t))throw Error(j(40));return t._reactRootContainer?(Ui(function(){gd(null,null,t,!1,function(){t._reactRootContainer=null,t[rr]=null})}),!0):!1};Jt.unstable_batchedUpdates=ag;Jt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!md(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return gd(t,e,n,!1,r)};Jt.version="18.3.1-next-f1338f8080-20240426";function lS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lS)}catch(t){console.error(t)}}lS(),lw.exports=Jt;var uS=lw.exports,I_=uS;kf.createRoot=I_.createRoot,kf.hydrateRoot=I_.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function el(){return el=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},el.apply(this,arguments)}var Or;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Or||(Or={}));const C_="popstate";function XP(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Tp("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ac(i)}return ZP(e,n,null,t)}function Ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JP(){return Math.random().toString(36).substr(2,8)}function A_(t,e){return{usr:t.state,key:t.key,idx:e}}function Tp(t,e,n,r){return n===void 0&&(n=null),el({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_o(e):e,{state:n,key:e&&e.key||r||JP()})}function Ac(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _o(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Or.Pop,u=null,c=h();c==null&&(c=0,o.replaceState(el({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function p(){a=Or.Pop;let k=h(),_=k==null?null:k-c;c=k,u&&u({action:a,location:R.location,delta:_})}function m(k,_){a=Or.Push;let y=Tp(R.location,k,_);c=h()+1;let w=A_(y,c),b=R.createHref(y);try{o.pushState(w,"",b)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(b)}s&&u&&u({action:a,location:R.location,delta:1})}function T(k,_){a=Or.Replace;let y=Tp(R.location,k,_);c=h();let w=A_(y,c),b=R.createHref(y);o.replaceState(w,"",b),s&&u&&u({action:a,location:R.location,delta:0})}function I(k){let _=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof k=="string"?k:Ac(k);return y=y.replace(/ $/,"%20"),Ve(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let R={get action(){return a},get location(){return t(i,o)},listen(k){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(C_,p),u=k,()=>{i.removeEventListener(C_,p),u=null}},createHref(k){return e(i,k)},createURL:I,encodeLocation(k){let _=I(k);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:T,go(k){return o.go(k)}};return R}var R_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R_||(R_={}));function ek(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?_o(e):e,i=ro(r.pathname||"/",n);if(i==null)return null;let s=dS(t);tk(s);let o=null;for(let a=0;o==null&&a<s.length;++a){let u=hk(i);o=ck(s[a],u)}return o}function dS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Ve(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Hr([r,u.relativePath]),h=n.concat(u);s.children&&s.children.length>0&&(Ve(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dS(s.children,e,h,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:lk(c,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of hS(s.path))i(s,o,u)}),e}function hS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=hS(r.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function tk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nk=/^:[\w-]+$/,rk=3,ik=2,sk=1,ok=10,ak=-2,P_=t=>t==="*";function lk(t,e){let n=t.split("/"),r=n.length;return n.some(P_)&&(r+=ak),e&&(r+=ik),n.filter(i=>!P_(i)).reduce((i,s)=>i+(nk.test(s)?rk:s===""?sk:ok),r)}function uk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ck(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],u=o===n.length-1,c=i==="/"?e:e.slice(i.length)||"/",h=Sp({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!h)return null;Object.assign(r,h.params);let p=a.route;s.push({params:r,pathname:Hr([i,h.pathname]),pathnameBase:gk(Hr([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Hr([i,h.pathnameBase]))}return s}function Sp(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,p)=>{let{paramName:m,isOptional:T}=h;if(m==="*"){let R=a[p]||"";o=s.slice(0,s.length-R.length).replace(/(.)\/+$/,"$1")}const I=a[p];return T&&!I?c[m]=void 0:c[m]=(I||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function dk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ro(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function fk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_o(t):t;return{pathname:n?n.startsWith("/")?n:pk(n,e):e,search:yk(r),hash:vk(i)}}function pk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ef(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mg(t,e){let n=mk(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function gg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_o(t):(i=el({},t),Ve(!i.pathname||!i.pathname.includes("?"),ef("?","pathname","search",i)),Ve(!i.pathname||!i.pathname.includes("#"),ef("#","pathname","hash",i)),Ve(!i.search||!i.search.includes("#"),ef("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let u=fk(i,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Hr=t=>t.join("/").replace(/\/\/+/g,"/"),gk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _k(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fS=["post","put","patch","delete"];new Set(fS);const Ek=["get",...fS];new Set(Ek);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tl(){return tl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tl.apply(this,arguments)}const yd=N.createContext(null),pS=N.createContext(null),cr=N.createContext(null),vd=N.createContext(null),dr=N.createContext({outlet:null,matches:[],isDataRoute:!1}),mS=N.createContext(null);function wk(t,e){let{relative:n}=e===void 0?{}:e;Eo()||Ve(!1);let{basename:r,navigator:i}=N.useContext(cr),{hash:s,pathname:o,search:a}=_d(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Hr([r,o])),i.createHref({pathname:u,search:a,hash:s})}function Eo(){return N.useContext(vd)!=null}function wo(){return Eo()||Ve(!1),N.useContext(vd).location}function gS(t){N.useContext(cr).static||N.useLayoutEffect(t)}function yS(){let{isDataRoute:t}=N.useContext(dr);return t?Mk():Tk()}function Tk(){Eo()||Ve(!1);let t=N.useContext(yd),{basename:e,future:n,navigator:r}=N.useContext(cr),{matches:i}=N.useContext(dr),{pathname:s}=wo(),o=JSON.stringify(mg(i,n.v7_relativeSplatPath)),a=N.useRef(!1);return gS(()=>{a.current=!0}),N.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let p=gg(c,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Hr([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,o,s,t])}const Sk=N.createContext(null);function Ik(t){let e=N.useContext(dr).outlet;return e&&N.createElement(Sk.Provider,{value:t},e)}function _d(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(cr),{matches:i}=N.useContext(dr),{pathname:s}=wo(),o=JSON.stringify(mg(i,r.v7_relativeSplatPath));return N.useMemo(()=>gg(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function Ck(t,e){return Ak(t,e)}function Ak(t,e,n,r){Eo()||Ve(!1);let{navigator:i}=N.useContext(cr),{matches:s}=N.useContext(dr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=wo(),h;if(e){var p;let k=typeof e=="string"?_o(e):e;u==="/"||(p=k.pathname)!=null&&p.startsWith(u)||Ve(!1),h=k}else h=c;let m=h.pathname||"/",T=m;if(u!=="/"){let k=u.replace(/^\//,"").split("/");T="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let I=ek(t,{pathname:T}),R=Ok(I&&I.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Hr([u,i.encodeLocation?i.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?u:Hr([u,i.encodeLocation?i.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),s,n,r);return e&&R?N.createElement(vd.Provider,{value:{location:tl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Or.Pop}},R):R}function Rk(){let t=Lk(),e=_k(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:i},n):null,null)}const Pk=N.createElement(Rk,null);class kk extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(dr.Provider,{value:this.props.routeContext},N.createElement(mS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bk(t){let{routeContext:e,match:n,children:r}=t,i=N.useContext(yd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(dr.Provider,{value:e},r)}function Ok(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);h>=0||Ve(!1),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let p=o[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:m,errors:T}=n,I=p.route.loader&&m[p.route.id]===void 0&&(!T||T[p.route.id]===void 0);if(p.route.lazy||I){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,p,m)=>{let T,I=!1,R=null,k=null;n&&(T=a&&p.route.id?a[p.route.id]:void 0,R=p.route.errorElement||Pk,u&&(c<0&&m===0?(I=!0,k=null):c===m&&(I=!0,k=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),y=()=>{let w;return T?w=R:I?w=k:p.route.Component?w=N.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=h,N.createElement(bk,{match:p,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?N.createElement(kk,{location:n.location,revalidation:n.revalidation,component:R,error:T,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var vS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vS||{}),Rc=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Rc||{});function xk(t){let e=N.useContext(yd);return e||Ve(!1),e}function Nk(t){let e=N.useContext(pS);return e||Ve(!1),e}function Dk(t){let e=N.useContext(dr);return e||Ve(!1),e}function _S(t){let e=Dk(),n=e.matches[e.matches.length-1];return n.route.id||Ve(!1),n.route.id}function Lk(){var t;let e=N.useContext(mS),n=Nk(Rc.UseRouteError),r=_S(Rc.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Mk(){let{router:t}=xk(vS.UseNavigateStable),e=_S(Rc.UseNavigateStable),n=N.useRef(!1);return gS(()=>{n.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tl({fromRouteId:e},s)))},[t,e])}function Fk(t){let{to:e,replace:n,state:r,relative:i}=t;Eo()||Ve(!1);let{future:s,static:o}=N.useContext(cr),{matches:a}=N.useContext(dr),{pathname:u}=wo(),c=yS(),h=gg(e,mg(a,s.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(h);return N.useEffect(()=>c(JSON.parse(p),{replace:n,state:r,relative:i}),[c,p,i,n,r]),null}function ES(t){return Ik(t.context)}function yi(t){Ve(!1)}function Vk(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Or.Pop,navigator:s,static:o=!1,future:a}=t;Eo()&&Ve(!1);let u=e.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:u,navigator:s,static:o,future:tl({v7_relativeSplatPath:!1},a)}),[u,a,s,o]);typeof r=="string"&&(r=_o(r));let{pathname:h="/",search:p="",hash:m="",state:T=null,key:I="default"}=r,R=N.useMemo(()=>{let k=ro(h,u);return k==null?null:{location:{pathname:k,search:p,hash:m,state:T,key:I},navigationType:i}},[u,h,p,m,T,I,i]);return R==null?null:N.createElement(cr.Provider,{value:c},N.createElement(vd.Provider,{children:n,value:R}))}function $k(t){let{children:e,location:n}=t;return Ck(Ip(e),n)}new Promise(()=>{});function Ip(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,i)=>{if(!N.isValidElement(r))return;let s=[...e,i];if(r.type===N.Fragment){n.push.apply(n,Ip(r.props.children,s));return}r.type!==yi&&Ve(!1),!r.props.index||!r.props.children||Ve(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ip(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pc(){return Pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pc.apply(this,arguments)}function wS(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Uk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jk(t,e){return t.button===0&&(!e||e==="_self")&&!Uk(t)}const zk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Bk=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Hk="6";try{window.__reactRouterVersion=Hk}catch{}const Wk=N.createContext({isTransitioning:!1}),qk="startTransition",k_=Pf[qk];function Kk(t){let{basename:e,children:n,future:r,window:i}=t,s=N.useRef();s.current==null&&(s.current=XP({window:i,v5Compat:!0}));let o=s.current,[a,u]=N.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=N.useCallback(p=>{c&&k_?k_(()=>u(p)):u(p)},[u,c]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.createElement(Vk,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Gk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yk=N.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,unstable_viewTransition:p}=e,m=wS(e,zk),{basename:T}=N.useContext(cr),I,R=!1;if(typeof c=="string"&&Qk.test(c)&&(I=c,Gk))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),V=ro(b.pathname,T);b.origin===w.origin&&V!=null?c=V+b.search+b.hash:R=!0}catch{}let k=wk(c,{relative:i}),_=Jk(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:i,unstable_viewTransition:p});function y(w){r&&r(w),w.defaultPrevented||_(w)}return N.createElement("a",Pc({},m,{href:I||k,onClick:R||s?r:y,ref:n,target:u}))}),tf=N.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:u,unstable_viewTransition:c,children:h}=e,p=wS(e,Bk),m=_d(u,{relative:p.relative}),T=wo(),I=N.useContext(pS),{navigator:R,basename:k}=N.useContext(cr),_=I!=null&&Zk(m)&&c===!0,y=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,w=T.pathname,b=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&k&&(b=ro(b,k)||b);const V=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let D=w===y||!o&&w.startsWith(y)&&w.charAt(V)==="/",E=b!=null&&(b===y||!o&&b.startsWith(y)&&b.charAt(y.length)==="/"),g={isActive:D,isPending:E,isTransitioning:_},S=D?r:void 0,C;typeof s=="function"?C=s(g):C=[s,D?"active":null,E?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(g):a;return N.createElement(Yk,Pc({},p,{"aria-current":S,className:C,ref:n,style:P,to:u,unstable_viewTransition:c}),typeof h=="function"?h(g):h)});var Cp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Cp||(Cp={}));var b_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(b_||(b_={}));function Xk(t){let e=N.useContext(yd);return e||Ve(!1),e}function Jk(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,u=yS(),c=wo(),h=_d(t,{relative:o});return N.useCallback(p=>{if(jk(p,n)){p.preventDefault();let m=r!==void 0?r:Ac(c)===Ac(h);u(t,{replace:m,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[c,u,h,r,i,n,t,s,o,a])}function Zk(t,e){e===void 0&&(e={});let n=N.useContext(Wk);n==null&&Ve(!1);let{basename:r}=Xk(Cp.useViewTransitionState),i=_d(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ro(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ro(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Sp(i.pathname,o)!=null||Sp(i.pathname,s)!=null}var TS={exports:{}},SS={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tl=N;function eb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tb=typeof Object.is=="function"?Object.is:eb,nb=Tl.useSyncExternalStore,rb=Tl.useRef,ib=Tl.useEffect,sb=Tl.useMemo,ob=Tl.useDebugValue;SS.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=rb(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=sb(function(){function u(T){if(!c){if(c=!0,h=T,T=r(T),i!==void 0&&o.hasValue){var I=o.value;if(i(I,T))return p=I}return p=T}if(I=p,tb(h,T))return I;var R=r(T);return i!==void 0&&i(I,R)?I:(h=T,p=R)}var c=!1,h,p,m=n===void 0?null:n;return[function(){return u(e())},m===null?void 0:function(){return u(m())}]},[e,n,r,i]);var a=nb(t,s[0],s[1]);return ib(function(){o.hasValue=!0,o.value=a},[a]),ob(a),a};TS.exports=SS;var ab=TS.exports,qt="default"in Pf?we:Pf,O_=Symbol.for("react-redux-context"),x_=typeof globalThis<"u"?globalThis:{};function lb(){if(!qt.createContext)return{};const t=x_[O_]??(x_[O_]=new Map);let e=t.get(qt.createContext);return e||(e=qt.createContext(null),t.set(qt.createContext,e)),e}var Xr=lb(),ub=()=>{throw new Error("uSES not initialized!")};function yg(t=Xr){return function(){return qt.useContext(t)}}var IS=yg(),CS=ub,cb=t=>{CS=t},db=(t,e)=>t===e;function hb(t=Xr){const e=t===Xr?IS:yg(t),n=(r,i={})=>{const{equalityFn:s=db,devModeChecks:o={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:u,getServerState:c,stabilityCheck:h,identityFunctionCheck:p}=e();qt.useRef(!0);const m=qt.useCallback({[r.name](I){return r(I)}}[r.name],[r,h,o.stabilityCheck]),T=CS(u.addNestedSub,a.getState,c||a.getState,m,s);return qt.useDebugValue(T),T};return Object.assign(n,{withTypes:()=>n}),n}var ji=hb();function fb(t){t()}function pb(){let t=null,e=null;return{clear(){t=null,e=null},notify(){fb(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var N_={notify(){},get:()=>[]};function mb(t,e){let n,r=N_,i=0,s=!1;function o(R){h();const k=r.subscribe(R);let _=!1;return()=>{_||(_=!0,k(),p())}}function a(){r.notify()}function u(){I.onStateChange&&I.onStateChange()}function c(){return s}function h(){i++,n||(n=t.subscribe(u),r=pb())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=N_)}function m(){s||(s=!0,h())}function T(){s&&(s=!1,p())}const I={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:u,isSubscribed:c,trySubscribe:m,tryUnsubscribe:T,getListeners:()=>r};return I}var gb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yb=typeof navigator<"u"&&navigator.product==="ReactNative",vb=gb||yb?qt.useLayoutEffect:qt.useEffect;function _b({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:s="once"}){const o=qt.useMemo(()=>{const c=mb(t);return{store:t,subscription:c,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:s}},[t,r,i,s]),a=qt.useMemo(()=>t.getState(),[t]);vb(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==t.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,a]);const u=e||Xr;return qt.createElement(u.Provider,{value:o},n)}var Eb=_b;function AS(t=Xr){const e=t===Xr?IS:yg(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var wb=AS();function Tb(t=Xr){const e=t===Xr?wb:AS(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var Ed=Tb();cb(ab.useSyncExternalStoreWithSelector);const Sb="modulepreload",Ib=function(t){return"/nanny-services/"+t},D_={},vg=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(n.map(a=>{if(a=Ib(a),a in D_)return;D_[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Sb,u||(h.as="script",h.crossOrigin=""),h.href=a,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Cb="_layout_1v64k_1",Ab={layout:Cb},S6=t=>t.users.isLoggedIn,RS=t=>t.users.loading,Rb="_loaderContainer_cqh0a_1",Pb="_loader_cqh0a_1",kb="_l16_cqh0a_1",L_={loaderContainer:Rb,loader:Pb,l16:kb};function Ap(){return z.jsx("div",{className:L_.loaderContainer,children:z.jsx("div",{className:L_.loader})})}const PS=t=>t.nannies.loading,I6=t=>t.nannies.nanniesArray;function bb(){const t=ji(RS),e=ji(PS);return z.jsxs("div",{className:Ab.layout,children:[z.jsx(N.Suspense,{fallback:z.jsx(Ap,{}),children:z.jsx(ES,{})}),(t||e)&&z.jsx(Ap,{})]})}const Ob="_headerSection_o7dmo_1",xb="_titleNanny_o7dmo_10",Nb="_header_o7dmo_1",Db="_navigation_o7dmo_22",Lb="_main_o7dmo_27",Aa={headerSection:Ob,titleNanny:xb,header:Nb,navigation:Db,main:Lb},Mb="_contairer_16fsg_1",Fb="_contairerLogined_16fsg_10",Vb={contairer:Mb,contairerLogined:Fb};function $b({children:t}){return z.jsx("div",{className:Vb.contairer,children:t})}const Ub="_headerContainer_zrks8_1",jb="_titleNanny_zrks8_7",zb="_navButton_zrks8_13",Bb="_navigationList_zrks8_21",Hb="_navLink_zrks8_26",Wb="_active_zrks8_38",qb="_buttonList_zrks8_54",Kb="_loginButton_zrks8_59",Gb="_registerButton_zrks8_71",Qb="_listLogout_zrks8_81",Yb="_logoutButton_zrks8_87",Xb="_icondiv_zrks8_98",Jb="_iconUser_zrks8_108",Zb="_userName_zrks8_115",Nt={headerContainer:Ub,titleNanny:jb,navButton:zb,navigationList:Bb,navLink:Hb,active:Wb,buttonList:qb,loginButton:Kb,registerButton:Gb,listLogout:Qb,logoutButton:Yb,icondiv:Xb,iconUser:Jb,userName:Zb},_g="/nanny-services/assets/iconsSprite-DXlNmrYD.svg";function ot(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var eO=typeof Symbol=="function"&&Symbol.observable||"@@observable",M_=eO,nf=()=>Math.random().toString(36).substring(7).split("").join("."),tO={INIT:`@@redux/INIT${nf()}`,REPLACE:`@@redux/REPLACE${nf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nf()}`},kc=tO;function Eg(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function kS(t,e,n){if(typeof t!="function")throw new Error(ot(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ot(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ot(1));return n(kS)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,u=!1;function c(){o===s&&(o=new Map,s.forEach((k,_)=>{o.set(_,k)}))}function h(){if(u)throw new Error(ot(3));return i}function p(k){if(typeof k!="function")throw new Error(ot(4));if(u)throw new Error(ot(5));let _=!0;c();const y=a++;return o.set(y,k),function(){if(_){if(u)throw new Error(ot(6));_=!1,c(),o.delete(y),s=null}}}function m(k){if(!Eg(k))throw new Error(ot(7));if(typeof k.type>"u")throw new Error(ot(8));if(typeof k.type!="string")throw new Error(ot(17));if(u)throw new Error(ot(9));try{u=!0,i=r(i,k)}finally{u=!1}return(s=o).forEach(y=>{y()}),k}function T(k){if(typeof k!="function")throw new Error(ot(10));r=k,m({type:kc.REPLACE})}function I(){const k=p;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(ot(11));function y(){const b=_;b.next&&b.next(h())}return y(),{unsubscribe:k(y)}},[M_](){return this}}}return m({type:kc.INIT}),{dispatch:m,subscribe:p,getState:h,replaceReducer:T,[M_]:I}}function nO(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:kc.INIT})>"u")throw new Error(ot(12));if(typeof n(void 0,{type:kc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ot(13))})}function bS(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{nO(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let u=!1;const c={};for(let h=0;h<r.length;h++){const p=r[h],m=n[p],T=o[p],I=m(T,a);if(typeof I>"u")throw a&&a.type,new Error(ot(14));c[p]=I,u=u||I!==T}return u=u||r.length!==Object.keys(o).length,u?c:o}}function bc(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function rO(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(ot(15))};const o={getState:i.getState,dispatch:(u,...c)=>s(u,...c)},a=t.map(u=>u(o));return s=bc(...a)(i.dispatch),{...i,dispatch:s}}}function iO(t){return Eg(t)&&"type"in t&&typeof t.type=="string"}var OS=Symbol.for("immer-nothing"),F_=Symbol.for("immer-draftable"),Yt=Symbol.for("immer-state");function vn(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var io=Object.getPrototypeOf;function Jr(t){return!!t&&!!t[Yt]}function or(t){var e;return t?xS(t)||Array.isArray(t)||!!t[F_]||!!((e=t.constructor)!=null&&e[F_])||Td(t)||Sd(t):!1}var sO=Object.prototype.constructor.toString();function xS(t){if(!t||typeof t!="object")return!1;const e=io(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===sO}function Oc(t,e){wd(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function wd(t){const e=t[Yt];return e?e.type_:Array.isArray(t)?1:Td(t)?2:Sd(t)?3:0}function Rp(t,e){return wd(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function NS(t,e,n){const r=wd(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function oO(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Td(t){return t instanceof Map}function Sd(t){return t instanceof Set}function vi(t){return t.copy_||t.base_}function Pp(t,e){if(Td(t))return new Map(t);if(Sd(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=xS(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Yt];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[o]})}return Object.create(io(t),r)}else{const r=io(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function wg(t,e=!1){return Id(t)||Jr(t)||!or(t)||(wd(t)>1&&(t.set=t.add=t.clear=t.delete=aO),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>wg(r,!0))),t}function aO(){vn(2)}function Id(t){return Object.isFrozen(t)}var lO={};function zi(t){const e=lO[t];return e||vn(0,t),e}var nl;function DS(){return nl}function uO(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function V_(t,e){e&&(zi("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function kp(t){bp(t),t.drafts_.forEach(cO),t.drafts_=null}function bp(t){t===nl&&(nl=t.parent_)}function $_(t){return nl=uO(nl,t)}function cO(t){const e=t[Yt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function U_(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Yt].modified_&&(kp(e),vn(4)),or(t)&&(t=xc(e,t),e.parent_||Nc(e,t)),e.patches_&&zi("Patches").generateReplacementPatches_(n[Yt].base_,t,e.patches_,e.inversePatches_)):t=xc(e,n,[]),kp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==OS?t:void 0}function xc(t,e,n){if(Id(e))return e;const r=e[Yt];if(!r)return Oc(e,(i,s)=>j_(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Nc(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),Oc(s,(a,u)=>j_(t,r,i,a,u,n,o)),Nc(t,i,!1),n&&t.patches_&&zi("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function j_(t,e,n,r,i,s,o){if(Jr(i)){const a=s&&e&&e.type_!==3&&!Rp(e.assigned_,r)?s.concat(r):void 0,u=xc(t,i,a);if(NS(n,r,u),Jr(u))t.canAutoFreeze_=!1;else return}else o&&n.add(i);if(or(i)&&!Id(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;xc(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Nc(t,i)}}function Nc(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&wg(e,n)}function dO(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:DS(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=Tg;n&&(i=[r],s=rl);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var Tg={get(t,e){if(e===Yt)return t;const n=vi(t);if(!Rp(n,e))return hO(t,n,e);const r=n[e];return t.finalized_||!or(r)?r:r===rf(t.base_,e)?(sf(t),t.copy_[e]=xp(r,t)):r},has(t,e){return e in vi(t)},ownKeys(t){return Reflect.ownKeys(vi(t))},set(t,e,n){const r=LS(vi(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=rf(vi(t),e),s=i==null?void 0:i[Yt];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(oO(n,i)&&(n!==void 0||Rp(t.base_,e)))return!0;sf(t),Op(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return rf(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,sf(t),Op(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=vi(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){vn(11)},getPrototypeOf(t){return io(t.base_)},setPrototypeOf(){vn(12)}},rl={};Oc(Tg,(t,e)=>{rl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});rl.deleteProperty=function(t,e){return rl.set.call(this,t,e,void 0)};rl.set=function(t,e,n){return Tg.set.call(this,t[0],e,n,t[0])};function rf(t,e){const n=t[Yt];return(n?vi(n):t)[e]}function hO(t,e,n){var i;const r=LS(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function LS(t,e){if(!(e in t))return;let n=io(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=io(n)}}function Op(t){t.modified_||(t.modified_=!0,t.parent_&&Op(t.parent_))}function sf(t){t.copy_||(t.copy_=Pp(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var fO=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const o=this;return function(u=s,...c){return o.produce(u,h=>n.call(this,h,...c))}}typeof n!="function"&&vn(6),r!==void 0&&typeof r!="function"&&vn(7);let i;if(or(e)){const s=$_(this),o=xp(e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?kp(s):bp(s)}return V_(s,r),U_(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===OS&&(i=void 0),this.autoFreeze_&&wg(i,!0),r){const s=[],o=[];zi("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else vn(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,u=>e(u,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){or(t)||vn(8),Jr(t)&&(t=MS(t));const e=$_(this),n=xp(t,void 0);return n[Yt].isManual_=!0,bp(e),n}finishDraft(t,e){const n=t&&t[Yt];(!n||!n.isManual_)&&vn(9);const{scope_:r}=n;return V_(r,e),U_(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=zi("Patches").applyPatches_;return Jr(t)?r(t,e):this.produce(t,i=>r(i,e))}};function xp(t,e){const n=Td(t)?zi("MapSet").proxyMap_(t,e):Sd(t)?zi("MapSet").proxySet_(t,e):dO(t,e);return(e?e.scope_:DS()).drafts_.push(n),n}function MS(t){return Jr(t)||vn(10,t),FS(t)}function FS(t){if(!or(t)||Id(t))return t;const e=t[Yt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Pp(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Pp(t,!0);return Oc(n,(r,i)=>{NS(n,r,FS(i))}),e&&(e.finalized_=!1),n}var Xt=new fO,VS=Xt.produce;Xt.produceWithPatches.bind(Xt);Xt.setAutoFreeze.bind(Xt);Xt.setUseStrictShallowCopy.bind(Xt);Xt.applyPatches.bind(Xt);Xt.createDraft.bind(Xt);Xt.finishDraft.bind(Xt);function pO(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function mO(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function gO(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var z_=t=>Array.isArray(t)?t:[t];function yO(t){const e=Array.isArray(t[0])?t[0]:t;return gO(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function vO(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var _O=class{constructor(t){this.value=t}deref(){return this.value}},EO=typeof WeakRef<"u"?WeakRef:_O,wO=0,B_=1;function yu(){return{s:wO,v:void 0,o:null,p:null}}function Sg(t,e={}){let n=yu();const{resultEqualityCheck:r}=e;let i,s=0;function o(){var p;let a=n;const{length:u}=arguments;for(let m=0,T=u;m<T;m++){const I=arguments[m];if(typeof I=="function"||typeof I=="object"&&I!==null){let R=a.o;R===null&&(a.o=R=new WeakMap);const k=R.get(I);k===void 0?(a=yu(),R.set(I,a)):a=k}else{let R=a.p;R===null&&(a.p=R=new Map);const k=R.get(I);k===void 0?(a=yu(),R.set(I,a)):a=k}}const c=a;let h;if(a.s===B_?h=a.v:(h=t.apply(null,arguments),s++),c.s=B_,r){const m=((p=i==null?void 0:i.deref)==null?void 0:p.call(i))??i;m!=null&&r(m,h)&&(h=m,s!==0&&s--),i=typeof h=="object"&&h!==null||typeof h=="function"?new EO(h):h}return c.v=h,h}return o.clearCache=()=>{n=yu(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function $S(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,o=0,a,u={},c=i.pop();typeof c=="object"&&(u=c,c=i.pop()),pO(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const h={...n,...u},{memoize:p,memoizeOptions:m=[],argsMemoize:T=Sg,argsMemoizeOptions:I=[],devModeChecks:R={}}=h,k=z_(m),_=z_(I),y=yO(i),w=p(function(){return s++,c.apply(null,arguments)},...k),b=T(function(){o++;const D=vO(y,arguments);return a=w.apply(null,D),a},..._);return Object.assign(b,{resultFunc:c,memoizedResultFunc:w,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>a,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:T})};return Object.assign(r,{withTypes:()=>r}),r}var TO=$S(Sg),SO=Object.assign((t,e=TO)=>{mO(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((o,a,u)=>(o[n[u]]=a,o),{}))},{withTypes:()=>SO});function US(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var IO=US(),CO=US,AO=(...t)=>{const e=$S(...t),n=Object.assign((...r)=>{const i=e(...r),s=(o,...a)=>i(Jr(o)?MS(o):o,...a);return Object.assign(s,i),s},{withTypes:()=>n});return n};AO(Sg);var RO=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?bc:bc.apply(null,arguments)},PO=t=>t&&typeof t.match=="function";function er(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error($t(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>iO(r)&&r.type===t,n}var jS=class da extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,da.prototype)}static get[Symbol.species](){return da}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new da(...e[0].concat(this)):new da(...e.concat(this))}};function H_(t){return or(t)?VS(t,()=>{}):t}function W_(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error($t(10));const r=n.insert(e,t);return t.set(e,r),r}function kO(t){return typeof t=="boolean"}var bO=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new jS;return n&&(kO(n)?o.push(IO):o.push(CO(n.extraArgument))),o},OO="RTK_autoBatch",zS=t=>e=>{setTimeout(e,t)},xO=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:zS(10),NO=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?xO:t.type==="callback"?t.queueNotification:zS(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),m=r.subscribe(p);return a.add(h),()=>{m(),a.delete(h)}},dispatch(h){var p;try{return i=!((p=h==null?void 0:h.meta)!=null&&p[OO]),s=!i,s&&(o||(o=!0,u(c))),r.dispatch(h)}finally{i=!0}}})},DO=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new jS(t);return r&&i.push(NO(typeof r=="object"?r:void 0)),i},LO=!0;function MO(t){const e=bO(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(Eg(n))a=bS(n);else throw new Error($t(1));let u;typeof r=="function"?u=r(e):u=e();let c=bc;i&&(c=RO({trace:!LO,...typeof i=="object"&&i}));const h=rO(...u),p=DO(h);let m=typeof o=="function"?o(p):p();const T=c(...m);return kS(a,s,T)}function BS(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error($t(28));if(a in e)throw new Error($t(29));return e[a]=o,i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function FO(t){return typeof t=="function"}function VO(t,e){let[n,r,i]=BS(e),s;if(FO(t))s=()=>H_(t());else{const a=H_(t);s=()=>a}function o(a=s(),u){let c=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return c.filter(h=>!!h).length===0&&(c=[i]),c.reduce((h,p)=>{if(p)if(Jr(h)){const T=p(h,u);return T===void 0?h:T}else{if(or(h))return VS(h,m=>p(m,u));{const m=p(h,u);if(m===void 0){if(h===null)return h;throw new Error($t(9))}return m}}return h},a)}return o.getInitialState=s,o}var $O="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",HS=(t=21)=>{let e="",n=t;for(;n--;)e+=$O[Math.random()*64|0];return e},UO=(t,e)=>PO(t)?t.match(e):t(e);function jO(...t){return e=>t.some(n=>UO(n,e))}var zO=["name","message","stack","code"],of=class{constructor(t,e){Rh(this,"_type");this.payload=t,this.meta=e}},q_=class{constructor(t,e){Rh(this,"_type");this.payload=t,this.meta=e}},BO=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of zO)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},Cd=(()=>{function t(e,n,r){const i=er(e+"/fulfilled",(u,c,h,p)=>({payload:u,meta:{...p||{},arg:h,requestId:c,requestStatus:"fulfilled"}})),s=er(e+"/pending",(u,c,h)=>({payload:void 0,meta:{...h||{},arg:c,requestId:u,requestStatus:"pending"}})),o=er(e+"/rejected",(u,c,h,p,m)=>({payload:p,error:(r&&r.serializeError||BO)(u||"Rejected"),meta:{...m||{},arg:h,requestId:c,rejectedWithValue:!!p,requestStatus:"rejected",aborted:(u==null?void 0:u.name)==="AbortError",condition:(u==null?void 0:u.name)==="ConditionError"}}));function a(u){return(c,h,p)=>{const m=r!=null&&r.idGenerator?r.idGenerator(u):HS(),T=new AbortController;let I,R;function k(y){R=y,T.abort()}const _=async function(){var b,V;let y;try{let D=(b=r==null?void 0:r.condition)==null?void 0:b.call(r,u,{getState:h,extra:p});if(WO(D)&&(D=await D),D===!1||T.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const E=new Promise((g,S)=>{I=()=>{S({name:"AbortError",message:R||"Aborted"})},T.signal.addEventListener("abort",I)});c(s(m,u,(V=r==null?void 0:r.getPendingMeta)==null?void 0:V.call(r,{requestId:m,arg:u},{getState:h,extra:p}))),y=await Promise.race([E,Promise.resolve(n(u,{dispatch:c,getState:h,extra:p,requestId:m,signal:T.signal,abort:k,rejectWithValue:(g,S)=>new of(g,S),fulfillWithValue:(g,S)=>new q_(g,S)})).then(g=>{if(g instanceof of)throw g;return g instanceof q_?i(g.payload,m,u,g.meta):i(g,m,u)})])}catch(D){y=D instanceof of?o(null,m,u,D.payload,D.meta):o(D,m,u)}finally{I&&T.signal.removeEventListener("abort",I)}return r&&!r.dispatchConditionRejection&&o.match(y)&&y.meta.condition||c(y),y}();return Object.assign(_,{abort:k,requestId:m,arg:u,unwrap(){return _.then(HO)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:jO(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function HO(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function WO(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var qO=Symbol.for("rtk-slice-createasyncthunk");function KO(t,e){return`${t}/${e}`}function GO({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[qO];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error($t(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(YO()):i.reducers)||{},u=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(w,b){const V=typeof w=="string"?w:w.type;if(!V)throw new Error($t(12));if(V in c.sliceCaseReducersByType)throw new Error($t(13));return c.sliceCaseReducersByType[V]=b,h},addMatcher(w,b){return c.sliceMatchers.push({matcher:w,reducer:b}),h},exposeAction(w,b){return c.actionCreators[w]=b,h},exposeCaseReducer(w,b){return c.sliceCaseReducersByName[w]=b,h}};u.forEach(w=>{const b=a[w],V={reducerName:w,type:KO(s,w),createNotation:typeof i.reducers=="function"};JO(b)?ex(V,b,h,e):XO(V,b,h)});function p(){const[w={},b=[],V=void 0]=typeof i.extraReducers=="function"?BS(i.extraReducers):[i.extraReducers],D={...w,...c.sliceCaseReducersByType};return VO(i.initialState,E=>{for(let g in D)E.addCase(g,D[g]);for(let g of c.sliceMatchers)E.addMatcher(g.matcher,g.reducer);for(let g of b)E.addMatcher(g.matcher,g.reducer);V&&E.addDefaultCase(V)})}const m=w=>w,T=new Map;let I;function R(w,b){return I||(I=p()),I(w,b)}function k(){return I||(I=p()),I.getInitialState()}function _(w,b=!1){function V(E){let g=E[w];return typeof g>"u"&&b&&(g=k()),g}function D(E=m){const g=W_(T,b,{insert:()=>new WeakMap});return W_(g,E,{insert:()=>{const S={};for(const[C,P]of Object.entries(i.selectors??{}))S[C]=QO(P,E,k,b);return S}})}return{reducerPath:w,getSelectors:D,get selectors(){return D(V)},selectSlice:V}}const y={name:s,reducer:R,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:k,..._(o),injectInto(w,{reducerPath:b,...V}={}){const D=b??o;return w.inject({reducerPath:D,reducer:R},V),{...y,..._(D,!0)}}};return y}}function QO(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var WS=GO();function YO(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function XO({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!ZO(r))throw new Error($t(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?er(t,o):er(t))}function JO(t){return t._reducerDefinitionType==="asyncThunk"}function ZO(t){return t._reducerDefinitionType==="reducerWithPrepare"}function ex({type:t,reducerName:e},n,r,i){if(!i)throw new Error($t(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:u,settled:c,options:h}=n,p=i(t,s,h);r.exposeAction(e,p),o&&r.addCase(p.fulfilled,o),a&&r.addCase(p.pending,a),u&&r.addCase(p.rejected,u),c&&r.addMatcher(p.settled,c),r.exposeCaseReducer(e,{fulfilled:o||vu,pending:a||vu,rejected:u||vu,settled:c||vu})}function vu(){}var tx=(t,e)=>{if(typeof t!="function")throw new Error($t(32))},Ig="listenerMiddleware",nx=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=er(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error($t(21));return tx(s),{predicate:i,type:e,effect:s}},rx=Object.assign(t=>{const{type:e,predicate:n,effect:r}=nx(t);return{id:HS(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error($t(22))}}},{withTypes:()=>rx}),ix=Object.assign(er(`${Ig}/add`),{withTypes:()=>ix});er(`${Ig}/removeAll`);var sx=Object.assign(er(`${Ig}/remove`),{withTypes:()=>sx});function $t(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var K_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},ox=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},KS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,T=c&63;u||(T=64,o||(m=64)),r.push(n[h],n[p],n[m],n[T])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ox(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new ax;const m=s<<2|a>>4;if(r.push(m),c!==64){const T=a<<4&240|c>>2;if(r.push(T),p!==64){const I=c<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ax extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lx=function(t){const e=qS(t);return KS.encodeByteArray(e,!0)},Dc=function(t){return lx(t).replace(/\./g,"")},GS=function(t){try{return KS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=()=>ux().__FIREBASE_DEFAULTS__,dx=()=>{if(typeof process>"u"||typeof K_>"u")return;const t=K_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GS(t[1]);return e&&JSON.parse(e)},Ad=()=>{try{return cx()||dx()||hx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QS=t=>{var e,n;return(n=(e=Ad())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fx=t=>{const e=QS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YS=()=>{var t;return(t=Ad())===null||t===void 0?void 0:t.config},XS=t=>{var e;return(e=Ad())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Dc(JSON.stringify(n)),Dc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function yx(){var t;const e=(t=Ad())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _x(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ex(){const t=ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wx(){return!yx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tx(){try{return typeof indexedDB=="object"}catch{return!1}}function Sx(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ix,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sl.prototype.create)}}class Sl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Cx(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new hr(i,a,r)}}function Cx(t,e){return t.replace(Ax,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ax=/\{\$([^}]+)}/g;function Rx(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(G_(s)&&G_(o)){if(!Lc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function G_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ha(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function fa(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Px(t,e){const n=new kx(t,e);return n.subscribe.bind(n)}class kx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");bx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=af),i.error===void 0&&(i.error=af),i.complete===void 0&&(i.complete=af);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bx(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function af(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(t){return t&&t._delegate?t._delegate:t}class Bi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new px;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Nx(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xx(t){return t===_i?void 0:t}function Nx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ox(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(he||(he={}));const Lx={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},Mx=he.INFO,Fx={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},Vx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Fx[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cg{constructor(e){this.name=e,this._logLevel=Mx,this._logHandler=Vx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const $x=(t,e)=>e.some(n=>t instanceof n);let Q_,Y_;function Ux(){return Q_||(Q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jx(){return Y_||(Y_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const JS=new WeakMap,Np=new WeakMap,ZS=new WeakMap,lf=new WeakMap,Ag=new WeakMap;function zx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Wr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&JS.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function Bx(t){if(Np.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Np.set(t,e)}let Dp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Np.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ZS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hx(t){Dp=t(Dp)}function Wx(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uf(this),e,...n);return ZS.set(r,e.sort?e.sort():[e]),Wr(r)}:jx().includes(t)?function(...e){return t.apply(uf(this),e),Wr(JS.get(this))}:function(...e){return Wr(t.apply(uf(this),e))}}function qx(t){return typeof t=="function"?Wx(t):(t instanceof IDBTransaction&&Bx(t),$x(t,Ux())?new Proxy(t,Dp):t)}function Wr(t){if(t instanceof IDBRequest)return zx(t);if(lf.has(t))return lf.get(t);const e=qx(t);return e!==t&&(lf.set(t,e),Ag.set(e,t)),e}const uf=t=>Ag.get(t);function Kx(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Wr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Wr(o.result),u.oldVersion,u.newVersion,Wr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Gx=["get","getKey","getAll","getAllKeys","count"],Qx=["put","add","delete","clear"],cf=new Map;function X_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Qx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Gx.includes(n)))return;const s=async function(o,...a){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return cf.set(e,s),s}Hx(t=>({...t,get:(e,n,r)=>X_(e,n)||t.get(e,n,r),has:(e,n)=>!!X_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Xx(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lp="@firebase/app",J_="0.10.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new Cg("@firebase/app"),Jx="@firebase/app-compat",Zx="@firebase/analytics-compat",e2="@firebase/analytics",t2="@firebase/app-check-compat",n2="@firebase/app-check",r2="@firebase/auth",i2="@firebase/auth-compat",s2="@firebase/database",o2="@firebase/database-compat",a2="@firebase/functions",l2="@firebase/functions-compat",u2="@firebase/installations",c2="@firebase/installations-compat",d2="@firebase/messaging",h2="@firebase/messaging-compat",f2="@firebase/performance",p2="@firebase/performance-compat",m2="@firebase/remote-config",g2="@firebase/remote-config-compat",y2="@firebase/storage",v2="@firebase/storage-compat",_2="@firebase/firestore",E2="@firebase/vertexai-preview",w2="@firebase/firestore-compat",T2="firebase",S2="10.12.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="[DEFAULT]",I2={[Lp]:"fire-core",[Jx]:"fire-core-compat",[e2]:"fire-analytics",[Zx]:"fire-analytics-compat",[n2]:"fire-app-check",[t2]:"fire-app-check-compat",[r2]:"fire-auth",[i2]:"fire-auth-compat",[s2]:"fire-rtdb",[o2]:"fire-rtdb-compat",[a2]:"fire-fn",[l2]:"fire-fn-compat",[u2]:"fire-iid",[c2]:"fire-iid-compat",[d2]:"fire-fcm",[h2]:"fire-fcm-compat",[f2]:"fire-perf",[p2]:"fire-perf-compat",[m2]:"fire-rc",[g2]:"fire-rc-compat",[y2]:"fire-gcs",[v2]:"fire-gcs-compat",[_2]:"fire-fst",[w2]:"fire-fst-compat",[E2]:"fire-vertex","fire-js":"fire-js",[T2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,C2=new Map,Fp=new Map;function Z_(t,e){try{t.container.addComponent(e)}catch(n){Hi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function so(t){const e=t.name;if(Fp.has(e))return Hi.debug(`There were multiple attempts to register component ${e}.`),!1;Fp.set(e,t);for(const n of Mc.values())Z_(n,t);for(const n of C2.values())Z_(n,t);return!0}function Rg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new Sl("app","Firebase",A2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=S2;function e1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Mp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw qr.create("bad-app-name",{appName:String(i)});if(n||(n=YS()),!n)throw qr.create("no-options");const s=Mc.get(i);if(s){if(Lc(n,s.options)&&Lc(r,s.config))return s;throw qr.create("duplicate-app",{appName:i})}const o=new Dx(i);for(const u of Fp.values())o.addComponent(u);const a=new R2(n,r,o);return Mc.set(i,a),a}function t1(t=Mp){const e=Mc.get(t);if(!e&&t===Mp&&YS())return e1();if(!e)throw qr.create("no-app",{appName:t});return e}function Kr(t,e,n){var r;let i=(r=I2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Hi.warn(a.join(" "));return}so(new Bi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2="firebase-heartbeat-database",k2=1,il="firebase-heartbeat-store";let df=null;function n1(){return df||(df=Kx(P2,k2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(il)}catch(n){console.warn(n)}}}}).catch(t=>{throw qr.create("idb-open",{originalErrorMessage:t.message})})),df}async function b2(t){try{const n=(await n1()).transaction(il),r=await n.objectStore(il).get(r1(t));return await n.done,r}catch(e){if(e instanceof hr)Hi.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Hi.warn(n.message)}}}async function e0(t,e){try{const r=(await n1()).transaction(il,"readwrite");await r.objectStore(il).put(e,r1(t)),await r.done}catch(n){if(n instanceof hr)Hi.warn(n.message);else{const r=qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Hi.warn(r.message)}}}function r1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=1024,x2=30*24*60*60*1e3;class N2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new L2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=t0();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=x2}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=t0(),{heartbeatsToSend:r,unsentEntries:i}=D2(this._heartbeatsCache.heartbeats),s=Dc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function t0(){return new Date().toISOString().substring(0,10)}function D2(t,e=O2){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),n0(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),n0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class L2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tx()?Sx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return e0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function n0(t){return Dc(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){so(new Bi("platform-logger",e=>new Yx(e),"PRIVATE")),so(new Bi("heartbeat",e=>new N2(e),"PRIVATE")),Kr(Lp,J_,t),Kr(Lp,J_,"esm2017"),Kr("fire-js","")}M2("");function Pg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function i1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const F2=i1,s1=new Sl("auth","Firebase",i1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc=new Cg("@firebase/auth");function V2(t,...e){Fc.logLevel<=he.WARN&&Fc.warn(`Auth (${To}): ${t}`,...e)}function Bu(t,...e){Fc.logLevel<=he.ERROR&&Fc.error(`Auth (${To}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(t,...e){throw kg(t,...e)}function Dn(t,...e){return kg(t,...e)}function o1(t,e,n){const r=Object.assign(Object.assign({},F2()),{[e]:n});return new Sl("auth","Firebase",r).create(e,{appName:t.name})}function tr(t){return o1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s1.create(t,...e)}function ie(t,e,...n){if(!t)throw kg(e,...n)}function Yn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bu(e),new Error(e)}function ar(t,e){t||Yn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $2(){return r0()==="http:"||r0()==="https:"}function r0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($2()||vx()||"connection"in navigator)?navigator.onLine:!0}function j2(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=gx()||_x()}get(){return U2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t,e){ar(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Cl(3e4,6e4);function oi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fr(t,e,n,r,i={}){return l1(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Il(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),a1.fetch()(u1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))})}async function l1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},z2),e);try{const i=new W2(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw _u(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw _u(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw _u(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw _u(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw o1(t,h,c);Sn(t,h)}}catch(i){if(i instanceof hr)throw i;Sn(t,"network-request-failed",{message:String(i)})}}async function Al(t,e,n,r,i={}){const s=await fr(t,e,n,r,i);return"mfaPendingCredential"in s&&Sn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function u1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?bg(t.config,i):`${t.config.apiScheme}://${i}`}function H2(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class W2{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),B2.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _u(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Dn(t,e,r);return i.customData._tokenResponse=n,i}function i0(t){return t!==void 0&&t.enterprise!==void 0}class q2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function K2(t,e){return fr(t,"GET","/v2/recaptchaConfig",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G2(t,e){return fr(t,"POST","/v1/accounts:delete",e)}async function c1(t,e){return fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Q2(t,e=!1){const n=Un(t),r=await n.getIdToken(e),i=Og(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Ra(hf(i.auth_time)),issuedAtTime:Ra(hf(i.iat)),expirationTime:Ra(hf(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hf(t){return Number(t)*1e3}function Og(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bu("JWT malformed, contained fewer than 3 sections"),null;try{const i=GS(n);return i?JSON.parse(i):(Bu("Failed to decode base64 JWT payload"),null)}catch(i){return Bu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function s0(t){const e=Og(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&Y2(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Y2({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ra(this.lastLoginAt),this.creationTime=Ra(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await oo(t,c1(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?d1(s.providerUserInfo):[],a=Z2(t.providerData,o),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new $p(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function J2(t){const e=Un(t);await Vc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Z2(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function d1(t){return t.map(e=>{var{providerId:n}=e,r=Pg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(t,e){const n=await l1(t,{},async()=>{const r=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=u1(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",a1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tN(t,e){return fr(t,"POST","/v2/accounts:revokeToken",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):s0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=s0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await eN(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Bs;return r&&(ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return Yn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Xn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Pg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $p(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await oo(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Q2(this,e)}reload(){return J2(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Vc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await oo(this,G2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,T=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:w,emailVerified:b,isAnonymous:V,providerData:D,stsTokenManager:E}=n;ie(w&&E,e,"internal-error");const g=Bs.fromJSON(this.name,E);ie(typeof w=="string",e,"internal-error"),Er(p,e.name),Er(m,e.name),ie(typeof b=="boolean",e,"internal-error"),ie(typeof V=="boolean",e,"internal-error"),Er(T,e.name),Er(I,e.name),Er(R,e.name),Er(k,e.name),Er(_,e.name),Er(y,e.name);const S=new Xn({uid:w,auth:e,email:m,emailVerified:b,displayName:p,isAnonymous:V,photoURL:I,phoneNumber:T,tenantId:R,stsTokenManager:g,createdAt:_,lastLoginAt:y});return D&&Array.isArray(D)&&(S.providerData=D.map(C=>Object.assign({},C))),k&&(S._redirectEventId=k),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Bs;i.updateFromServerResponse(n);const s=new Xn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Vc(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?d1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Bs;a.updateFromIdToken(r);const u=new Xn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $p(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0=new Map;function Jn(t){ar(t instanceof Function,"Expected a class definition");let e=o0.get(t);return e?(ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,o0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}h1.type="NONE";const a0=h1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t,e,n){return`firebase:${t}:${e}:${n}`}class Hs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Hu(this.userKey,i.apiKey,s),this.fullPersistenceKey=Hu("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Hs(Jn(a0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Jn(a0);const o=Hu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const p=Xn._fromJSON(e,h);c!==s&&(a=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new Hs(s,e,r):(s=u[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Hs(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(m1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(f1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(v1(e))return"Webos";if(xg(e))return"Safari";if((e.includes("chrome/")||p1(e))&&!e.includes("edge/"))return"Chrome";if(g1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function f1(t=ht()){return/firefox\//i.test(t)}function xg(t=ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function p1(t=ht()){return/crios\//i.test(t)}function m1(t=ht()){return/iemobile/i.test(t)}function g1(t=ht()){return/android/i.test(t)}function y1(t=ht()){return/blackberry/i.test(t)}function v1(t=ht()){return/webos/i.test(t)}function Rd(t=ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function nN(t=ht()){var e;return Rd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function rN(){return Ex()&&document.documentMode===10}function _1(t=ht()){return Rd(t)||g1(t)||v1(t)||y1(t)||/windows phone/i.test(t)||m1(t)}function iN(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t,e=[]){let n;switch(t){case"Browser":n=l0(ht());break;case"Worker":n=`${l0(ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${To}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(t,e={}){return fr(t,"GET","/v2/passwordPolicy",oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=6;class lN{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aN,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new sN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Hs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await c1(this,{idToken:e}),r=await Xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=j2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(tr(this));const n=e?Un(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oN(this),n=new lN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tN(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Hs.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=E1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&V2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function es(t){return Un(t)}class u0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Px(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cN(t){Pd=t}function w1(t){return Pd.loadJS(t)}function dN(){return Pd.recaptchaEnterpriseScript}function hN(){return Pd.gapiScript}function fN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const pN="recaptcha-enterprise",mN="NO_RECAPTCHA";class gN{constructor(e){this.type=pN,this.auth=es(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{K2(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new q2(u);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function i(s,o,a){const u=window.grecaptcha;i0(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(mN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&i0(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=dN();u.length!==0&&(u+=a),w1(u).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function c0(t,e,n,r=!1){const i=new gN(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Up(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await c0(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await c0(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e){const n=Rg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Lc(s,e??{}))return i;Sn(i,"already-initialized")}return n.initialize({options:e})}function vN(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _N(t,e,n){const r=es(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=T1(e),{host:o,port:a}=EN(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),wN()}function T1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function EN(t){const e=T1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:d0(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:d0(o)}}}function d0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function wN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yn("not implemented")}_getIdTokenResponse(e){return Yn("not implemented")}_linkToIdToken(e,n){return Yn("not implemented")}_getReauthenticationResolver(e){return Yn("not implemented")}}async function TN(t,e){return fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(t,e){return Al(t,"POST","/v1/accounts:signInWithPassword",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}async function CN(t,e){return Al(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends Ng{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,n,"signInWithPassword",SN);case"emailLink":return IN(e,{email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Up(e,r,"signUpPassword",TN);case"emailLink":return CN(e,{idToken:n,email:this._email,oobCode:this._password});default:Sn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(t,e){return Al(t,"POST","/v1/accounts:signInWithIdp",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="http://localhost";class Wi extends Ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Pg(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Wi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ws(e,n)}buildRequest(){const e={requestUri:AN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function PN(t){const e=ha(fa(t)).link,n=e?ha(fa(e)).deep_link_id:null,r=ha(fa(t)).deep_link_id;return(r?ha(fa(r)).link:null)||r||n||e||t}class Dg{constructor(e){var n,r,i,s,o,a;const u=ha(fa(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=RN((i=u.mode)!==null&&i!==void 0?i:null);ie(c&&h&&p,"argument-error"),this.apiKey=c,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=PN(e);try{return new Dg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.providerId=So.PROVIDER_ID}static credential(e,n){return sl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dg.parseLink(n);return ie(r,"argument-error"),sl._fromEmailAndCode(e,r.code,r.tenantId)}}So.PROVIDER_ID="password";So.EMAIL_PASSWORD_SIGN_IN_METHOD="password";So.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends S1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Rl{constructor(){super("facebook.com")}static credential(e){return Wi._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Cr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Rl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wi._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Rl{constructor(){super("github.com")}static credential(e){return Wi._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.GITHUB_SIGN_IN_METHOD="github.com";Rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Rl{constructor(){super("twitter.com")}static credential(e,n){return Wi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(t,e){return Al(t,"POST","/v1/accounts:signUp",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Xn._fromIdTokenResponse(e,r,i),o=h0(r);return new qi({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=h0(r);return new qi({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function h0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends hr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new $c(e,n,r,i)}}function I1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(t,s,e,r):s})}async function bN(t,e,n=!1){const r=await oo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(tr(r));const i="reauthenticate";try{const s=await oo(t,I1(r,i,e,t),n);ie(s.idToken,r,"internal-error");const o=Og(s.idToken);ie(o,r,"internal-error");const{sub:a}=o;return ie(t.uid===a,r,"user-mismatch"),qi._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(t,e,n=!1){if(On(t.app))return Promise.reject(tr(t));const r="signIn",i=await I1(t,r,e),s=await qi._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function xN(t,e){return C1(es(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(t){const e=es(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NN(t,e,n){if(On(t.app))return Promise.reject(tr(t));const r=es(t),o=await Up(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kN).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&A1(t),u}),a=await qi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function DN(t,e,n){return On(t.app)?Promise.reject(tr(t)):xN(Un(t),So.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&A1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LN(t,e){return fr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Un(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await oo(r,LN(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function FN(t,e,n,r){return Un(t).onIdTokenChanged(e,n,r)}function VN(t,e,n){return Un(t).beforeAuthStateChanged(e,n)}function $N(t){return Un(t).signOut()}const Uc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uc,"1"),this.storage.removeItem(Uc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(){const t=ht();return xg(t)||Rd(t)}const jN=1e3,zN=10;class P1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=UN()&&iN(),this.fallbackToPolling=_1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);rN()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zN):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},jN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}P1.type="LOCAL";const BN=P1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}k1.type="SESSION";const b1=k1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),u=await HN(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=Lg("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return window}function qN(t){Ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}async function KN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GN(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function QN(){return O1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="firebaseLocalStorageDb",YN=1,jc="firebaseLocalStorage",N1="fbase_key";class Pl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bd(t,e){return t.transaction([jc],e?"readwrite":"readonly").objectStore(jc)}function XN(){const t=indexedDB.deleteDatabase(x1);return new Pl(t).toPromise()}function jp(){const t=indexedDB.open(x1,YN);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(jc,{keyPath:N1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(jc)?e(r):(r.close(),await XN(),e(await jp()))})})}async function f0(t,e,n){const r=bd(t,!0).put({[N1]:e,value:n});return new Pl(r).toPromise()}async function JN(t,e){const n=bd(t,!1).get(e),r=await new Pl(n).toPromise();return r===void 0?null:r.value}function p0(t,e){const n=bd(t,!0).delete(e);return new Pl(n).toPromise()}const ZN=800,eD=3;class D1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kd._getInstance(QN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KN(),!this.activeServiceWorker)return;this.sender=new WN(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jp();return await f0(e,Uc,"1"),await p0(e,Uc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>f0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JN(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=bd(i,!1).getAll();return new Pl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D1.type="LOCAL";const tD=D1;new Cl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e){return e?Jn(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg extends Ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rD(t){return C1(t.auth,new Mg(t),t.bypassAuthState)}function iD(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),ON(n,new Mg(t),t.bypassAuthState)}async function sD(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),bN(n,new Mg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rD;case"linkViaPopup":case"linkViaRedirect":return sD;case"reauthViaPopup":case"reauthViaRedirect":return iD;default:Sn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new Cl(2e3,1e4);class xs extends L1{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oD.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="pendingRedirect",Wu=new Map;class lD extends L1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wu.get(this.auth._key());if(!e){try{const r=await uD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wu.set(this.auth._key(),e)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uD(t,e){const n=hD(e),r=dD(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function cD(t,e){Wu.set(t._key(),e)}function dD(t){return Jn(t._redirectPersistence)}function hD(t){return Hu(aD,t.config.apiKey,t.name)}async function fD(t,e,n=!1){if(On(t.app))return Promise.reject(tr(t));const r=es(t),i=nD(r,e),o=await new lD(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD=10*60*1e3;class mD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!M1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pD&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function M1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(t,e={}){return fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_D=/^https?/;async function ED(t){if(t.config.emulator)return;const{authorizedDomains:e}=await yD(t);for(const n of e)try{if(wD(n))return}catch{}Sn(t,"unauthorized-domain")}function wD(t){const e=Vp(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!_D.test(n))return!1;if(vD.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TD=new Cl(3e4,6e4);function g0(){const t=Ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SD(t){return new Promise((e,n)=>{var r,i,s;function o(){g0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{g0(),n(Dn(t,"network-request-failed"))},timeout:TD.get()})}if(!((i=(r=Ln().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ln().gapi)===null||s===void 0)&&s.load)o();else{const a=fN("iframefcb");return Ln()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},w1(`${hN()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw qu=null,e})}let qu=null;function ID(t){return qu=qu||SD(t),qu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=new Cl(5e3,15e3),AD="__/auth/iframe",RD="emulator/auth/iframe",PD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bD(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bg(e,RD):`https://${t.config.authDomain}/${AD}`,r={apiKey:e.apiKey,appName:t.name,v:To},i=kD.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Il(r).slice(1)}`}async function OD(t){const e=await ID(t),n=Ln().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:bD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PD,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=Ln().setTimeout(()=>{s(o)},CD.get());function u(){Ln().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ND=500,DD=600,LD="_blank",MD="http://localhost";class y0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FD(t,e,n,r=ND,i=DD){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},xD),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ht().toLowerCase();n&&(a=p1(c)?LD:n),f1(c)&&(e=e||MD,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[T,I])=>`${m}${T}=${I},`,"");if(nN(c)&&a!=="_self")return VD(e||"",a),new y0(null);const p=window.open(e||"",a,h);ie(p,t,"popup-blocked");try{p.focus()}catch{}return new y0(p)}function VD(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="__/auth/handler",UD="emulator/auth/handler",jD=encodeURIComponent("fac");async function v0(t,e,n,r,i,s){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:To,eventId:i};if(e instanceof S1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Rx(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof Rl){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${jD}=${encodeURIComponent(u)}`:"";return`${zD(t)}?${Il(a).slice(1)}${c}`}function zD({config:t}){return t.emulator?bg(t,UD):`https://${t.authDomain}/${$D}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="webStorageSupport";class BD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=b1,this._completeRedirectFn=fD,this._overrideRedirectResult=cD}async _openPopup(e,n,r,i){var s;ar((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await v0(e,n,r,Vp(),i);return FD(e,o,Lg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await v0(e,n,r,Vp(),i);return qN(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ar(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OD(e),r=new mD(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ff,{type:ff},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ff];o!==void 0&&n(!!o),Sn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ED(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _1()||xg()||Rd()}}const HD=BD;var _0="@firebase/auth",E0="1.7.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function KD(t){so(new Bi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:E1(t)},c=new uN(r,i,s,u);return vN(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),so(new Bi("auth-internal",e=>{const n=es(e.getProvider("auth").getImmediate());return(r=>new WD(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(_0,E0,qD(t)),Kr(_0,E0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=5*60,QD=XS("authIdTokenMaxAge")||GD;let w0=null;const YD=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>QD)return;const i=n==null?void 0:n.token;w0!==i&&(w0=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XD(t=t1()){const e=Rg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=yN(t,{popupRedirectResolver:HD,persistence:[tD,BN,b1]}),r=XS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=YD(s.toString());VN(n,o,()=>o(n.currentUser)),FN(n,a=>o(a))}}const i=QS("auth");return i&&_N(n,`http://${i}`),n}function JD(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}cN({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Dn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",JD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});KD("Browser");var ZD="firebase",eL="10.12.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(ZD,eL,"app");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,F1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,g){function S(){}S.prototype=g.prototype,E.D=g.prototype,E.prototype=new S,E.prototype.constructor=E,E.C=function(C,P,O){for(var A=Array(arguments.length-2),q=2;q<arguments.length;q++)A[q-2]=arguments[q];return g.prototype[P].apply(C,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,g,S){S||(S=0);var C=Array(16);if(typeof g=="string")for(var P=0;16>P;++P)C[P]=g.charCodeAt(S++)|g.charCodeAt(S++)<<8|g.charCodeAt(S++)<<16|g.charCodeAt(S++)<<24;else for(P=0;16>P;++P)C[P]=g[S++]|g[S++]<<8|g[S++]<<16|g[S++]<<24;g=E.g[0],S=E.g[1],P=E.g[2];var O=E.g[3],A=g+(O^S&(P^O))+C[0]+3614090360&4294967295;g=S+(A<<7&4294967295|A>>>25),A=O+(P^g&(S^P))+C[1]+3905402710&4294967295,O=g+(A<<12&4294967295|A>>>20),A=P+(S^O&(g^S))+C[2]+606105819&4294967295,P=O+(A<<17&4294967295|A>>>15),A=S+(g^P&(O^g))+C[3]+3250441966&4294967295,S=P+(A<<22&4294967295|A>>>10),A=g+(O^S&(P^O))+C[4]+4118548399&4294967295,g=S+(A<<7&4294967295|A>>>25),A=O+(P^g&(S^P))+C[5]+1200080426&4294967295,O=g+(A<<12&4294967295|A>>>20),A=P+(S^O&(g^S))+C[6]+2821735955&4294967295,P=O+(A<<17&4294967295|A>>>15),A=S+(g^P&(O^g))+C[7]+4249261313&4294967295,S=P+(A<<22&4294967295|A>>>10),A=g+(O^S&(P^O))+C[8]+1770035416&4294967295,g=S+(A<<7&4294967295|A>>>25),A=O+(P^g&(S^P))+C[9]+2336552879&4294967295,O=g+(A<<12&4294967295|A>>>20),A=P+(S^O&(g^S))+C[10]+4294925233&4294967295,P=O+(A<<17&4294967295|A>>>15),A=S+(g^P&(O^g))+C[11]+2304563134&4294967295,S=P+(A<<22&4294967295|A>>>10),A=g+(O^S&(P^O))+C[12]+1804603682&4294967295,g=S+(A<<7&4294967295|A>>>25),A=O+(P^g&(S^P))+C[13]+4254626195&4294967295,O=g+(A<<12&4294967295|A>>>20),A=P+(S^O&(g^S))+C[14]+2792965006&4294967295,P=O+(A<<17&4294967295|A>>>15),A=S+(g^P&(O^g))+C[15]+1236535329&4294967295,S=P+(A<<22&4294967295|A>>>10),A=g+(P^O&(S^P))+C[1]+4129170786&4294967295,g=S+(A<<5&4294967295|A>>>27),A=O+(S^P&(g^S))+C[6]+3225465664&4294967295,O=g+(A<<9&4294967295|A>>>23),A=P+(g^S&(O^g))+C[11]+643717713&4294967295,P=O+(A<<14&4294967295|A>>>18),A=S+(O^g&(P^O))+C[0]+3921069994&4294967295,S=P+(A<<20&4294967295|A>>>12),A=g+(P^O&(S^P))+C[5]+3593408605&4294967295,g=S+(A<<5&4294967295|A>>>27),A=O+(S^P&(g^S))+C[10]+38016083&4294967295,O=g+(A<<9&4294967295|A>>>23),A=P+(g^S&(O^g))+C[15]+3634488961&4294967295,P=O+(A<<14&4294967295|A>>>18),A=S+(O^g&(P^O))+C[4]+3889429448&4294967295,S=P+(A<<20&4294967295|A>>>12),A=g+(P^O&(S^P))+C[9]+568446438&4294967295,g=S+(A<<5&4294967295|A>>>27),A=O+(S^P&(g^S))+C[14]+3275163606&4294967295,O=g+(A<<9&4294967295|A>>>23),A=P+(g^S&(O^g))+C[3]+4107603335&4294967295,P=O+(A<<14&4294967295|A>>>18),A=S+(O^g&(P^O))+C[8]+1163531501&4294967295,S=P+(A<<20&4294967295|A>>>12),A=g+(P^O&(S^P))+C[13]+2850285829&4294967295,g=S+(A<<5&4294967295|A>>>27),A=O+(S^P&(g^S))+C[2]+4243563512&4294967295,O=g+(A<<9&4294967295|A>>>23),A=P+(g^S&(O^g))+C[7]+1735328473&4294967295,P=O+(A<<14&4294967295|A>>>18),A=S+(O^g&(P^O))+C[12]+2368359562&4294967295,S=P+(A<<20&4294967295|A>>>12),A=g+(S^P^O)+C[5]+4294588738&4294967295,g=S+(A<<4&4294967295|A>>>28),A=O+(g^S^P)+C[8]+2272392833&4294967295,O=g+(A<<11&4294967295|A>>>21),A=P+(O^g^S)+C[11]+1839030562&4294967295,P=O+(A<<16&4294967295|A>>>16),A=S+(P^O^g)+C[14]+4259657740&4294967295,S=P+(A<<23&4294967295|A>>>9),A=g+(S^P^O)+C[1]+2763975236&4294967295,g=S+(A<<4&4294967295|A>>>28),A=O+(g^S^P)+C[4]+1272893353&4294967295,O=g+(A<<11&4294967295|A>>>21),A=P+(O^g^S)+C[7]+4139469664&4294967295,P=O+(A<<16&4294967295|A>>>16),A=S+(P^O^g)+C[10]+3200236656&4294967295,S=P+(A<<23&4294967295|A>>>9),A=g+(S^P^O)+C[13]+681279174&4294967295,g=S+(A<<4&4294967295|A>>>28),A=O+(g^S^P)+C[0]+3936430074&4294967295,O=g+(A<<11&4294967295|A>>>21),A=P+(O^g^S)+C[3]+3572445317&4294967295,P=O+(A<<16&4294967295|A>>>16),A=S+(P^O^g)+C[6]+76029189&4294967295,S=P+(A<<23&4294967295|A>>>9),A=g+(S^P^O)+C[9]+3654602809&4294967295,g=S+(A<<4&4294967295|A>>>28),A=O+(g^S^P)+C[12]+3873151461&4294967295,O=g+(A<<11&4294967295|A>>>21),A=P+(O^g^S)+C[15]+530742520&4294967295,P=O+(A<<16&4294967295|A>>>16),A=S+(P^O^g)+C[2]+3299628645&4294967295,S=P+(A<<23&4294967295|A>>>9),A=g+(P^(S|~O))+C[0]+4096336452&4294967295,g=S+(A<<6&4294967295|A>>>26),A=O+(S^(g|~P))+C[7]+1126891415&4294967295,O=g+(A<<10&4294967295|A>>>22),A=P+(g^(O|~S))+C[14]+2878612391&4294967295,P=O+(A<<15&4294967295|A>>>17),A=S+(O^(P|~g))+C[5]+4237533241&4294967295,S=P+(A<<21&4294967295|A>>>11),A=g+(P^(S|~O))+C[12]+1700485571&4294967295,g=S+(A<<6&4294967295|A>>>26),A=O+(S^(g|~P))+C[3]+2399980690&4294967295,O=g+(A<<10&4294967295|A>>>22),A=P+(g^(O|~S))+C[10]+4293915773&4294967295,P=O+(A<<15&4294967295|A>>>17),A=S+(O^(P|~g))+C[1]+2240044497&4294967295,S=P+(A<<21&4294967295|A>>>11),A=g+(P^(S|~O))+C[8]+1873313359&4294967295,g=S+(A<<6&4294967295|A>>>26),A=O+(S^(g|~P))+C[15]+4264355552&4294967295,O=g+(A<<10&4294967295|A>>>22),A=P+(g^(O|~S))+C[6]+2734768916&4294967295,P=O+(A<<15&4294967295|A>>>17),A=S+(O^(P|~g))+C[13]+1309151649&4294967295,S=P+(A<<21&4294967295|A>>>11),A=g+(P^(S|~O))+C[4]+4149444226&4294967295,g=S+(A<<6&4294967295|A>>>26),A=O+(S^(g|~P))+C[11]+3174756917&4294967295,O=g+(A<<10&4294967295|A>>>22),A=P+(g^(O|~S))+C[2]+718787259&4294967295,P=O+(A<<15&4294967295|A>>>17),A=S+(O^(P|~g))+C[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,E.g[2]=E.g[2]+P&4294967295,E.g[3]=E.g[3]+O&4294967295}r.prototype.u=function(E,g){g===void 0&&(g=E.length);for(var S=g-this.blockSize,C=this.B,P=this.h,O=0;O<g;){if(P==0)for(;O<=S;)i(this,E,O),O+=this.blockSize;if(typeof E=="string"){for(;O<g;)if(C[P++]=E.charCodeAt(O++),P==this.blockSize){i(this,C),P=0;break}}else for(;O<g;)if(C[P++]=E[O++],P==this.blockSize){i(this,C),P=0;break}}this.h=P,this.o+=g},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;var S=8*this.o;for(g=E.length-8;g<E.length;++g)E[g]=S&255,S/=256;for(this.u(E),E=Array(16),g=S=0;4>g;++g)for(var C=0;32>C;C+=8)E[S++]=this.g[g]>>>C&255;return E};function s(E,g){var S=a;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=g(E)}function o(E,g){this.h=g;for(var S=[],C=!0,P=E.length-1;0<=P;P--){var O=E[P]|0;C&&O==g||(S[P]=O,C=!1)}this.g=S}var a={};function u(E){return-128<=E&&128>E?s(E,function(g){return new o([g|0],0>g?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return k(c(-E));for(var g=[],S=1,C=0;E>=S;C++)g[C]=E/S|0,S*=4294967296;return new o(g,0)}function h(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return k(h(E.substring(1),g));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(g,8)),C=p,P=0;P<E.length;P+=8){var O=Math.min(8,E.length-P),A=parseInt(E.substring(P,P+O),g);8>O?(O=c(Math.pow(g,O)),C=C.j(O).add(c(A))):(C=C.j(S),C=C.add(c(A)))}return C}var p=u(0),m=u(1),T=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-k(this).m();for(var E=0,g=1,S=0;S<this.g.length;S++){var C=this.i(S);E+=(0<=C?C:4294967296+C)*g,g*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I(this))return"0";if(R(this))return"-"+k(this).toString(E);for(var g=c(Math.pow(E,6)),S=this,C="";;){var P=b(S,g).g;S=_(S,P.j(g));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(E);if(S=P,I(S))return O+C;for(;6>O.length;)O="0"+O;C=O+C}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function I(E){if(E.h!=0)return!1;for(var g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=_(this,E),R(E)?-1:I(E)?0:1};function k(E){for(var g=E.g.length,S=[],C=0;C<g;C++)S[C]=~E.g[C];return new o(S,~E.h).add(m)}t.abs=function(){return R(this)?k(this):this},t.add=function(E){for(var g=Math.max(this.g.length,E.g.length),S=[],C=0,P=0;P<=g;P++){var O=C+(this.i(P)&65535)+(E.i(P)&65535),A=(O>>>16)+(this.i(P)>>>16)+(E.i(P)>>>16);C=A>>>16,O&=65535,A&=65535,S[P]=A<<16|O}return new o(S,S[S.length-1]&-2147483648?-1:0)};function _(E,g){return E.add(k(g))}t.j=function(E){if(I(this)||I(E))return p;if(R(this))return R(E)?k(this).j(k(E)):k(k(this).j(E));if(R(E))return k(this.j(k(E)));if(0>this.l(T)&&0>E.l(T))return c(this.m()*E.m());for(var g=this.g.length+E.g.length,S=[],C=0;C<2*g;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var P=0;P<E.g.length;P++){var O=this.i(C)>>>16,A=this.i(C)&65535,q=E.i(P)>>>16,J=E.i(P)&65535;S[2*C+2*P]+=A*J,y(S,2*C+2*P),S[2*C+2*P+1]+=O*J,y(S,2*C+2*P+1),S[2*C+2*P+1]+=A*q,y(S,2*C+2*P+1),S[2*C+2*P+2]+=O*q,y(S,2*C+2*P+2)}for(C=0;C<g;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=g;C<2*g;C++)S[C]=0;return new o(S,0)};function y(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function w(E,g){this.g=E,this.h=g}function b(E,g){if(I(g))throw Error("division by zero");if(I(E))return new w(p,p);if(R(E))return g=b(k(E),g),new w(k(g.g),k(g.h));if(R(g))return g=b(E,k(g)),new w(k(g.g),g.h);if(30<E.g.length){if(R(E)||R(g))throw Error("slowDivide_ only works with positive integers.");for(var S=m,C=g;0>=C.l(E);)S=V(S),C=V(C);var P=D(S,1),O=D(C,1);for(C=D(C,2),S=D(S,2);!I(C);){var A=O.add(C);0>=A.l(E)&&(P=P.add(S),O=A),C=D(C,1),S=D(S,1)}return g=_(E,P.j(g)),new w(P,g)}for(P=p;0<=E.l(g);){for(S=Math.max(1,Math.floor(E.m()/g.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),O=c(S),A=O.j(g);R(A)||0<A.l(E);)S-=C,O=c(S),A=O.j(g);I(O)&&(O=m),P=P.add(O),E=_(E,A)}return new w(P,E)}t.A=function(E){return b(this,E).h},t.and=function(E){for(var g=Math.max(this.g.length,E.g.length),S=[],C=0;C<g;C++)S[C]=this.i(C)&E.i(C);return new o(S,this.h&E.h)},t.or=function(E){for(var g=Math.max(this.g.length,E.g.length),S=[],C=0;C<g;C++)S[C]=this.i(C)|E.i(C);return new o(S,this.h|E.h)},t.xor=function(E){for(var g=Math.max(this.g.length,E.g.length),S=[],C=0;C<g;C++)S[C]=this.i(C)^E.i(C);return new o(S,this.h^E.h)};function V(E){for(var g=E.g.length+1,S=[],C=0;C<g;C++)S[C]=E.i(C)<<1|E.i(C-1)>>>31;return new o(S,E.h)}function D(E,g){var S=g>>5;g%=32;for(var C=E.g.length-S,P=[],O=0;O<C;O++)P[O]=0<g?E.i(O+S)>>>g|E.i(O+S+1)<<32-g:E.i(O+S);return new o(P,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,F1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ki=o}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V1,$1,pa,U1,Ku,zp,j1,z1,B1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,f){return l==Array.prototype||l==Object.prototype||(l[d]=f.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eu=="object"&&Eu];for(var d=0;d<l.length;++d){var f=l[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var f=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var x=l[v];if(!(x in f))break e;f=f[x]}l=l[l.length-1],v=f[l],d=d(v),d!=v&&d!=null&&e(f,l,{configurable:!0,writable:!0,value:d})}}function s(l,d){l instanceof String&&(l+="");var f=0,v=!1,x={next:function(){if(!v&&f<l.length){var F=f++;return{value:d(F,l[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(l){return l||function(){return s(this,function(d,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,f){return l.call.apply(l.bind,arguments)}function p(l,d,f){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),l.apply(d,x)}}return function(){return l.apply(d,arguments)}}function m(l,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function T(l,d){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function I(l,d){function f(){}f.prototype=d.prototype,l.aa=d.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(v,x,F){for(var B=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)B[Ae-2]=arguments[Ae];return d.prototype[x].apply(v,B)}}function R(l){const d=l.length;if(0<d){const f=Array(d);for(let v=0;v<d;v++)f[v]=l[v];return f}return[]}function k(l,d){for(let f=1;f<arguments.length;f++){const v=arguments[f];if(u(v)){const x=l.length||0,F=v.length||0;l.length=x+F;for(let B=0;B<F;B++)l[x+B]=v[B]}else l.push(v)}}class _{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function y(l){return/^[\s\xa0]*$/.test(l)}function w(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function b(l){return b[" "](l),l}b[" "]=function(){};var V=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function D(l,d,f){for(const v in l)d.call(f,l[v],v,l)}function E(l,d){for(const f in l)d.call(void 0,l[f],f,l)}function g(l){const d={};for(const f in l)d[f]=l[f];return d}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,d){let f,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(f in v)l[f]=v[f];for(let F=0;F<S.length;F++)f=S[F],Object.prototype.hasOwnProperty.call(v,f)&&(l[f]=v[f])}}function P(l){var d=1;l=l.split(":");const f=[];for(;0<d&&l.length;)f.push(l.shift()),d--;return l.length&&f.push(l.join(":")),f}function O(l){a.setTimeout(()=>{throw l},0)}function A(){var l=W;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class q{constructor(){this.h=this.g=null}add(d,f){const v=J.get();v.set(d,f),this.h?this.h.next=v:this.g=v,this.h=v}}var J=new _(()=>new pe,l=>l.reset());class pe{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let M,$=!1,W=new q,G=()=>{const l=a.Promise.resolve(void 0);M=()=>{l.then(Z)}};var Z=()=>{for(var l;l=A();){try{l.h.call(l.g)}catch(f){O(f)}var d=J;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}$=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return l}();function Te(l,d){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(V){e:{try{b(d.nodeName);var x=!0;break e}catch{}x=!1}x||(d=null)}}else f=="mouseover"?d=l.fromElement:f=="mouseout"&&(d=l.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ue[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Te.aa.h.call(this)}}I(Te,oe);var Ue={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var He="closure_listenable_"+(1e6*Math.random()|0),as=0;function Fl(l,d,f,v,x){this.listener=l,this.proxy=null,this.src=d,this.type=f,this.capture=!!v,this.ha=x,this.key=++as,this.da=this.fa=!1}function li(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function mr(l){this.src=l,this.g={},this.h=0}mr.prototype.add=function(l,d,f,v,x){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var B=ls(l,d,v,x);return-1<B?(d=l[B],f||(d.fa=!1)):(d=new Fl(d,this.src,F,!!v,x),d.fa=f,l.push(d)),d};function Oo(l,d){var f=d.type;if(f in l.g){var v=l.g[f],x=Array.prototype.indexOf.call(v,d,void 0),F;(F=0<=x)&&Array.prototype.splice.call(v,x,1),F&&(li(d),l.g[f].length==0&&(delete l.g[f],l.h--))}}function ls(l,d,f,v){for(var x=0;x<l.length;++x){var F=l[x];if(!F.da&&F.listener==d&&F.capture==!!f&&F.ha==v)return x}return-1}var xo="closure_lm_"+(1e6*Math.random()|0),No={};function Vl(l,d,f,v,x){if(Array.isArray(d)){for(var F=0;F<d.length;F++)Vl(l,d[F],f,v,x);return null}return f=te(f),l&&l[He]?l.K(d,f,c(v)?!!v.capture:!!v,x):uh(l,d,f,!1,v,x)}function uh(l,d,f,v,x,F){if(!d)throw Error("Invalid event type");var B=c(x)?!!x.capture:!!x,Ae=K(l);if(Ae||(l[xo]=Ae=new mr(l)),f=Ae.add(d,f,v,B,F),f.proxy)return f;if(v=ch(),f.proxy=v,v.src=l,v.listener=f,l.addEventListener)_e||(x=B),x===void 0&&(x=!1),l.addEventListener(d.toString(),v,x);else if(l.attachEvent)l.attachEvent($l(d.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ch(){function l(f){return d.call(l.src,l.listener,f)}const d=L;return l}function us(l,d,f,v,x){if(Array.isArray(d))for(var F=0;F<d.length;F++)us(l,d[F],f,v,x);else v=c(v)?!!v.capture:!!v,f=te(f),l&&l[He]?(l=l.i,d=String(d).toString(),d in l.g&&(F=l.g[d],f=ls(F,f,v,x),-1<f&&(li(F[f]),Array.prototype.splice.call(F,f,1),F.length==0&&(delete l.g[d],l.h--)))):l&&(l=K(l))&&(d=l.g[d.toString()],l=-1,d&&(l=ls(d,f,v,x)),(f=-1<l?d[l]:null)&&Do(f))}function Do(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[He])Oo(d.i,l);else{var f=l.type,v=l.proxy;d.removeEventListener?d.removeEventListener(f,v,l.capture):d.detachEvent?d.detachEvent($l(f),v):d.addListener&&d.removeListener&&d.removeListener(v),(f=K(d))?(Oo(f,l),f.h==0&&(f.src=null,d[xo]=null)):li(l)}}}function $l(l){return l in No?No[l]:No[l]="on"+l}function L(l,d){if(l.da)l=!0;else{d=new Te(d,this);var f=l.listener,v=l.ha||l.src;l.fa&&Do(l),l=f.call(v,d)}return l}function K(l){return l=l[xo],l instanceof mr?l:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(l){return typeof l=="function"?l:(l[Y]||(l[Y]=function(d){return l.handleEvent(d)}),l[Y])}function ee(){ne.call(this),this.i=new mr(this),this.M=this,this.F=null}I(ee,ne),ee.prototype[He]=!0,ee.prototype.removeEventListener=function(l,d,f,v){us(this,l,d,f,v)};function ae(l,d){var f,v=l.F;if(v)for(f=[];v;v=v.F)f.push(v);if(l=l.M,v=d.type||d,typeof d=="string")d=new oe(d,l);else if(d instanceof oe)d.target=d.target||l;else{var x=d;d=new oe(v,l),C(d,x)}if(x=!0,f)for(var F=f.length-1;0<=F;F--){var B=d.g=f[F];x=Le(B,v,!0,d)&&x}if(B=d.g=l,x=Le(B,v,!0,d)&&x,x=Le(B,v,!1,d)&&x,f)for(F=0;F<f.length;F++)B=d.g=f[F],x=Le(B,v,!1,d)&&x}ee.prototype.N=function(){if(ee.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var f=l.g[d],v=0;v<f.length;v++)li(f[v]);delete l.g[d],l.h--}}this.F=null},ee.prototype.K=function(l,d,f,v){return this.i.add(String(l),d,!1,f,v)},ee.prototype.L=function(l,d,f,v){return this.i.add(String(l),d,!0,f,v)};function Le(l,d,f,v){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var x=!0,F=0;F<d.length;++F){var B=d[F];if(B&&!B.da&&B.capture==f){var Ae=B.listener,st=B.ha||B.src;B.fa&&Oo(l.i,B),x=Ae.call(st,v)!==!1&&x}}return x&&!v.defaultPrevented}function tn(l,d,f){if(typeof l=="function")f&&(l=m(l,f));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function cs(l){l.g=tn(()=>{l.g=null,l.i&&(l.i=!1,cs(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class Lo extends ne{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:cs(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(l){ne.call(this),this.h=l,this.g={}}I(ui,ne);var dh=[];function Mo(l){D(l.g,function(d,f){this.g.hasOwnProperty(f)&&Do(d)},l),l.g={}}ui.prototype.N=function(){ui.aa.N.call(this),Mo(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fo=a.JSON.stringify,XC=a.JSON.parse,JC=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function hh(){}hh.prototype.h=null;function Cy(l){return l.h||(l.h=l.i())}function Ay(){}var Vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fh(){oe.call(this,"d")}I(fh,oe);function ph(){oe.call(this,"c")}I(ph,oe);var ci={},Ry=null;function Ul(){return Ry=Ry||new ee}ci.La="serverreachability";function Py(l){oe.call(this,ci.La,l)}I(Py,oe);function $o(l){const d=Ul();ae(d,new Py(d))}ci.STAT_EVENT="statevent";function ky(l,d){oe.call(this,ci.STAT_EVENT,l),this.stat=d}I(ky,oe);function It(l){const d=Ul();ae(d,new ky(d,l))}ci.Ma="timingevent";function by(l,d){oe.call(this,ci.Ma,l),this.size=d}I(by,oe);function Uo(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function jo(){this.g=!0}jo.prototype.xa=function(){this.g=!1};function ZC(l,d,f,v,x,F){l.info(function(){if(l.g)if(F)for(var B="",Ae=F.split("&"),st=0;st<Ae.length;st++){var ve=Ae[st].split("=");if(1<ve.length){var ft=ve[0];ve=ve[1];var pt=ft.split("_");B=2<=pt.length&&pt[1]=="type"?B+(ft+"="+ve+"&"):B+(ft+"=redacted&")}}else B=null;else B=F;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+d+`
`+f+`
`+B})}function eA(l,d,f,v,x,F,B){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+d+`
`+f+`
`+F+" "+B})}function ds(l,d,f,v){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+nA(l,f)+(v?" "+v:"")})}function tA(l,d){l.info(function(){return"TIMEOUT: "+d})}jo.prototype.info=function(){};function nA(l,d){if(!l.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var v=f[l];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var F=x[0];if(F!="noop"&&F!="stop"&&F!="close")for(var B=1;B<x.length;B++)x[B]=""}}}}return Fo(f)}catch{return d}}var jl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mh;function zl(){}I(zl,hh),zl.prototype.g=function(){return new XMLHttpRequest},zl.prototype.i=function(){return{}},mh=new zl;function gr(l,d,f,v){this.j=l,this.i=d,this.l=f,this.R=v||1,this.U=new ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xy}function xy(){this.i=null,this.g="",this.h=!1}var Ny={},gh={};function yh(l,d,f){l.L=1,l.v=ql(zn(d)),l.m=f,l.P=!0,Dy(l,null)}function Dy(l,d){l.F=Date.now(),Bl(l),l.A=zn(l.v);var f=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),Gy(f.i,"t",v),l.C=0,f=l.j.J,l.h=new xy,l.g=hv(l.j,f?d:null,!l.m),0<l.O&&(l.M=new Lo(m(l.Y,l,l.g),l.O)),d=l.U,f=l.g,v=l.ca;var x="readystatechange";Array.isArray(x)||(x&&(dh[0]=x.toString()),x=dh);for(var F=0;F<x.length;F++){var B=Vl(f,x[F],v||d.handleEvent,!1,d.h||d);if(!B)break;d.g[B.key]=B}d=l.H?g(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),$o(),ZC(l.i,l.u,l.A,l.l,l.R,l.m)}gr.prototype.ca=function(l){l=l.target;const d=this.M;d&&Bn(l)==3?d.j():this.Y(l)},gr.prototype.Y=function(l){try{if(l==this.g)e:{const pt=Bn(this.g);var d=this.g.Ba();const ps=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||tv(this.g)))){this.J||pt!=4||d==7||(d==8||0>=ps?$o(3):$o(2)),vh(this);var f=this.g.Z();this.X=f;t:if(Ly(this)){var v=tv(this.g);l="";var x=v.length,F=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){di(this),zo(this);var B="";break t}this.h.i=new a.TextDecoder}for(d=0;d<x;d++)this.h.h=!0,l+=this.h.i.decode(v[d],{stream:!(F&&d==x-1)});v.length=0,this.h.g+=l,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,eA(this.i,this.u,this.A,this.l,this.R,pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,st=this.g;if((Ae=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ae)){var ve=Ae;break t}}ve=null}if(f=ve)ds(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_h(this,f);else{this.o=!1,this.s=3,It(12),di(this),zo(this);break e}}if(this.P){f=!0;let hn;for(;!this.J&&this.C<B.length;)if(hn=rA(this,B),hn==gh){pt==4&&(this.s=4,It(14),f=!1),ds(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Ny){this.s=4,It(15),ds(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else ds(this.i,this.l,hn,null),_h(this,hn);if(Ly(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||B.length!=0||this.h.h||(this.s=1,It(16),f=!1),this.o=this.o&&f,!f)ds(this.i,this.l,B,"[Invalid Chunked Response]"),di(this),zo(this);else if(0<B.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Ch(ft),ft.M=!0,It(11))}}else ds(this.i,this.l,B,null),_h(this,B);pt==4&&di(this),this.o&&!this.J&&(pt==4?lv(this.j,this):(this.o=!1,Bl(this)))}else EA(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,It(12)):(this.s=0,It(13)),di(this),zo(this)}}}catch{}finally{}};function Ly(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function rA(l,d){var f=l.C,v=d.indexOf(`
`,f);return v==-1?gh:(f=Number(d.substring(f,v)),isNaN(f)?Ny:(v+=1,v+f>d.length?gh:(d=d.slice(v,v+f),l.C=v+f,d)))}gr.prototype.cancel=function(){this.J=!0,di(this)};function Bl(l){l.S=Date.now()+l.I,My(l,l.I)}function My(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Uo(m(l.ba,l),d)}function vh(l){l.B&&(a.clearTimeout(l.B),l.B=null)}gr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(tA(this.i,this.A),this.L!=2&&($o(),It(17)),di(this),this.s=2,zo(this)):My(this,this.S-l)};function zo(l){l.j.G==0||l.J||lv(l.j,l)}function di(l){vh(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,Mo(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function _h(l,d){try{var f=l.j;if(f.G!=0&&(f.g==l||Eh(f.h,l))){if(!l.K&&Eh(f.h,l)&&f.G==3){try{var v=f.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)Xl(f),Ql(f);else break e;Ih(f),It(18)}}else f.za=x[1],0<f.za-f.T&&37500>x[2]&&f.F&&f.v==0&&!f.C&&(f.C=Uo(m(f.Za,f),6e3));if(1>=$y(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else fi(f,11)}else if((l.K||f.g==l)&&Xl(f),!y(d))for(x=f.Da.g.parse(d),d=0;d<x.length;d++){let ve=x[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];const ft=ve[3];ft!=null&&(f.la=ft,f.j.info("VER="+f.la));const pt=ve[4];pt!=null&&(f.Aa=pt,f.j.info("SVER="+f.Aa));const ps=ve[5];ps!=null&&typeof ps=="number"&&0<ps&&(v=1.5*ps,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const hn=l.g;if(hn){const Zl=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zl){var F=v.h;F.g||Zl.indexOf("spdy")==-1&&Zl.indexOf("quic")==-1&&Zl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(wh(F,F.h),F.h=null))}if(v.D){const Ah=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ah&&(v.ya=Ah,ke(v.I,v.D,Ah))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var B=l;if(v.qa=dv(v,v.J?v.ia:null,v.W),B.K){Uy(v.h,B);var Ae=B,st=v.L;st&&(Ae.I=st),Ae.B&&(vh(Ae),Bl(Ae)),v.g=B}else ov(v);0<f.i.length&&Yl(f)}else ve[0]!="stop"&&ve[0]!="close"||fi(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?fi(f,7):Sh(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}$o(4)}catch{}}var iA=class{constructor(l,d){this.g=l,this.map=d}};function Fy(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vy(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function $y(l){return l.h?1:l.g?l.g.size:0}function Eh(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function wh(l,d){l.g?l.g.add(d):l.h=d}function Uy(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Fy.prototype.cancel=function(){if(this.i=jy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function jy(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const f of l.g.values())d=d.concat(f.D);return d}return R(l.i)}function sA(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],f=l.length,v=0;v<f;v++)d.push(l[v]);return d}d=[],f=0;for(v in l)d[f++]=l[v];return d}function oA(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var f=0;f<l;f++)d.push(f);return d}d=[],f=0;for(const v in l)d[f++]=v;return d}}}function zy(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var f=oA(l),v=sA(l),x=v.length,F=0;F<x;F++)d.call(void 0,v[F],f&&f[F],l)}var By=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aA(l,d){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var v=l[f].indexOf("="),x=null;if(0<=v){var F=l[f].substring(0,v);x=l[f].substring(v+1)}else F=l[f];d(F,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function hi(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof hi){this.h=l.h,Hl(this,l.j),this.o=l.o,this.g=l.g,Wl(this,l.s),this.l=l.l;var d=l.i,f=new Wo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Hy(this,f),this.m=l.m}else l&&(d=String(l).match(By))?(this.h=!1,Hl(this,d[1]||"",!0),this.o=Bo(d[2]||""),this.g=Bo(d[3]||"",!0),Wl(this,d[4]),this.l=Bo(d[5]||"",!0),Hy(this,d[6]||"",!0),this.m=Bo(d[7]||"")):(this.h=!1,this.i=new Wo(null,this.h))}hi.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Ho(d,Wy,!0),":");var f=this.g;return(f||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Ho(d,Wy,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(Ho(f,f.charAt(0)=="/"?cA:uA,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",Ho(f,hA)),l.join("")};function zn(l){return new hi(l)}function Hl(l,d,f){l.j=f?Bo(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Wl(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Hy(l,d,f){d instanceof Wo?(l.i=d,fA(l.i,l.h)):(f||(d=Ho(d,dA)),l.i=new Wo(d,l.h))}function ke(l,d,f){l.i.set(d,f)}function ql(l){return ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Bo(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ho(l,d,f){return typeof l=="string"?(l=encodeURI(l).replace(d,lA),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function lA(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Wy=/[#\/\?@]/g,uA=/[#\?:]/g,cA=/[#\?]/g,dA=/[#\?@]/g,hA=/#/g;function Wo(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function yr(l){l.g||(l.g=new Map,l.h=0,l.i&&aA(l.i,function(d,f){l.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Wo.prototype,t.add=function(l,d){yr(this),this.i=null,l=hs(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(d),this.h+=1,this};function qy(l,d){yr(l),d=hs(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Ky(l,d){return yr(l),d=hs(l,d),l.g.has(d)}t.forEach=function(l,d){yr(this),this.g.forEach(function(f,v){f.forEach(function(x){l.call(d,x,v,this)},this)},this)},t.na=function(){yr(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let v=0;v<d.length;v++){const x=l[v];for(let F=0;F<x.length;F++)f.push(d[v])}return f},t.V=function(l){yr(this);let d=[];if(typeof l=="string")Ky(this,l)&&(d=d.concat(this.g.get(hs(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)d=d.concat(l[f])}return d},t.set=function(l,d){return yr(this),this.i=null,l=hs(this,l),Ky(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Gy(l,d,f){qy(l,d),0<f.length&&(l.i=null,l.g.set(hs(l,d),R(f)),l.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var v=d[f];const F=encodeURIComponent(String(v)),B=this.V(v);for(v=0;v<B.length;v++){var x=F;B[v]!==""&&(x+="="+encodeURIComponent(String(B[v]))),l.push(x)}}return this.i=l.join("&")};function hs(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function fA(l,d){d&&!l.j&&(yr(l),l.i=null,l.g.forEach(function(f,v){var x=v.toLowerCase();v!=x&&(qy(this,v),Gy(this,x,f))},l)),l.j=d}function pA(l,d){const f=new jo;if(a.Image){const v=new Image;v.onload=T(vr,f,"TestLoadImage: loaded",!0,d,v),v.onerror=T(vr,f,"TestLoadImage: error",!1,d,v),v.onabort=T(vr,f,"TestLoadImage: abort",!1,d,v),v.ontimeout=T(vr,f,"TestLoadImage: timeout",!1,d,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else d(!1)}function mA(l,d){const f=new jo,v=new AbortController,x=setTimeout(()=>{v.abort(),vr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:v.signal}).then(F=>{clearTimeout(x),F.ok?vr(f,"TestPingServer: ok",!0,d):vr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(x),vr(f,"TestPingServer: error",!1,d)})}function vr(l,d,f,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(f)}catch{}}function gA(){this.g=new JC}function yA(l,d,f){const v=f||"";try{zy(l,function(x,F){let B=x;c(x)&&(B=Fo(x)),d.push(v+F+"="+encodeURIComponent(B))})}catch(x){throw d.push(v+"type="+encodeURIComponent("_badmap")),x}}function qo(l){this.l=l.Ub||null,this.j=l.eb||!1}I(qo,hh),qo.prototype.g=function(){return new Kl(this.l,this.j)},qo.prototype.i=function(l){return function(){return l}}({});function Kl(l,d){ee.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Kl,ee),t=Kl.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Go(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Go(this)),this.g&&(this.readyState=3,Go(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qy(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qy(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Ko(this):Go(this),this.readyState==3&&Qy(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Ko(this))},t.Qa=function(l){this.g&&(this.response=l,Ko(this))},t.ga=function(){this.g&&Ko(this)};function Ko(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Go(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=d.next();return l.join(`\r
`)};function Go(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Yy(l){let d="";return D(l,function(f,v){d+=v,d+=":",d+=f,d+=`\r
`}),d}function Th(l,d,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=Yy(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):ke(l,d,f))}function je(l){ee.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(je,ee);var vA=/^https?$/i,_A=["POST","PUT"];t=je.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mh.g(),this.v=this.o?Cy(this.o):Cy(mh),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(F){Xy(this,F);return}if(l=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)f.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const F of v.keys())f.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(F=>F.toLowerCase()=="content-type"),x=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_A,d,void 0))||v||x||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,B]of f)this.g.setRequestHeader(F,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ev(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){Xy(this,F)}};function Xy(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Jy(l),Gl(l)}function Jy(l){l.A||(l.A=!0,ae(l,"complete"),ae(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ae(this,"complete"),ae(this,"abort"),Gl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gl(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zy(this):this.bb())},t.bb=function(){Zy(this)};function Zy(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Bn(l)!=4||l.Z()!=2)){if(l.u&&Bn(l)==4)tn(l.Ea,0,l);else if(ae(l,"readystatechange"),Bn(l)==4){l.h=!1;try{const B=l.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var v;if(v=B===0){var x=String(l.D).match(By)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!vA.test(x?x.toLowerCase():"")}f=v}if(f)ae(l,"complete"),ae(l,"success");else{l.m=6;try{var F=2<Bn(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Jy(l)}}finally{Gl(l)}}}}function Gl(l,d){if(l.g){ev(l);const f=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ae(l,"ready");try{f.onreadystatechange=v}catch{}}}function ev(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Bn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),XC(d)}};function tv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function EA(l){const d={};l=(l.g&&2<=Bn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(y(l[v]))continue;var f=P(l[v]);const x=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const F=d[x]||[];d[x]=F,F.push(f)}E(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qo(l,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||d}function nv(l){this.Aa=0,this.i=[],this.j=new jo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qo("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qo("baseRetryDelayMs",5e3,l),this.cb=Qo("retryDelaySeedMs",1e4,l),this.Wa=Qo("forwardChannelMaxRetries",2,l),this.wa=Qo("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Fy(l&&l.concurrentRequestLimit),this.Da=new gA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nv.prototype,t.la=8,t.G=1,t.connect=function(l,d,f,v){It(0),this.W=l,this.H=d||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=dv(this,null,this.W),Yl(this)};function Sh(l){if(rv(l),l.G==3){var d=l.U++,f=zn(l.I);if(ke(f,"SID",l.K),ke(f,"RID",d),ke(f,"TYPE","terminate"),Yo(l,f),d=new gr(l,l.j,d),d.L=2,d.v=ql(zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=hv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Bl(d)}cv(l)}function Ql(l){l.g&&(Ch(l),l.g.cancel(),l.g=null)}function rv(l){Ql(l),l.u&&(a.clearTimeout(l.u),l.u=null),Xl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Yl(l){if(!Vy(l.h)&&!l.s){l.s=!0;var d=l.Ga;M||G(),$||(M(),$=!0),W.add(d,l),l.B=0}}function wA(l,d){return $y(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Uo(m(l.Ga,l,d),uv(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const x=new gr(this,this.j,l);let F=this.o;if(this.S&&(F?(F=g(F),C(F,this.S)):F=this.S),this.m!==null||this.O||(x.H=F,F=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=sv(this,x,d),f=zn(this.I),ke(f,"RID",l),ke(f,"CVER",22),this.D&&ke(f,"X-HTTP-Session-Id",this.D),Yo(this,f),F&&(this.O?d="headers="+encodeURIComponent(String(Yy(F)))+"&"+d:this.m&&Th(f,this.m,F)),wh(this.h,x),this.Ua&&ke(f,"TYPE","init"),this.P?(ke(f,"$req",d),ke(f,"SID","null"),x.T=!0,yh(x,f,null)):yh(x,f,d),this.G=2}}else this.G==3&&(l?iv(this,l):this.i.length==0||Vy(this.h)||iv(this))};function iv(l,d){var f;d?f=d.l:f=l.U++;const v=zn(l.I);ke(v,"SID",l.K),ke(v,"RID",f),ke(v,"AID",l.T),Yo(l,v),l.m&&l.o&&Th(v,l.m,l.o),f=new gr(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),d&&(l.i=d.D.concat(l.i)),d=sv(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),wh(l.h,f),yh(f,v,d)}function Yo(l,d){l.H&&D(l.H,function(f,v){ke(d,v,f)}),l.l&&zy({},function(f,v){ke(d,v,f)})}function sv(l,d,f){f=Math.min(l.i.length,f);var v=l.l?m(l.l.Na,l.l,l):null;e:{var x=l.i;let F=-1;for(;;){const B=["count="+f];F==-1?0<f?(F=x[0].g,B.push("ofs="+F)):F=0:B.push("ofs="+F);let Ae=!0;for(let st=0;st<f;st++){let ve=x[st].g;const ft=x[st].map;if(ve-=F,0>ve)F=Math.max(0,x[st].g-100),Ae=!1;else try{yA(ft,B,"req"+ve+"_")}catch{v&&v(ft)}}if(Ae){v=B.join("&");break e}}}return l=l.i.splice(0,f),d.D=l,v}function ov(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;M||G(),$||(M(),$=!0),W.add(d,l),l.v=0}}function Ih(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Uo(m(l.Fa,l),uv(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,av(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Uo(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,It(10),Ql(this),av(this))};function Ch(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function av(l){l.g=new gr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=zn(l.qa);ke(d,"RID","rpc"),ke(d,"SID",l.K),ke(d,"AID",l.T),ke(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ke(d,"TO",l.ja),ke(d,"TYPE","xmlhttp"),Yo(l,d),l.m&&l.o&&Th(d,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=ql(zn(d)),f.m=null,f.P=!0,Dy(f,l)}t.Za=function(){this.C!=null&&(this.C=null,Ql(this),Ih(this),It(19))};function Xl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function lv(l,d){var f=null;if(l.g==d){Xl(l),Ch(l),l.g=null;var v=2}else if(Eh(l.h,d))f=d.D,Uy(l.h,d),v=1;else return;if(l.G!=0){if(d.o)if(v==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var x=l.B;v=Ul(),ae(v,new by(v,f)),Yl(l)}else ov(l);else if(x=d.s,x==3||x==0&&0<d.X||!(v==1&&wA(l,d)||v==2&&Ih(l)))switch(f&&0<f.length&&(d=l.h,d.i=d.i.concat(f)),x){case 1:fi(l,5);break;case 4:fi(l,10);break;case 3:fi(l,6);break;default:fi(l,2)}}}function uv(l,d){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*d}function fi(l,d){if(l.j.info("Error code "+d),d==2){var f=m(l.fb,l),v=l.Xa;const x=!v;v=new hi(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hl(v,"https"),ql(v),x?pA(v.toString(),f):mA(v.toString(),f)}else It(2);l.G=0,l.l&&l.l.sa(d),cv(l),rv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function cv(l){if(l.G=0,l.ka=[],l.l){const d=jy(l.h);(d.length!=0||l.i.length!=0)&&(k(l.ka,d),k(l.ka,l.i),l.h.i.length=0,R(l.i),l.i.length=0),l.l.ra()}}function dv(l,d,f){var v=f instanceof hi?zn(f):new hi(f);if(v.g!="")d&&(v.g=d+"."+v.g),Wl(v,v.s);else{var x=a.location;v=x.protocol,d=d?d+"."+x.hostname:x.hostname,x=+x.port;var F=new hi(null);v&&Hl(F,v),d&&(F.g=d),x&&Wl(F,x),f&&(F.l=f),v=F}return f=l.D,d=l.ya,f&&d&&ke(v,f,d),ke(v,"VER",l.la),Yo(l,v),v}function hv(l,d,f){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new je(new qo({eb:f})):new je(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fv(){}t=fv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jl(){}Jl.prototype.g=function(l,d){return new jt(l,d)};function jt(l,d){ee.call(this),this.g=new nv(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!y(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!y(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new fs(this)}I(jt,ee),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Sh(this.g)},jt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Fo(l),l=f);d.i.push(new iA(d.Ya++,l)),d.G==3&&Yl(d)},jt.prototype.N=function(){this.g.l=null,delete this.j,Sh(this.g),delete this.g,jt.aa.N.call(this)};function pv(l){fh.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const f in d){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}I(pv,fh);function mv(){ph.call(this),this.status=1}I(mv,ph);function fs(l){this.g=l}I(fs,fv),fs.prototype.ua=function(){ae(this.g,"a")},fs.prototype.ta=function(l){ae(this.g,new pv(l))},fs.prototype.sa=function(l){ae(this.g,new mv)},fs.prototype.ra=function(){ae(this.g,"b")},Jl.prototype.createWebChannel=Jl.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,B1=function(){return new Jl},z1=function(){return Ul()},j1=ci,zp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jl.NO_ERROR=0,jl.TIMEOUT=8,jl.HTTP_ERROR=6,Ku=jl,Oy.COMPLETE="complete",U1=Oy,Ay.EventType=Vo,Vo.OPEN="a",Vo.CLOSE="b",Vo.ERROR="c",Vo.MESSAGE="d",ee.prototype.listen=ee.prototype.K,pa=Ay,$1=qo,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,V1=je}).apply(typeof Eu<"u"?Eu:typeof self<"u"?self:typeof window<"u"?window:{});const S0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_t.UNAUTHENTICATED=new _t(null),_t.GOOGLE_CREDENTIALS=new _t("google-credentials-uid"),_t.FIRST_PARTY=new _t("first-party-uid"),_t.MOCK_USER=new _t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="10.12.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki=new Cg("@firebase/firestore");function sa(){return Ki.logLevel}function X(t,...e){if(Ki.logLevel<=he.DEBUG){const n=e.map(Fg);Ki.debug(`Firestore (${Io}): ${t}`,...n)}}function lr(t,...e){if(Ki.logLevel<=he.ERROR){const n=e.map(Fg);Ki.error(`Firestore (${Io}): ${t}`,...n)}}function ao(t,...e){if(Ki.logLevel<=he.WARN){const n=e.map(Fg);Ki.warn(`Firestore (${Io}): ${t}`,...n)}}function Fg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function Xe(t,e){t||ce()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(_t.UNAUTHENTICATED))}shutdown(){}}class nL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rL{constructor(e){this.t=e,this.currentUser=_t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new bi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new bi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string"),new H1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new _t(e)}}class iL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=_t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new iL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(_t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class oL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new oL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new re(H.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(H.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ut(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Ut(0,0))}static max(){return new ue(new Ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ol.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ol?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends ol{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(H.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const cL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends ol{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return cL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new At(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new re(H.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new re(H.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new re(H.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new re(H.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(Be.fromString(e))}static fromName(e){return new se(Be.fromString(e).popFirst(5))}static empty(){return new se(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new Be(e.slice()))}}function dL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new Ut(n+1,0):new Ut(n,r));return new Zr(i,se.empty(),e)}function hL(t){return new Zr(t.readTime,t.key,-1)}class Zr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zr(ue.min(),se.empty(),-1)}static max(){return new Zr(ue.max(),se.empty(),-1)}}function fL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(t){if(t.code!==H.FAILED_PRECONDITION||t.message!==pL)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function gL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function kl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$g.oe=-1;function Od(t){return t==null}function Bp(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,n){this.comparator=e,this.root=n||lt.EMPTY}insert(e,n){return new Ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,lt.BLACK,null,null))}remove(e){return new Ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wu(this.root,e,this.comparator,!0)}}class wu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??lt.RED,this.left=i??lt.EMPTY,this.right=s??lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new lt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return lt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}lt.EMPTY=null,lt.RED=!0,lt.BLACK=!1;lt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,s){return this}insert(e,n,r){return new lt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new C0(this.data.getIterator())}getIteratorFrom(e){return new C0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class C0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new xr([])}unionWith(e){let n=new ct(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new W1("Invalid base64 string: "+s):s}}(e);return new St(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const vL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(Xe(!!t),typeof t=="string"){let e=0;const n=vL.exec(t);if(Xe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gi(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function jg(t){const e=t.mapValue.fields.__previous_value__;return Ug(e)?jg(e):e}function al(t){const e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,n,r,i,s,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class ll{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ll&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ug(t)?4:EL(t)?9007199254740991:10:ce()}function Fn(t,e){if(t===e)return!0;const n=Qi(t);if(n!==Qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return al(t).isEqual(al(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ei(i.timestampValue),a=ei(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Gi(i.bytesValue).isEqual(Gi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?Bp(o)===Bp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return lo(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(I0(o)!==I0(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!Fn(o[u],a[u])))return!1;return!0}(t,e);default:return ce()}}function ul(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function uo(t,e){if(t===e)return 0;const n=Qi(t),r=Qi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),u=Qe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return A0(t.timestampValue,e.timestampValue);case 4:return A0(al(t),al(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Gi(s),u=Gi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Ee(a[c],u[c]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ee(Qe(s.latitude),Qe(o.latitude));return a!==0?a:Ee(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],u=o.values||[];for(let c=0;c<a.length&&c<u.length;++c){const h=uo(a[c],u[c]);if(h)return h}return Ee(a.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Tu.mapValue&&o===Tu.mapValue)return 0;if(s===Tu.mapValue)return 1;if(o===Tu.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const m=Ee(u[p],h[p]);if(m!==0)return m;const T=uo(a[u[p]],c[h[p]]);if(T!==0)return T}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ce()}}function A0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=ei(t),r=ei(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function co(t){return Hp(t)}function Hp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ei(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Gi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Hp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Hp(n.fields[o])}`;return i+"}"}(t.mapValue):ce()}function Wp(t){return!!t&&"integerValue"in t}function zg(t){return!!t&&"arrayValue"in t}function R0(t){return!!t&&"nullValue"in t}function P0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pf(t){return!!t&&"mapValue"in t}function Pa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function EL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pa(n)}setAll(e){let n=At.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Pa(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());pf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xd(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bn(Pa(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new wt(e,0,ue.min(),ue.min(),ue.min(),bn.empty(),0)}static newFoundDocument(e,n,r,i){return new wt(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new wt(e,2,n,ue.min(),ue.min(),bn.empty(),0)}static newUnknownDocument(e,n){return new wt(e,3,n,ue.min(),ue.min(),bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n){this.position=e,this.inclusive=n}}function k0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=uo(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function b0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,n="asc"){this.field=e,this.dir=n}}function wL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{}class Ze extends q1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new SL(e,n,r):n==="array-contains"?new AL(e,r):n==="in"?new RL(e,r):n==="not-in"?new PL(e,r):n==="array-contains-any"?new kL(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new IL(e,r):new CL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&Qi(this.value)===Qi(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends q1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Vn(e,n)}matches(e){return K1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function K1(t){return t.op==="and"}function G1(t){return TL(t)&&K1(t)}function TL(t){for(const e of t.filters)if(e instanceof Vn)return!1;return!0}function qp(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+co(t.value);if(G1(t))return t.filters.map(e=>qp(e)).join(",");{const e=t.filters.map(n=>qp(n)).join(",");return`${t.op}(${e})`}}function Q1(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&Fn(r.value,i.value)}(t,e):t instanceof Vn?function(r,i){return i instanceof Vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Q1(o,i.filters[a]),!0):!1}(t,e):void ce()}function Y1(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(Y1).join(" ,")+"}"}(t):"Filter"}class SL extends Ze{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class IL extends Ze{constructor(e,n){super(e,"in",n),this.keys=X1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CL extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=X1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function X1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class AL extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zg(n)&&ul(n.arrayValue,this.value)}}class RL extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ul(this.value.arrayValue,n)}}class PL extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ul(this.value.arrayValue,n)}}class kL extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ul(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function O0(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bL(t,e,n,r,i,s,o)}function Bg(t){const e=ye(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>qp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Od(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ue=n}return e.ue}function Hg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Q1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b0(t.startAt,e.startAt)&&b0(t.endAt,e.endAt)}function Kp(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OL(t,e,n,r,i,s,o,a){return new Nd(t,e,n,r,i,s,o,a)}function J1(t){return new Nd(t)}function x0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xL(t){return t.collectionGroup!==null}function ka(t){const e=ye(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ct(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Bc(s,r))}),n.has(At.keyField().canonicalString())||e.ce.push(new Bc(At.keyField(),r))}return e.ce}function Mn(t){const e=ye(t);return e.le||(e.le=NL(e,ka(t))),e.le}function NL(t,e){if(t.limitType==="F")return O0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Bc(i.field,s)});const n=t.endAt?new zc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zc(t.startAt.position,t.startAt.inclusive):null;return O0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Gp(t,e,n){return new Nd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Dd(t,e){return Hg(Mn(t),Mn(e))&&t.limitType===e.limitType}function Z1(t){return`${Bg(Mn(t))}|lt:${t.limitType}`}function ys(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Y1(i)).join(", ")}]`),Od(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(Mn(t))}; limitType=${t.limitType})`}function Ld(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):se.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ka(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){const c=k0(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,ka(r),i)||r.endAt&&!function(o,a,u){const c=k0(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,ka(r),i))}(t,e)}function DL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eI(t){return(e,n)=>{let r=!1;for(const i of ka(t)){const s=LL(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function LL(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(s,o,a){const u=o.data.field(s),c=a.data.field(s);return u!==null&&c!==null?uo(u,c):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xd(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return yL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new Ke(se.comparator);function ti(){return ML}const tI=new Ke(se.comparator);function ma(...t){let e=tI;for(const n of t)e=e.insert(n.key,n);return e}function FL(t){let e=tI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return ba()}function nI(){return ba()}function ba(){return new Co(t=>t.toString(),(t,e)=>t.isEqual(e))}const VL=new ct(se.comparator);function me(...t){let e=VL;for(const n of t)e=e.add(n);return e}const $L=new ct(Ee);function UL(){return $L}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bp(e)?"-0":e}}function zL(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(){this._=void 0}}function BL(t,e,n){return t instanceof Qp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ug(s)&&(s=jg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Hc?rI(t,e):t instanceof Wc?iI(t,e):function(i,s){const o=WL(i,s),a=N0(o)+N0(i.Pe);return Wp(o)&&Wp(i.Pe)?zL(a):jL(i.serializer,a)}(t,e)}function HL(t,e,n){return t instanceof Hc?rI(t,e):t instanceof Wc?iI(t,e):n}function WL(t,e){return t instanceof Yp?function(r){return Wp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Qp extends Md{}class Hc extends Md{constructor(e){super(),this.elements=e}}function rI(t,e){const n=sI(e);for(const r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wc extends Md{constructor(e){super(),this.elements=e}}function iI(t,e){let n=sI(e);for(const r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}class Yp extends Md{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function N0(t){return Qe(t.integerValue||t.doubleValue)}function sI(t){return zg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Hc&&i instanceof Hc||r instanceof Wc&&i instanceof Wc?lo(r.elements,i.elements,Fn):r instanceof Yp&&i instanceof Yp?Fn(r.Pe,i.Pe):r instanceof Qp&&i instanceof Qp}(t.transform,e.transform)}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wg{}function oI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new GL(t.key,Oi.none()):new qg(t.key,t.data,Oi.none());{const n=t.data,r=bn.empty();let i=new ct(At.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Fd(t.key,r,new xr(i.toArray()),Oi.none())}}function KL(t,e,n){t instanceof qg?function(i,s,o){const a=i.value.clone(),u=L0(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fd?function(i,s,o){if(!Gu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=L0(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(aI(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Oa(t,e,n,r){return t instanceof qg?function(s,o,a,u){if(!Gu(s.precondition,o))return a;const c=s.value.clone(),h=M0(s.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fd?function(s,o,a,u){if(!Gu(s.precondition,o))return a;const c=M0(s.fieldTransforms,u,o),h=o.data;return h.setAll(aI(s)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return Gu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function D0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lo(r,i,(s,o)=>qL(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qg extends Wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fd extends Wg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function aI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function L0(t,e,n){const r=new Map;Xe(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,HL(o,a,n[i]))}return r}function M0(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,BL(s,o,e))}return r}class GL extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KL(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Oa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Oa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=oI(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,r)=>D0(n,r))&&lo(this.baseMutations,e.baseMutations,(n,r)=>D0(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge,fe;function lI(t){if(t===void 0)return lr("GRPC error has no .code"),H.UNKNOWN;switch(t){case Ge.OK:return H.OK;case Ge.CANCELLED:return H.CANCELLED;case Ge.UNKNOWN:return H.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return H.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return H.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return H.INTERNAL;case Ge.UNAVAILABLE:return H.UNAVAILABLE;case Ge.UNAUTHENTICATED:return H.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return H.INVALID_ARGUMENT;case Ge.NOT_FOUND:return H.NOT_FOUND;case Ge.ALREADY_EXISTS:return H.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return H.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return H.FAILED_PRECONDITION;case Ge.ABORTED:return H.ABORTED;case Ge.OUT_OF_RANGE:return H.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return H.UNIMPLEMENTED;case Ge.DATA_LOSS:return H.DATA_LOSS;default:return ce()}}(fe=Ge||(Ge={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new ki([4294967295,4294967295],0);function F0(t){const e=JL().encode(t),n=new F1;return n.update(e),new Uint8Array(n.digest())}function V0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ki([n,r],0),new ki([i,s],0)]}class Kg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ga(`Invalid padding: ${n}`);if(r<0)throw new ga(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ga(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ga(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ki.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ki.fromNumber(r)));return i.compare(ZL)===1&&(i=new ki([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=F0(e),[r,i]=V0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Kg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=F0(e),[r,i]=V0(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ga extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vd(ue.min(),i,new Ke(Ee),ti(),me())}}class bl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bl(r,n,me(),me(),me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class uI{constructor(e,n){this.targetId=e,this.me=n}}class cI{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $0{constructor(){this.fe=0,this.ge=j0(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=me(),n=me(),r=me();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new bl(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=j0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Xe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class eM{constructor(e){this.Le=e,this.Be=new Map,this.ke=ti(),this.qe=U0(),this.Qe=new Ke(Ee)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Kp(s))if(r===0){const o=new se(s.path);this.Ue(n,o,wt.newNoDocument(o,ue.min()))}else Xe(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Gi(r).toUint8Array()}catch(u){if(u instanceof W1)return ao("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Kg(o,i,s)}catch(u){return ao(u instanceof ga?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Kp(a.target)){const u=new se(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,wt.newNoDocument(u,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=me();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Vd(e,n,this.Qe,this.ke,r);return this.ke=ti(),this.qe=U0(),this.Qe=new Ke(Ee),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new $0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ct(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function U0(){return new Ke(se.comparator)}function j0(){return new Ke(se.comparator)}const tM={asc:"ASCENDING",desc:"DESCENDING"},nM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rM={and:"AND",or:"OR"};class iM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Xp(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function sM(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oM(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qs(t){return Xe(!!t),ue.fromTimestamp(function(n){const r=ei(n);return new Ut(r.seconds,r.nanos)}(t))}function aM(t,e){return Jp(t,e).canonicalString()}function Jp(t,e){const n=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dI(t){const e=Be.fromString(t);return Xe(gI(e)),e}function mf(t,e){const n=dI(e);if(n.get(1)!==t.databaseId.projectId)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new re(H.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(fI(n))}function hI(t,e){return aM(t.databaseId,e)}function lM(t){const e=dI(t);return e.length===4?Be.emptyPath():fI(e)}function z0(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fI(t){return Xe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,h){return c.useProto3Json?(Xe(h===void 0||typeof h=="string"),St.fromBase64String(h||"")):(Xe(h===void 0||h instanceof Buffer||h instanceof Uint8Array),St.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?H.UNKNOWN:lI(c.code);return new re(h,c.message||"")}(o);n=new cI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=mf(t,r.document.name),s=qs(r.document.updateTime),o=r.document.createTime?qs(r.document.createTime):ue.min(),a=new bn({mapValue:{fields:r.document.fields}}),u=wt.newFoundDocument(i,s,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Qu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=mf(t,r.document),s=r.readTime?qs(r.readTime):ue.min(),o=wt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=mf(t,r.document),s=r.removedTargetIds||[];n=new Qu([],s,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new XL(i,s),a=r.targetId;n=new uI(a,o)}}return n}function cM(t,e){return{documents:[hI(t,e.path)]}}function dM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hI(t,i);const s=function(c){if(c.length!==0)return mI(Vn.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:vs(m.field),direction:pM(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Xp(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function hM(t){let e=lM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Xe(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){const m=pI(p);return m instanceof Vn&&G1(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(I){return new Bc(_s(I.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Od(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,T=p.values||[];return new zc(T,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,T=p.values||[];return new zc(T,m)}(n.endAt)),OL(e,i,o,s,a,"F",u,c)}function fM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=_s(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=_s(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_s(n.unaryFilter.field);return Ze.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_s(n.unaryFilter.field);return Ze.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(_s(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(r=>pI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function pM(t){return tM[t]}function mM(t){return nM[t]}function gM(t){return rM[t]}function vs(t){return{fieldPath:t.canonicalString()}}function _s(t){return At.fromServerFormat(t.fieldPath)}function mI(t){return t instanceof Ze?function(n){if(n.op==="=="){if(P0(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NAN"}};if(R0(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P0(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NAN"}};if(R0(n.value))return{unaryFilter:{field:vs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vs(n.field),op:mM(n.op),value:n.value}}}(t):t instanceof Vn?function(n){const r=n.getFilters().map(i=>mI(i));return r.length===1?r[0]:{compositeFilter:{op:gM(n.op),filters:r}}}(t):ce()}function gI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n,r,i,s=ue.min(),o=ue.min(),a=St.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Nr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.ct=e}}function vM(t){const e=hM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this._n=new EM}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(Zr.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(Zr.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class EM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ct(Be.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ct(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ho(0)}static Ln(){return new ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.changes=new Co(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Oa(r.mutation,i,xr.empty(),Ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){const i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ma();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ti();const o=ba(),a=function(){return ba()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof Fd)?s=s.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Oa(h.mutation,c,h.mutation.getFieldMask(),Ut.now())):o.set(c.key,xr.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return a.set(c,new TM(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ba();let i=new Ke((o,a)=>o-a),s=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||xr.empty();h=a.applyToLocalView(c,h),r.set(u,h);const p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,p=nI();h.forEach(m=>{if(!s.has(m)){const T=oI(n.get(m),r.get(m));T!==null&&p.set(m,T),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Ci());let a=-1,u=s;return o.next(c=>U.forEach(c,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?U.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,me())).next(h=>({batchId:a,changes:FL(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let i=ma();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=ma();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,u=>{const c=function(p,m){return new Nd(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,wt.newInvalidDocument(h)))});let a=ma();return o.forEach((u,c)=>{const h=s.get(u);h!==void 0&&Oa(h.mutation,c,xr.empty(),Ut.now()),Ld(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qs(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:vM(i.bundledQuery),readTime:qs(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(){this.overlays=new Ke(se.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ci();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Ci(),s=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=s.get(c.largestBatchId);h===null&&(h=Ci(),s=s.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=Ci(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YL(n,r));let s=this.hr.get(n);s===void 0&&(s=me(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.Pr=new ct(tt.Ir),this.Tr=new ct(tt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new tt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new tt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new se(new Be([])),r=new tt(n,e),i=new tt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new se(new Be([])),r=new tt(n,e),i=new tt(n,e+1);let s=me();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new tt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class tt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return se.comparator(e.key,n.key)||Ee(e.pr,n.pr)}static Er(e,n){return Ee(e.pr,n.pr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new ct(tt.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QL(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new tt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new tt(n,0),i=new tt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ct(Ee);return n.forEach(i=>{const s=new tt(i,0),o=new tt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;se.isDocumentKey(s)||(s=s.child(""));const o=new tt(new se(s),0);let a=new ct(Ee);return this.wr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.pr)),!0)},o),U.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Xe(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new tt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new tt(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e){this.vr=e,this.docs=function(){return new Ke(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():wt.newInvalidDocument(n))}getEntries(e,n){let r=ti();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():wt.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ti();const o=n.path,a=new se(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||fL(hL(h),r)<=0||(i.has(h.key)||Ld(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ce()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new PM(this)}getSize(e){return U.resolve(this.size)}}class PM extends wM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e){this.persistence=e,this.Mr=new Co(n=>Bg(n),Hg),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Gg,this.targetCount=0,this.Lr=ho.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n){this.Br={},this.overlays={},this.kr=new $g(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new kM(this),this.indexManager=new _M,this.remoteDocumentCache=function(i){return new RM(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new yM(n),this.$r=new IM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new AM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new OM(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class OM extends mL{constructor(e){super(),this.currentSequenceNumber=e}}class Qg{constructor(e){this.persistence=e,this.zr=new Gg,this.jr=null}static Hr(e){return new Qg(e)}get Jr(){if(this.jr)return this.jr;throw ce()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=se.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ue.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=me(),i=me();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Yg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return wx()?8:gL(ht())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new xM;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(sa()<=he.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",ys(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(sa()<=he.DEBUG&&X("QueryEngine","Query:",ys(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(sa()<=he.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",ys(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mn(n))):U.resolve())}ji(e,n){if(x0(n))return U.resolve(null);let r=Mn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gp(n,null,"F"),r=Mn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=me(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Zi(n,a);return this.Xi(n,c,o,u.readTime)?this.ji(e,Gp(n,null,"F")):this.es(e,c,n,u)}))})))}Hi(e,n,r,i){return x0(n)||i.isEqual(ue.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?U.resolve(null):(sa()<=he.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ys(n)),this.es(e,o,n,dL(i,-1)).next(a=>a))})}Zi(e,n){let r=new ct(eI(e));return n.forEach((i,s)=>{Ld(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return sa()<=he.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ys(n)),this.zi.getDocumentsMatchingQuery(e,n,Zr.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Ke(Ee),this.rs=new Co(s=>Bg(s),Hg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function LM(t,e,n,r){return new DM(t,e,n,r)}async function yI(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=me();for(const c of i){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of s){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function vI(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function MM(t,e){const n=ye(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((h,p)=>{const m=i.get(p);if(!m)return;a.push(n.Qr.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(s,h.addedDocuments,p)));let T=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?T=T.withResumeToken(St.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(h.resumeToken,r)),i=i.insert(p,T),function(R,k,_){return R.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,T,h)&&a.push(n.Qr.updateTargetData(s,T))});let u=ti(),c=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(FM(s,o,e.documentUpdates).next(h=>{u=h.cs,c=h.ls})),!r.isEqual(ue.min())){const h=n.Qr.getLastRemoteSnapshotVersion(s).next(p=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.ns=i,s))}function FM(t,e,n){let r=me(),i=me();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ti();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):X("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{cs:o,ls:i}})}function VM(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Nr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function Zp(t,e,n){const r=ye(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!kl(o))throw o;X("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function B0(t,e,n){const r=ye(t);let i=ue.min(),s=me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const p=ye(u),m=p.rs.get(h);return m!==void 0?U.resolve(p.ns.get(m)):p.Qr.getTargetData(c,h)}(r,o,Mn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ue.min(),n?s:me())).next(a=>($M(r,DL(e),a),{documents:a,hs:s})))}function $M(t,e,n){let r=t.ss.get(e)||ue.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class H0{constructor(){this.activeTargetIds=UL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UM{constructor(){this.no=new H0,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new H0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function gf(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt="WebChannelConnection";class HM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=gf(),u=this.vo(n,r.toUriEncodedString());X("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,u,c,i).then(h=>(X("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ao("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=zM[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=gf();return new Promise((o,a)=>{const u=new V1;u.setWithCredentials(!0),u.listenOnce(U1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ku.NO_ERROR:const h=u.getResponseJson();X(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Ku.TIMEOUT:X(yt,`RPC '${e}' ${s} timed out`),a(new re(H.DEADLINE_EXCEEDED,"Request time out"));break;case Ku.HTTP_ERROR:const p=u.getStatus();if(X(yt,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const I=function(k){const _=k.toLowerCase().replace(/_/g,"-");return Object.values(H).indexOf(_)>=0?_:H.UNKNOWN}(T.status);a(new re(I,T.message))}else a(new re(H.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new re(H.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{X(yt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);X(yt,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=gf(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=B1(),a=z1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new $1({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=s.join("");X(yt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const p=o.createWebChannel(h,u);let m=!1,T=!1;const I=new BM({lo:k=>{T?X(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(m||(X(yt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),X(yt,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},ho:()=>p.close()}),R=(k,_,y)=>{k.listen(_,w=>{try{y(w)}catch(b){setTimeout(()=>{throw b},0)}})};return R(p,pa.EventType.OPEN,()=>{T||(X(yt,`RPC '${e}' stream ${i} transport opened.`),I.mo())}),R(p,pa.EventType.CLOSE,()=>{T||(T=!0,X(yt,`RPC '${e}' stream ${i} transport closed`),I.po())}),R(p,pa.EventType.ERROR,k=>{T||(T=!0,ao(yt,`RPC '${e}' stream ${i} transport errored:`,k),I.po(new re(H.UNAVAILABLE,"The operation could not be completed")))}),R(p,pa.EventType.MESSAGE,k=>{var _;if(!T){const y=k.data[0];Xe(!!y);const w=y,b=w.error||((_=w[0])===null||_===void 0?void 0:_.error);if(b){X(yt,`RPC '${e}' stream ${i} received error:`,b);const V=b.status;let D=function(S){const C=Ge[S];if(C!==void 0)return lI(C)}(V),E=b.message;D===void 0&&(D=H.INTERNAL,E="Unknown error status: "+V+" with message "+b.message),T=!0,I.po(new re(D,E)),p.close()}else X(yt,`RPC '${e}' stream ${i} received:`,y),I.yo(y)}}),R(a,j1.STAT_EVENT,k=>{k.stat===zp.PROXY?X(yt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===zp.NOPROXY&&X(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.fo()},0),I}}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t){return new iM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e,n,r,i,s,o,a,u){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new EI(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===H.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===H.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new re(H.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qM extends WM{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=uM(this.serializer,e),r=function(s){if(!("targetChange"in s))return ue.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?qs(o.readTime):ue.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=z0(this.serializer),n.addTarget=function(s,o){let a;const u=o.target;if(a=Kp(u)?{documents:cM(s,u)}:{query:dM(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=oM(s,o.resumeToken);const c=Xp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=sM(s,o.snapshotVersion.toTimestamp());const c=Xp(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=fM(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=z0(this.serializer),n.removeTarget=e,this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,Jp(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(H.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,Jp(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===H.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new re(H.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class GM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(lr(n),this.y_=!1):X("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{xl(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ye(u);c.M_.add(4),await Ol(c),c.N_.set("Unknown"),c.M_.delete(4),await $d(c)}(this))})}),this.N_=new GM(r,i)}}async function $d(t){if(xl(t))for(const e of t.x_)await e(!0)}async function Ol(t){for(const e of t.x_)await e(!1)}function wI(t,e){const n=ye(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ey(n)?Zg(n):Ao(n).Xo()&&Jg(n,e))}function Xg(t,e){const n=ye(t),r=Ao(n);n.F_.delete(e),r.Xo()&&TI(n,e),n.F_.size===0&&(r.Xo()?r.n_():xl(n)&&n.N_.set("Unknown"))}function Jg(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ao(t).P_(e)}function TI(t,e){t.L_.xe(e),Ao(t).I_(e)}function Zg(t){t.L_=new eM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ao(t).start(),t.N_.w_()}function ey(t){return xl(t)&&!Ao(t).Zo()&&t.F_.size>0}function xl(t){return ye(t).M_.size===0}function SI(t){t.L_=void 0}async function YM(t){t.N_.set("Online")}async function XM(t){t.F_.forEach((e,n)=>{Jg(t,e)})}async function JM(t,e){SI(t),ey(t)?(t.N_.D_(e),Zg(t)):t.N_.set("Unknown")}async function ZM(t,e,n){if(t.N_.set("Online"),e instanceof cI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){X("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await q0(t,r)}else if(e instanceof Qu?t.L_.Ke(e):e instanceof uI?t.L_.He(e):t.L_.We(e),!n.isEqual(ue.min()))try{const r=await vI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=s.F_.get(c);h&&s.F_.set(c,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const h=s.F_.get(u);if(!h)return;s.F_.set(u,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),TI(s,u);const p=new Nr(h.target,u,c,h.sequenceNumber);Jg(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X("RemoteStore","Failed to raise snapshot:",r),await q0(t,r)}}async function q0(t,e,n){if(!kl(e))throw e;t.M_.add(1),await Ol(t),t.N_.set("Offline"),n||(n=()=>vI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await $d(t)})}async function K0(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=xl(n);n.M_.add(3),await Ol(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await $d(n)}async function eF(t,e){const n=ye(t);e?(n.M_.delete(2),await $d(n)):e||(n.M_.add(2),await Ol(n),n.N_.set("Unknown"))}function Ao(t){return t.B_||(t.B_=function(n,r,i){const s=ye(n);return s.f_(),new qM(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:YM.bind(null,t),To:XM.bind(null,t),Ao:JM.bind(null,t),h_:ZM.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),ey(t)?Zg(t):t.N_.set("Unknown")):(await t.B_.stop(),SI(t))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ty(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(H.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function II(t,e){if(lr("AsyncQueue",`${e}: ${t}`),kl(t))return new re(H.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=ma(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new Ks(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ks)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ks;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(){this.q_=new Ke(se.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ce():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fo{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new fo(e,n,Ks.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class nF{constructor(){this.queries=new Co(e=>Z1(e),Dd),this.onlineState="Unknown",this.z_=new Set}}async function rF(t,e){const n=ye(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new tF,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=II(o,`Initialization of query '${ys(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&ny(n)}async function iF(t,e){const n=ye(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sF(t,e){const n=ye(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&ny(n)}function oF(t,e,n){const r=ye(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function ny(t){t.z_.forEach(e=>{e.next()})}var em,Q0;(Q0=em||(em={})).J_="default",Q0.Cache="cache";class aF{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.key=e}}class AI{constructor(e){this.key=e}}class lF{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=me(),this.mutatedKeys=me(),this.Ia=eI(e),this.Ta=new Ks(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new G0,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{const m=i.get(h),T=Ld(this.query,p)?p:null,I=!!m&&this.mutatedKeys.has(m.key),R=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let k=!1;m&&T?m.data.isEqual(T.data)?I!==R&&(r.track({type:3,doc:T}),k=!0):this.Ra(m,T)||(r.track({type:2,doc:T}),k=!0,(u&&this.Ia(T,u)>0||c&&this.Ia(T,c)<0)&&(a=!0)):!m&&T?(r.track({type:0,doc:T}),k=!0):m&&!T&&(r.track({type:1,doc:m}),k=!0,(u||c)&&(a=!0)),k&&(T?(o=o.add(T),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((h,p)=>function(T,I){const R=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return R(T)-R(I)}(h.type,p.type)||this.Ia(h.doc,p.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,c=u!==this.ha;return this.ha=u,o.length!==0||c?{snapshot:new fo(this.query,e.Ta,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new G0,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=me(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new AI(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new CI(r))}),n}pa(e){this.la=e.hs,this.Pa=me();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return fo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class uF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cF{constructor(e){this.key=e,this.wa=!1}}class dF{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Co(a=>Z1(a),Dd),this.Da=new Map,this.Ca=new Set,this.va=new Ke(se.comparator),this.Fa=new Map,this.Ma=new Gg,this.xa={},this.Oa=new Map,this.Na=ho.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function hF(t,e,n=!0){const r=OI(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await RI(r,e,n,!0),i}async function fF(t,e){const n=OI(t);await RI(n,e,!0,!1)}async function RI(t,e,n,r){const i=await VM(t.localStore,Mn(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await pF(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&wI(t.remoteStore,i),a}async function pF(t,e,n,r,i){t.Ba=(p,m,T)=>async function(R,k,_,y){let w=k.view.da(_);w.Xi&&(w=await B0(R.localStore,k.query,!1).then(({documents:E})=>k.view.da(E,w)));const b=y&&y.targetChanges.get(k.targetId),V=y&&y.targetMismatches.get(k.targetId)!=null,D=k.view.applyChanges(w,R.isPrimaryClient,b,V);return X0(R,k.targetId,D.fa),D.snapshot}(t,p,m,T);const s=await B0(t.localStore,e,!0),o=new lF(e,s.hs),a=o.da(s.documents),u=bl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,u);X0(t,n,c.fa);const h=new uF(e,n,o);return t.ba.set(e,h),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function mF(t,e,n){const r=ye(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!Dd(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xg(r.remoteStore,i.targetId),tm(r,i.targetId)}).catch(Vg)):(tm(r,i.targetId),await Zp(r.localStore,i.targetId,!0))}async function gF(t,e){const n=ye(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xg(n.remoteStore,r.targetId))}async function PI(t,e){const n=ye(t);try{const r=await MM(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(Xe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?Xe(o.wa):i.removedDocuments.size>0&&(Xe(o.wa),o.wa=!1))}),await bI(n,r,e)}catch(r){await Vg(r)}}function Y0(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const u=ye(o);u.onlineState=a;let c=!1;u.queries.forEach((h,p)=>{for(const m of p.U_)m.j_(a)&&(c=!0)}),c&&ny(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yF(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Ke(se.comparator);o=o.insert(s,wt.newNoDocument(s,ue.min()));const a=me().add(s),u=new Vd(ue.min(),new Map,new Ke(Ee),o,a);await PI(r,u),r.va=r.va.remove(s),r.Fa.delete(e),ry(r)}else await Zp(r.localStore,e,!1).then(()=>tm(r,e,n)).catch(Vg)}function tm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||kI(t,r)})}function kI(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Xg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),ry(t))}function X0(t,e,n){for(const r of n)r instanceof CI?(t.Ma.addReference(r.key,e),vF(t,r)):r instanceof AI?(X("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||kI(t,r.key)):ce()}function vF(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(X("SyncEngine","New document in limbo: "+n),t.Ca.add(r),ry(t))}function ry(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new se(Be.fromString(e)),r=t.Na.next();t.Fa.set(r,new cF(n)),t.va=t.va.insert(n,r),wI(t.remoteStore,new Nr(Mn(J1(n.path)),r,"TargetPurposeLimboResolution",$g.oe))}}async function bI(t,e,n){const r=ye(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,u)=>{o.push(r.Ba(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient){const h=c&&!c.fromCache;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=Yg.Ki(u.targetId,c);s.push(h)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(u,c){const h=ye(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>U.forEach(c,m=>U.forEach(m.qi,T=>h.persistence.referenceDelegate.addReference(p,m.targetId,T)).next(()=>U.forEach(m.Qi,T=>h.persistence.referenceDelegate.removeReference(p,m.targetId,T)))))}catch(p){if(!kl(p))throw p;X("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const T=h.ns.get(m),I=T.snapshotVersion,R=T.withLastLimboFreeSnapshotVersion(I);h.ns=h.ns.insert(m,R)}}}(r.localStore,s))}async function _F(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await yI(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(u=>{u.reject(new re(H.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await bI(n,r.us)}}function EF(t,e){const n=ye(t),r=n.Fa.get(e);if(r&&r.wa)return me().add(r.key);{let i=me();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}function OI(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yF.bind(null,e),e.Sa.h_=sF.bind(null,e.eventManager),e.Sa.ka=oF.bind(null,e.eventManager),e}class J0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=_I(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return LM(this.persistence,new NM,e.initialUser,this.serializer)}createPersistence(e){return new bM(Qg.Hr,this.serializer)}createSharedClientState(e){return new UM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_F.bind(null,this.syncEngine),await eF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nF}()}createDatastore(e){const n=_I(e.databaseInfo.databaseId),r=function(s){return new HM(s)}(e.databaseInfo);return function(s,o,a,u){return new KM(s,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new QM(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Y0(this.syncEngine,n,0),function(){return W0.D()?new W0:new jM}())}createSyncEngine(e,n){return function(i,s,o,a,u,c,h){const p=new dF(i,s,o,a,u,c);return h&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=ye(r);X("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Ol(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TF{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=_t.UNAUTHENTICATED,this.clientId=uL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{X("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(X("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(H.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=II(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vf(t,e){t.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await yI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Z0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await CF(t);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>K0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>K0(e.remoteStore,i)),t._onlineComponents=e}function IF(t){return t.name==="FirebaseError"?t.code===H.FAILED_PRECONDITION||t.code===H.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function CF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await vf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!IF(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await vf(t,new J0)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await vf(t,new J0);return t._offlineComponents}async function AF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Z0(t,t._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Z0(t,new wF))),t._onlineComponents}async function RF(t){const e=await AF(t),n=e.eventManager;return n.onListen=hF.bind(null,e.syncEngine),n.onUnlisten=mF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=fF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gF.bind(null,e.syncEngine),n}function PF(t,e,n={}){const r=new bi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,u,c){const h=new TF({next:m=>{o.enqueueAndForget(()=>iF(s,p)),m.fromCache&&u.source==="server"?c.reject(new re(H.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new aF(a,h,{includeMetadataChanges:!0,ra:!0});return rF(s,p)}(await RF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;function kF(t,e,n,r){if(e===!0&&r===!0)throw new re(H.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tE(t){if(se.isDocumentKey(t))throw new re(H.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function bF(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function nm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new re(H.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=bF(t);throw new re(H.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new re(H.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new re(H.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xI((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(H.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(H.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new re(H.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nE(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tL;switch(r.type){case"firstParty":return new sL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(H.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eE.get(n);r&&(X("ComponentProvider","Removing Datastore"),eE.delete(n),r.terminate())}(this),Promise.resolve()}}function OF(t,e,n,r={}){var i;const s=(t=nm(t,iy))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=_t.MOCK_USER;else{a=mx(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new re(H.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new _t(c)}t._authCredentials=new nL(new H1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ud(this.firestore,e,this._query)}}class Ro{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ro(this.firestore,e,this._key)}}class Gs extends Ud{constructor(e,n,r){super(e,n,J1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ro(this.firestore,null,new se(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function xF(t,e,...n){if(t=Un(t),t instanceof iy){const r=Be.fromString(e,...n);return tE(r),new Gs(t,null,r)}{if(!(t instanceof Ro||t instanceof Gs))throw new re(H.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return tE(r),new Gs(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new EI(this,"async_queue_retry"),this.hu=()=>{const n=yf();n&&X("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=yf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new bi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!kl(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw lr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=ty.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&ce()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}class NI extends iy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new NF}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||DI(this),this._firestoreClient.terminate()}}function DF(t,e){const n=typeof t=="object"?t:t1(),r=typeof t=="string"?t:"(default)",i=Rg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=fx("firestore");s&&OF(i,...s)}return i}function LF(t){return t._firestoreClient||DI(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function DI(t){var e,n,r;const i=t._freezeSettings(),s=function(a,u,c,h){return new _L(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xI(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new SF(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qc(St.fromBase64String(e))}catch(n){throw new re(H.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qc(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new re(H.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MF{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new re(H.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new re(H.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}const FF=new RegExp("[~\\*/\\[\\]]");function VF(t,e,n){if(e.search(FF)>=0)throw rE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new LI(...e.split("."))._internalPath}catch{throw rE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function rE(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let o="";return new re(H.INVALID_ARGUMENT,s+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ro(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $F(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $F extends MI{data(){return super.data()}}function FI(t,e){return typeof e=="string"?VF(t,e):e instanceof LI?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new re(H.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jF{convertValue(e,n="none"){switch(Qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xd(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new MF(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(al(e));default:return null}}convertTimestamp(e){const n=ei(e);return new Ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Xe(gI(r));const i=new ll(r.get(1),r.get(3)),s=new se(r.popFirst(5));return i.isEqual(n)||lr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zF extends MI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(FI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yu extends zF{data(e={}){return super.data(e)}}class BF{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Iu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Yu(this._firestore,this._userDataWriter,r.key,r,new Iu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new re(H.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const u=new Yu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Iu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Yu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Iu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:HF(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HF(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}class WF extends jF{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ro(this.firestore,null,n)}}function qF(t){t=nm(t,Ud);const e=nm(t.firestore,NI),n=LF(e),r=new WF(e);return UF(t._query),PF(n,t._query).then(i=>new BF(e,r,t,i))}(function(e,n=!0){(function(i){Io=i})(To),so(new Bi("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new NI(new rL(r.getProvider("auth-internal")),new aL(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new re(H.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ll(c.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Kr(S0,"4.6.3",e),Kr(S0,"4.6.3","esm2017")})();var KF={BASE_URL:"/nanny-services/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API_KEY:GF,VITE_AUTH_DOMAIN:QF,VITE_PROJECT_ID:YF,VITE_STORAGE_BUCKET:XF,VITE_MESSAGING_SENDER_ID:JF,VITE_APP_ID:ZF,VITE_MEASUREMENT_ID:eV}=KF,tV={apiKey:GF,authDomain:QF,projectId:YF,storageBucket:XF,messagingSenderId:JF,appId:ZF,measurementId:eV},VI=e1(tV),jd=XD(VI),nV=DF(VI);function $I(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$I(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Dr(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$I(t))&&(r&&(r+=" "),r+=e);return r}const cl=t=>typeof t=="number"&&!isNaN(t),xi=t=>typeof t=="string",Kt=t=>typeof t=="function",Xu=t=>xi(t)||Kt(t)?t:null,rm=t=>N.isValidElement(t)||xi(t)||Kt(t)||cl(t);function rV(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function zd(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=t;return function(o){let{children:a,position:u,preventExitTransition:c,done:h,nodeRef:p,isIn:m,playToast:T}=o;const I=r?`${e}--${u}`:e,R=r?`${n}--${u}`:n,k=N.useRef(0);return N.useLayoutEffect(()=>{const _=p.current,y=I.split(" "),w=b=>{b.target===p.current&&(T(),_.removeEventListener("animationend",w),_.removeEventListener("animationcancel",w),k.current===0&&b.type!=="animationcancel"&&_.classList.remove(...y))};_.classList.add(...y),_.addEventListener("animationend",w),_.addEventListener("animationcancel",w)},[]),N.useEffect(()=>{const _=p.current,y=()=>{_.removeEventListener("animationend",y),i?rV(_,h,s):h()};m||(c?y():(k.current=1,_.className+=` ${R}`,_.addEventListener("animationend",y)))},[m]),we.createElement(we.Fragment,null,a)}}function iE(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const Rt=new Map;let dl=[];const im=new Set,iV=t=>im.forEach(e=>e(t)),UI=()=>Rt.size>0;function jI(t,e){var n;if(e)return!((n=Rt.get(e))==null||!n.isToastActive(t));let r=!1;return Rt.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function zI(t,e){rm(t)&&(UI()||dl.push({content:t,options:e}),Rt.forEach(n=>{n.buildToast(t,e)}))}function sE(t,e){Rt.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function sV(t){const{subscribe:e,getSnapshot:n,setProps:r}=N.useRef(function(s){const o=s.containerId||1;return{subscribe(a){const u=function(h,p,m){let T=1,I=0,R=[],k=[],_=[],y=p;const w=new Map,b=new Set,V=()=>{_=Array.from(w.values()),b.forEach(g=>g())},D=g=>{k=g==null?[]:k.filter(S=>S!==g),V()},E=g=>{const{toastId:S,onOpen:C,updateId:P,children:O}=g.props,A=P==null;g.staleId&&w.delete(g.staleId),w.set(S,g),k=[...k,g.props.toastId].filter(q=>q!==g.staleId),V(),m(iE(g,A?"added":"updated")),A&&Kt(C)&&C(N.isValidElement(O)&&O.props)};return{id:h,props:y,observe:g=>(b.add(g),()=>b.delete(g)),toggle:(g,S)=>{w.forEach(C=>{S!=null&&S!==C.props.toastId||Kt(C.toggle)&&C.toggle(g)})},removeToast:D,toasts:w,clearQueue:()=>{I-=R.length,R=[]},buildToast:(g,S)=>{if((ne=>{let{containerId:oe,toastId:_e,updateId:Te}=ne;const Ue=oe?oe!==h:h!==1,He=w.has(_e)&&Te==null;return Ue||He})(S))return;const{toastId:C,updateId:P,data:O,staleId:A,delay:q}=S,J=()=>{D(C)},pe=P==null;pe&&I++;const M={...y,style:y.toastStyle,key:T++,...Object.fromEntries(Object.entries(S).filter(ne=>{let[oe,_e]=ne;return _e!=null})),toastId:C,updateId:P,data:O,closeToast:J,isIn:!1,className:Xu(S.className||y.toastClassName),bodyClassName:Xu(S.bodyClassName||y.bodyClassName),progressClassName:Xu(S.progressClassName||y.progressClassName),autoClose:!S.isLoading&&($=S.autoClose,W=y.autoClose,$===!1||cl($)&&$>0?$:W),deleteToast(){const ne=w.get(C),{onClose:oe,children:_e}=ne.props;Kt(oe)&&oe(N.isValidElement(_e)&&_e.props),m(iE(ne,"removed")),w.delete(C),I--,I<0&&(I=0),R.length>0?E(R.shift()):V()}};var $,W;M.closeButton=y.closeButton,S.closeButton===!1||rm(S.closeButton)?M.closeButton=S.closeButton:S.closeButton===!0&&(M.closeButton=!rm(y.closeButton)||y.closeButton);let G=g;N.isValidElement(g)&&!xi(g.type)?G=N.cloneElement(g,{closeToast:J,toastProps:M,data:O}):Kt(g)&&(G=g({closeToast:J,toastProps:M,data:O}));const Z={content:G,props:M,staleId:A};y.limit&&y.limit>0&&I>y.limit&&pe?R.push(Z):cl(q)?setTimeout(()=>{E(Z)},q):E(Z)},setProps(g){y=g},setToggle:(g,S)=>{w.get(g).toggle=S},isToastActive:g=>k.some(S=>S===g),getSnapshot:()=>y.newestOnTop?_.reverse():_}}(o,s,iV);Rt.set(o,u);const c=u.observe(a);return dl.forEach(h=>zI(h.content,h.options)),dl=[],()=>{c(),Rt.delete(o)}},setProps(a){var u;(u=Rt.get(o))==null||u.setProps(a)},getSnapshot(){var a;return(a=Rt.get(o))==null?void 0:a.getSnapshot()}}}(t)).current;r(t);const i=N.useSyncExternalStore(e,n,n);return{getToastToRender:function(s){if(!i)return[];const o=new Map;return i.forEach(a=>{const{position:u}=a.props;o.has(u)||o.set(u,[]),o.get(u).push(a)}),Array.from(o,a=>s(a[0],a[1]))},isToastActive:jI,count:i==null?void 0:i.length}}function oV(t){const[e,n]=N.useState(!1),[r,i]=N.useState(!1),s=N.useRef(null),o=N.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:p}=t;var m,T;function I(){n(!0)}function R(){n(!1)}function k(w){const b=s.current;o.canDrag&&b&&(o.didMove=!0,e&&R(),o.delta=t.draggableDirection==="x"?w.clientX-o.start:w.clientY-o.start,o.start!==w.clientX&&(o.canCloseOnClick=!1),b.style.transform=`translate3d(${t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`},0)`,b.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function _(){document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",_);const w=s.current;if(o.canDrag&&o.didMove&&w){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),t.closeToast(),void t.collapseAll();w.style.transition="transform 0.2s, opacity 0.2s",w.style.removeProperty("transform"),w.style.removeProperty("opacity")}}(T=Rt.get((m={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||T.setToggle(m.id,m.fn),N.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||R(),window.addEventListener("focus",I),window.addEventListener("blur",R),()=>{window.removeEventListener("focus",I),window.removeEventListener("blur",R)}},[t.pauseOnFocusLoss]);const y={onPointerDown:function(w){if(t.draggable===!0||t.draggable===w.pointerType){o.didMove=!1,document.addEventListener("pointermove",k),document.addEventListener("pointerup",_);const b=s.current;o.canCloseOnClick=!0,o.canDrag=!0,b.style.transition="none",t.draggableDirection==="x"?(o.start=w.clientX,o.removalDistance=b.offsetWidth*(t.draggablePercent/100)):(o.start=w.clientY,o.removalDistance=b.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(w){const{top:b,bottom:V,left:D,right:E}=s.current.getBoundingClientRect();w.nativeEvent.type!=="touchend"&&t.pauseOnHover&&w.clientX>=D&&w.clientX<=E&&w.clientY>=b&&w.clientY<=V?R():I()}};return a&&u&&(y.onMouseEnter=R,t.stacked||(y.onMouseLeave=I)),p&&(y.onClick=w=>{h&&h(w),o.canCloseOnClick&&c()}),{playToast:I,pauseToast:R,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:y}}function aV(t){let{delay:e,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:u,progress:c,rtl:h,isIn:p,theme:m}=t;const T=s||u&&c===0,I={...a,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};u&&(I.transform=`scaleX(${c})`);const R=Dr("Toastify__progress-bar",u?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${m}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":h}),k=Kt(o)?o({rtl:h,type:i,defaultClassName:R}):Dr(R,o),_={[u&&c>=1?"onTransitionEnd":"onAnimationEnd"]:u&&c<1?null:()=>{p&&r()}};return we.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":T},we.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${m} Toastify__progress-bar--${i}`}),we.createElement("div",{role:"progressbar","aria-hidden":T?"true":"false","aria-label":"notification timer",className:k,style:I,..._}))}let lV=1;const BI=()=>""+lV++;function uV(t){return t&&(xi(t.toastId)||cl(t.toastId))?t.toastId:BI()}function xa(t,e){return zI(t,e),e.toastId}function Kc(t,e){return{...e,type:e&&e.type||t,toastId:uV(e)}}function Cu(t){return(e,n)=>xa(e,Kc(t,n))}function Se(t,e){return xa(t,Kc("default",e))}Se.loading=(t,e)=>xa(t,Kc("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),Se.promise=function(t,e,n){let r,{pending:i,error:s,success:o}=e;i&&(r=xi(i)?Se.loading(i,n):Se.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(h,p,m)=>{if(p==null)return void Se.dismiss(r);const T={type:h,...a,...n,data:m},I=xi(p)?{render:p}:p;return r?Se.update(r,{...T,...I}):Se(I.render,{...T,...I}),m},c=Kt(t)?t():t;return c.then(h=>u("success",o,h)).catch(h=>u("error",s,h)),c},Se.success=Cu("success"),Se.info=Cu("info"),Se.error=Cu("error"),Se.warning=Cu("warning"),Se.warn=Se.warning,Se.dark=(t,e)=>xa(t,Kc("default",{theme:"dark",...e})),Se.dismiss=function(t){(function(e){var n;if(UI()){if(e==null||xi(n=e)||cl(n))Rt.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=Rt.get(e.containerId);r?r.removeToast(e.id):Rt.forEach(i=>{i.removeToast(e.id)})}}else dl=dl.filter(r=>e!=null&&r.options.toastId!==e)})(t)},Se.clearWaitingQueue=function(t){t===void 0&&(t={}),Rt.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},Se.isActive=jI,Se.update=function(t,e){e===void 0&&(e={});const n=((r,i)=>{var s;let{containerId:o}=i;return(s=Rt.get(o||1))==null?void 0:s.toasts.get(r)})(t,e);if(n){const{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:BI()};s.toastId!==t&&(s.staleId=t);const o=s.render||i;delete s.render,xa(o,s)}},Se.done=t=>{Se.update(t,{progress:1})},Se.onChange=function(t){return im.add(t),()=>{im.delete(t)}},Se.play=t=>sE(!0,t),Se.pause=t=>sE(!1,t);const cV=typeof window<"u"?N.useLayoutEffect:N.useEffect,Au=t=>{let{theme:e,type:n,isLoading:r,...i}=t;return we.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...i})},_f={info:function(t){return we.createElement(Au,{...t},we.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return we.createElement(Au,{...t},we.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return we.createElement(Au,{...t},we.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return we.createElement(Au,{...t},we.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return we.createElement("div",{className:"Toastify__spinner"})}},dV=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=oV(t),{closeButton:o,children:a,autoClose:u,onClick:c,type:h,hideProgressBar:p,closeToast:m,transition:T,position:I,className:R,style:k,bodyClassName:_,bodyStyle:y,progressClassName:w,progressStyle:b,updateId:V,role:D,progress:E,rtl:g,toastId:S,deleteToast:C,isIn:P,isLoading:O,closeOnClick:A,theme:q}=t,J=Dr("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":g},{"Toastify__toast--close-on-click":A}),pe=Kt(R)?R({rtl:g,position:I,type:h,defaultClassName:J}):Dr(J,R),M=function(Z){let{theme:ne,type:oe,isLoading:_e,icon:Te}=Z,Ue=null;const He={theme:ne,type:oe};return Te===!1||(Kt(Te)?Ue=Te({...He,isLoading:_e}):N.isValidElement(Te)?Ue=N.cloneElement(Te,He):_e?Ue=_f.spinner():(as=>as in _f)(oe)&&(Ue=_f[oe](He))),Ue}(t),$=!!E||!u,W={closeToast:m,type:h,theme:q};let G=null;return o===!1||(G=Kt(o)?o(W):N.isValidElement(o)?N.cloneElement(o,W):function(Z){let{closeToast:ne,theme:oe,ariaLabel:_e="close"}=Z;return we.createElement("button",{className:`Toastify__close-button Toastify__close-button--${oe}`,type:"button",onClick:Te=>{Te.stopPropagation(),ne(Te)},"aria-label":_e},we.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},we.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(W)),we.createElement(T,{isIn:P,done:C,position:I,preventExitTransition:n,nodeRef:r,playToast:s},we.createElement("div",{id:S,onClick:c,"data-in":P,className:pe,...i,style:k,ref:r},we.createElement("div",{...P&&{role:D},className:Kt(_)?_({type:h}):Dr("Toastify__toast-body",_),style:y},M!=null&&we.createElement("div",{className:Dr("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!O})},M),we.createElement("div",null,a)),G,we.createElement(aV,{...V&&!$?{key:`pb-${V}`}:{},rtl:g,theme:q,delay:u,isRunning:e,isIn:P,closeToast:m,hide:p,type:h,style:b,className:w,controlledProgress:$,progress:E||0})))},Bd=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},hV=zd(Bd("bounce",!0));zd(Bd("slide",!0));zd(Bd("zoom"));zd(Bd("flip"));const fV={position:"top-right",transition:hV,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function pV(t){let e={...fV,...t};const n=t.stacked,[r,i]=N.useState(!0),s=N.useRef(null),{getToastToRender:o,isToastActive:a,count:u}=sV(e),{className:c,style:h,rtl:p,containerId:m}=e;function T(R){const k=Dr("Toastify__toast-container",`Toastify__toast-container--${R}`,{"Toastify__toast-container--rtl":p});return Kt(c)?c({position:R,rtl:p,defaultClassName:k}):Dr(k,Xu(c))}function I(){n&&(i(!0),Se.play())}return cV(()=>{if(n){var R;const k=s.current.querySelectorAll('[data-in="true"]'),_=12,y=(R=e.position)==null?void 0:R.includes("top");let w=0,b=0;Array.from(k).reverse().forEach((V,D)=>{const E=V;E.classList.add("Toastify__toast--stacked"),D>0&&(E.dataset.collapsed=`${r}`),E.dataset.pos||(E.dataset.pos=y?"top":"bot");const g=w*(r?.2:1)+(r?0:_*D);E.style.setProperty("--y",`${y?g:-1*g}px`),E.style.setProperty("--g",`${_}`),E.style.setProperty("--s",""+(1-(r?b:0))),w+=E.offsetHeight,b+=.025})}},[r,u,n]),we.createElement("div",{ref:s,className:"Toastify",id:m,onMouseEnter:()=>{n&&(i(!1),Se.pause())},onMouseLeave:I},o((R,k)=>{const _=k.length?{...h}:{...h,pointerEvents:"none"};return we.createElement("div",{className:T(R),style:_,key:`container-${R}`},k.map(y=>{let{content:w,props:b}=y;return we.createElement(dV,{...b,stacked:n,collapseAll:I,isIn:a(b.toastId,b.containerId),style:b.style,key:`toast-${b.key}`},w)}))}))}const Ju=Cd("user/signUp",async({name:t,email:e,password:n},r)=>{try{const s=(await NN(jd,e,n)).user;return await MN(s,{displayName:t}),{email:s.email,name:t}}catch(i){return Se.warn(i.message),r.rejectWithValue(i.message)}}),Zu=Cd("user/logIn",async(t,e)=>{try{await DN(jd,t.email,t.password);return}catch(n){return Se.warn(n.message),e.rejectWithValue(n.message)}}),ec=Cd("user/signOut",async(t,e)=>{try{await $N(jd);return}catch(n){return Se.warn(n.message),e.rejectWithValue(n.message)}});function mV(){const t=Ed();return z.jsxs("div",{className:Nt.listLogout,children:[z.jsxs("div",{className:Nt.userName,children:[z.jsx("div",{className:Nt.icondiv,children:z.jsx("svg",{className:Nt.iconUser,children:z.jsx("use",{href:`${_g}#icon-user`})})}),z.jsx("span",{children:jd.currentUser.displayName})]}),z.jsx("button",{type:"button",className:Nt.logoutButton,onClick:()=>t(ec()),children:"Log out"})]})}function gV({isFavorite:t=!1}){return z.jsxs("ul",{className:Nt.navigationList,children:[z.jsx(tf,{to:"/",className:Nt.navLink,children:"Home"}),z.jsx(tf,{to:"/nannies",className:({isActive:e})=>`${Nt.navLink} ${e?Nt.active:""}`,children:"Nannies"}),t&&z.jsx(tf,{to:"/favorites",className:({isActive:e})=>`${Nt.navLink} ${e?Nt.active:""}`,children:"Favorites"})]})}const yV={isModalLoginRegistration:!1,modalType:null,isLoggedIn:!1,loading:!1,error:!1,userName:"",userEmail:""},HI=WS({name:"users",initialState:yV,reducers:{openModalLoginRegistration:t=>{t.isModalLoginRegistration=!0},closeModalLoginRegistration:t=>{t.isModalLoginRegistration=!1,t.modalType=null},setTypeOfModalLoginRegistration:(t,{payload:e})=>{t.modalType=e}},extraReducers:t=>{t.addCase(Ju.pending,e=>{e.loading=!0,e.error=!1}).addCase(Ju.fulfilled,(e,n)=>{e.loading=!1,e.isLoggedIn=!0}).addCase(Ju.rejected,(e,n)=>{e.loading=!1}).addCase(Zu.pending,e=>{e.loading=!0,e.error=!1}).addCase(Zu.fulfilled,(e,n)=>{e.loading=!1,e.isLoggedIn=!0}).addCase(Zu.rejected,e=>{e.loading=!1,e.error=!0}).addCase(ec.pending,e=>{e.loading=!0,e.error=!1}).addCase(ec.fulfilled,e=>{e.loading=!1,e.isLoggedIn=!1}).addCase(ec.rejected,e=>{e.loading=!1,e.error=!0})}}),{openModalLoginRegistration:oE,closeModalLoginRegistration:WI,setTypeOfModalLoginRegistration:aE}=HI.actions,vV=HI.reducer,an={login:"login",registration:"registration"};function _V(){const t=Ed();function e(){t(aE(an.login)),t(oE())}function n(){t(aE(an.registration)),t(oE())}return z.jsxs("ul",{className:Nt.buttonList,children:[z.jsx("li",{children:z.jsx("button",{type:"button",className:Nt.loginButton,onClick:e,children:"Log In"})}),z.jsx("li",{children:z.jsx("button",{type:"button",className:Nt.registerButton,onClick:n,children:"Registration"})})]})}function EV(){const{isLoggedIn:t}=ji(e=>e.users);return z.jsxs("div",{className:Aa.header,children:[z.jsx("span",{className:Aa.titleNanny,children:"Nanny.Services"}),z.jsx("div",{className:Aa.navigation,children:z.jsx(gV,{})}),t?z.jsx(mV,{}):z.jsx(_V,{})]})}function wV(){const t=ji(RS),e=ji(PS);return z.jsxs(z.Fragment,{children:[z.jsx("header",{className:Aa.headerSection,children:z.jsx($b,{children:z.jsx(EV,{})})}),z.jsx("main",{className:Aa.main,children:z.jsx(N.Suspense,{fallback:z.jsx("div",{children:"Loading..."}),children:z.jsx(ES,{})})}),(e||t)&&z.jsx(Ap,{})]})}const TV=N.lazy(()=>vg(()=>import("./HomePage-kGKRDn-c.js"),__vite__mapDeps([0,1]))),SV=N.lazy(()=>vg(()=>import("./NanniesPage-r-qMtLJA.js"),__vite__mapDeps([2,3]))),IV=N.lazy(()=>vg(()=>import("./FavoritesPage-7wbNaymW.js"),[]));function CV(){return z.jsx(z.Fragment,{children:z.jsxs($k,{children:[z.jsx(yi,{path:"/",element:z.jsx(bb,{}),children:z.jsx(yi,{index:!0,element:z.jsx(TV,{})})}),z.jsxs(yi,{path:"/",element:z.jsx(wV,{}),children:[z.jsx(yi,{path:"/nannies",element:z.jsx(SV,{})}),z.jsx(yi,{path:"/favorites",element:z.jsx(IV,{})})]}),z.jsx(yi,{path:"*",element:z.jsx(Fk,{to:"/"})})]})})}const AV={nanniesArray:[],favoritesNannies:[],loading:!1},Ef=Cd("get/nannies",async(t,e)=>{try{const n=await qF(xF(nV,"nannies")),r=n.docs.map(i=>({...i.data(),id:i.id}));return console.log(r),console.log(n.docs),r}catch(n){return Se.warn(n.message),e.rejectWithValue(n.message)}}),qI=WS({name:"nannies",initialState:AV,reducers:{},extraReducers:t=>{t.addCase(Ef.pending,(e,n)=>{e.loading=!0}).addCase(Ef.fulfilled,(e,n)=>{e.loading=!1,e.nanniesArray=[...e.favoritesNannies,...n.payload]}).addCase(Ef.rejected,(e,n)=>{e.loading=!1})}});qI.actions;const RV=qI.reducer,PV=bS({users:vV,nannies:RV}),kV=MO({reducer:PV});var sm={exports:{}},Yi={},KI={exports:{}},bV="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OV=bV,xV=OV;function GI(){}function QI(){}QI.resetWarningCache=GI;var NV=function(){function t(r,i,s,o,a,u){if(u!==xV){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:QI,resetWarningCache:GI};return n.PropTypes=n,n};KI.exports=NV();var YI=KI.exports,om={exports:{}},In={},am={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=h;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n="none",r="contents",i=/input|select|textarea|button|object|iframe/;function s(p,m){return m.getPropertyValue("overflow")!=="visible"||p.scrollWidth<=0&&p.scrollHeight<=0}function o(p){var m=p.offsetWidth<=0&&p.offsetHeight<=0;if(m&&!p.innerHTML)return!0;try{var T=window.getComputedStyle(p),I=T.getPropertyValue("display");return m?I!==r&&s(p,T):I===n}catch{return console.warn("Failed to inspect element style"),!1}}function a(p){for(var m=p,T=p.getRootNode&&p.getRootNode();m&&m!==document.body;){if(T&&m===T&&(m=T.host.parentNode),o(m))return!1;m=m.parentNode}return!0}function u(p,m){var T=p.nodeName.toLowerCase(),I=i.test(T)&&!p.disabled||T==="a"&&p.href||m;return I&&a(p)}function c(p){var m=p.getAttribute("tabindex");m===null&&(m=void 0);var T=isNaN(m);return(T||m>=0)&&u(p,!T)}function h(p){var m=[].slice.call(p.querySelectorAll("*"),0).reduce(function(T,I){return T.concat(I.shadowRoot?h(I.shadowRoot):[I])},[]);return m.filter(c)}t.exports=e.default})(am,am.exports);var XI=am.exports;Object.defineProperty(In,"__esModule",{value:!0});In.resetState=FV;In.log=VV;In.handleBlur=hl;In.handleFocus=fl;In.markForFocusLater=$V;In.returnFocus=UV;In.popWithoutFocus=jV;In.setupScopedFocus=zV;In.teardownScopedFocus=BV;var DV=XI,LV=MV(DV);function MV(t){return t&&t.__esModule?t:{default:t}}var po=[],Ns=null,lm=!1;function FV(){po=[]}function VV(){}function hl(){lm=!0}function fl(){if(lm){if(lm=!1,!Ns)return;setTimeout(function(){if(!Ns.contains(document.activeElement)){var t=(0,LV.default)(Ns)[0]||Ns;t.focus()}},0)}}function $V(){po.push(document.activeElement)}function UV(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{po.length!==0&&(e=po.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function jV(){po.length>0&&po.pop()}function zV(t){Ns=t,window.addEventListener?(window.addEventListener("blur",hl,!1),document.addEventListener("focus",fl,!0)):(window.attachEvent("onBlur",hl),document.attachEvent("onFocus",fl))}function BV(){Ns=null,window.addEventListener?(window.removeEventListener("blur",hl),document.removeEventListener("focus",fl)):(window.detachEvent("onBlur",hl),document.detachEvent("onFocus",fl))}var um={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=o;var n=XI,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function s(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?s(a.activeElement.shadowRoot):a.activeElement}function o(a,u){var c=(0,r.default)(a);if(!c.length){u.preventDefault();return}var h=void 0,p=u.shiftKey,m=c[0],T=c[c.length-1],I=s();if(a===I){if(!p)return;h=T}if(T===I&&!p&&(h=m),m===I&&p&&(h=T),h){u.preventDefault(),h.focus();return}var R=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),k=R!=null&&R[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(k){var _=c.indexOf(I);if(_>-1&&(_+=p?-1:1),h=c[_],typeof h>"u"){u.preventDefault(),h=p?T:m,h.focus();return}u.preventDefault(),h.focus()}}t.exports=e.default})(um,um.exports);var HV=um.exports,Cn={},WV=function(){},qV=WV,wn={},JI={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(JI);var KV=JI.exports;Object.defineProperty(wn,"__esModule",{value:!0});wn.canUseDOM=wn.SafeNodeList=wn.SafeHTMLCollection=void 0;var GV=KV,QV=YV(GV);function YV(t){return t&&t.__esModule?t:{default:t}}var Hd=QV.default,XV=Hd.canUseDOM?window.HTMLElement:{};wn.SafeHTMLCollection=Hd.canUseDOM?window.HTMLCollection:{};wn.SafeNodeList=Hd.canUseDOM?window.NodeList:{};wn.canUseDOM=Hd.canUseDOM;wn.default=XV;Object.defineProperty(Cn,"__esModule",{value:!0});Cn.resetState=n4;Cn.log=r4;Cn.assertNodeList=ZI;Cn.setElement=i4;Cn.validateElement=sy;Cn.hide=s4;Cn.show=o4;Cn.documentNotReadyOrSSRTesting=a4;var JV=qV,ZV=t4(JV),e4=wn;function t4(t){return t&&t.__esModule?t:{default:t}}var rn=null;function n4(){rn&&(rn.removeAttribute?rn.removeAttribute("aria-hidden"):rn.length!=null?rn.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(rn).forEach(function(t){return t.removeAttribute("aria-hidden")})),rn=null}function r4(){}function ZI(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function i4(t){var e=t;if(typeof e=="string"&&e4.canUseDOM){var n=document.querySelectorAll(e);ZI(n,e),e=n}return rn=e||rn,rn}function sy(t){var e=t||rn;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,ZV.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function s4(t){var e=!0,n=!1,r=void 0;try{for(var i=sy(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function o4(t){var e=!0,n=!1,r=void 0;try{for(var i=sy(t)[Symbol.iterator](),s;!(e=(s=i.next()).done);e=!0){var o=s.value;o.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function a4(){rn=null}var Po={};Object.defineProperty(Po,"__esModule",{value:!0});Po.resetState=l4;Po.log=u4;var Na={},Da={};function lE(t,e){t.classList.remove(e)}function l4(){var t=document.getElementsByTagName("html")[0];for(var e in Na)lE(t,Na[e]);var n=document.body;for(var r in Da)lE(n,Da[r]);Na={},Da={}}function u4(){}var c4=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},d4=function(e,n){return e[n]&&(e[n]-=1),n},h4=function(e,n,r){r.forEach(function(i){c4(n,i),e.add(i)})},f4=function(e,n,r){r.forEach(function(i){d4(n,i),n[i]===0&&e.remove(i)})};Po.add=function(e,n){return h4(e.classList,e.nodeName.toLowerCase()=="html"?Na:Da,n.split(" "))};Po.remove=function(e,n){return f4(e.classList,e.nodeName.toLowerCase()=="html"?Na:Da,n.split(" "))};var ko={};Object.defineProperty(ko,"__esModule",{value:!0});ko.log=m4;ko.resetState=g4;function p4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var eC=function t(){var e=this;p4(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Gc=new eC;function m4(){console.log("portalOpenInstances ----------"),console.log(Gc.openInstances.length),Gc.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function g4(){Gc=new eC}ko.default=Gc;var oy={};Object.defineProperty(oy,"__esModule",{value:!0});oy.resetState=E4;oy.log=w4;var y4=ko,v4=_4(y4);function _4(t){return t&&t.__esModule?t:{default:t}}var vt=void 0,mn=void 0,Ni=[];function E4(){for(var t=[vt,mn],e=0;e<t.length;e++){var n=t[e];n&&n.parentNode&&n.parentNode.removeChild(n)}vt=mn=null,Ni=[]}function w4(){console.log("bodyTrap ----------"),console.log(Ni.length);for(var t=[vt,mn],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function uE(){Ni.length!==0&&Ni[Ni.length-1].focusContent()}function T4(t,e){!vt&&!mn&&(vt=document.createElement("div"),vt.setAttribute("data-react-modal-body-trap",""),vt.style.position="absolute",vt.style.opacity="0",vt.setAttribute("tabindex","0"),vt.addEventListener("focus",uE),mn=vt.cloneNode(),mn.addEventListener("focus",uE)),Ni=e,Ni.length>0?(document.body.firstChild!==vt&&document.body.insertBefore(vt,document.body.firstChild),document.body.lastChild!==mn&&document.body.appendChild(mn)):(vt.parentElement&&vt.parentElement.removeChild(vt),mn.parentElement&&mn.parentElement.removeChild(mn))}v4.default.subscribe(T4);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(q){for(var J=1;J<arguments.length;J++){var pe=arguments[J];for(var M in pe)Object.prototype.hasOwnProperty.call(pe,M)&&(q[M]=pe[M])}return q},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},i=function(){function q(J,pe){for(var M=0;M<pe.length;M++){var $=pe[M];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(J,$.key,$)}}return function(J,pe,M){return pe&&q(J.prototype,pe),M&&q(J,M),J}}(),s=N,o=YI,a=V(o),u=In,c=b(u),h=HV,p=V(h),m=Cn,T=b(m),I=Po,R=b(I),k=wn,_=V(k),y=ko,w=V(y);function b(q){if(q&&q.__esModule)return q;var J={};if(q!=null)for(var pe in q)Object.prototype.hasOwnProperty.call(q,pe)&&(J[pe]=q[pe]);return J.default=q,J}function V(q){return q&&q.__esModule?q:{default:q}}function D(q,J){if(!(q instanceof J))throw new TypeError("Cannot call a class as a function")}function E(q,J){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return J&&(typeof J=="object"||typeof J=="function")?J:q}function g(q,J){if(typeof J!="function"&&J!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof J);q.prototype=Object.create(J&&J.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),J&&(Object.setPrototypeOf?Object.setPrototypeOf(q,J):q.__proto__=J)}var S={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},C=function(J){return J.code==="Tab"||J.keyCode===9},P=function(J){return J.code==="Escape"||J.keyCode===27},O=0,A=function(q){g(J,q);function J(pe){D(this,J);var M=E(this,(J.__proto__||Object.getPrototypeOf(J)).call(this,pe));return M.setOverlayRef=function($){M.overlay=$,M.props.overlayRef&&M.props.overlayRef($)},M.setContentRef=function($){M.content=$,M.props.contentRef&&M.props.contentRef($)},M.afterClose=function(){var $=M.props,W=$.appElement,G=$.ariaHideApp,Z=$.htmlOpenClassName,ne=$.bodyOpenClassName,oe=$.parentSelector,_e=oe&&oe().ownerDocument||document;ne&&R.remove(_e.body,ne),Z&&R.remove(_e.getElementsByTagName("html")[0],Z),G&&O>0&&(O-=1,O===0&&T.show(W)),M.props.shouldFocusAfterRender&&(M.props.shouldReturnFocusAfterClose?(c.returnFocus(M.props.preventScroll),c.teardownScopedFocus()):c.popWithoutFocus()),M.props.onAfterClose&&M.props.onAfterClose(),w.default.deregister(M)},M.open=function(){M.beforeOpen(),M.state.afterOpen&&M.state.beforeClose?(clearTimeout(M.closeTimer),M.setState({beforeClose:!1})):(M.props.shouldFocusAfterRender&&(c.setupScopedFocus(M.node),c.markForFocusLater()),M.setState({isOpen:!0},function(){M.openAnimationFrame=requestAnimationFrame(function(){M.setState({afterOpen:!0}),M.props.isOpen&&M.props.onAfterOpen&&M.props.onAfterOpen({overlayEl:M.overlay,contentEl:M.content})})}))},M.close=function(){M.props.closeTimeoutMS>0?M.closeWithTimeout():M.closeWithoutTimeout()},M.focusContent=function(){return M.content&&!M.contentHasFocus()&&M.content.focus({preventScroll:!0})},M.closeWithTimeout=function(){var $=Date.now()+M.props.closeTimeoutMS;M.setState({beforeClose:!0,closesAt:$},function(){M.closeTimer=setTimeout(M.closeWithoutTimeout,M.state.closesAt-Date.now())})},M.closeWithoutTimeout=function(){M.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},M.afterClose)},M.handleKeyDown=function($){C($)&&(0,p.default)(M.content,$),M.props.shouldCloseOnEsc&&P($)&&($.stopPropagation(),M.requestClose($))},M.handleOverlayOnClick=function($){M.shouldClose===null&&(M.shouldClose=!0),M.shouldClose&&M.props.shouldCloseOnOverlayClick&&(M.ownerHandlesClose()?M.requestClose($):M.focusContent()),M.shouldClose=null},M.handleContentOnMouseUp=function(){M.shouldClose=!1},M.handleOverlayOnMouseDown=function($){!M.props.shouldCloseOnOverlayClick&&$.target==M.overlay&&$.preventDefault()},M.handleContentOnClick=function(){M.shouldClose=!1},M.handleContentOnMouseDown=function(){M.shouldClose=!1},M.requestClose=function($){return M.ownerHandlesClose()&&M.props.onRequestClose($)},M.ownerHandlesClose=function(){return M.props.onRequestClose},M.shouldBeClosed=function(){return!M.state.isOpen&&!M.state.beforeClose},M.contentHasFocus=function(){return document.activeElement===M.content||M.content.contains(document.activeElement)},M.buildClassName=function($,W){var G=(typeof W>"u"?"undefined":r(W))==="object"?W:{base:S[$],afterOpen:S[$]+"--after-open",beforeClose:S[$]+"--before-close"},Z=G.base;return M.state.afterOpen&&(Z=Z+" "+G.afterOpen),M.state.beforeClose&&(Z=Z+" "+G.beforeClose),typeof W=="string"&&W?Z+" "+W:Z},M.attributesFromObject=function($,W){return Object.keys(W).reduce(function(G,Z){return G[$+"-"+Z]=W[Z],G},{})},M.state={afterOpen:!1,beforeClose:!1},M.shouldClose=null,M.moveFromContentToOverlay=null,M}return i(J,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(M,$){this.props.isOpen&&!M.isOpen?this.open():!this.props.isOpen&&M.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!$.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var M=this.props,$=M.appElement,W=M.ariaHideApp,G=M.htmlOpenClassName,Z=M.bodyOpenClassName,ne=M.parentSelector,oe=ne&&ne().ownerDocument||document;Z&&R.add(oe.body,Z),G&&R.add(oe.getElementsByTagName("html")[0],G),W&&(O+=1,T.hide($)),w.default.register(this)}},{key:"render",value:function(){var M=this.props,$=M.id,W=M.className,G=M.overlayClassName,Z=M.defaultStyles,ne=M.children,oe=W?{}:Z.content,_e=G?{}:Z.overlay;if(this.shouldBeClosed())return null;var Te={ref:this.setOverlayRef,className:this.buildClassName("overlay",G),style:n({},_e,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},Ue=n({id:$,ref:this.setContentRef,style:n({},oe,this.props.style.content),className:this.buildClassName("content",W),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),He=this.props.contentElement(Ue,ne);return this.props.overlayElement(Te,He)}}]),J}(s.Component);A.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},A.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(_.default),a.default.instanceOf(k.SafeHTMLCollection),a.default.instanceOf(k.SafeNodeList),a.default.arrayOf(a.default.instanceOf(_.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=A,t.exports=e.default})(om,om.exports);var S4=om.exports;function tC(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function nC(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function rC(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}tC.__suppressDeprecationWarning=!0;nC.__suppressDeprecationWarning=!0;rC.__suppressDeprecationWarning=!0;function I4(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=tC,e.componentWillReceiveProps=nC),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=rC;var a=e.componentDidUpdate;e.componentDidUpdate=function(c,h,p){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:p;a.call(this,c,h,m)}}return t}const C4=Object.freeze(Object.defineProperty({__proto__:null,polyfill:I4},Symbol.toStringTag,{value:"Module"})),A4=CA(C4);Object.defineProperty(Yi,"__esModule",{value:!0});Yi.bodyOpenClassName=Yi.portalClassName=void 0;var cE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R4=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),iC=N,Qc=Nl(iC),P4=uS,Yc=Nl(P4),k4=YI,le=Nl(k4),b4=S4,dE=Nl(b4),O4=Cn,x4=D4(O4),Lr=wn,hE=Nl(Lr),N4=A4;function D4(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Nl(t){return t&&t.__esModule?t:{default:t}}function L4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fE(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function M4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var F4=Yi.portalClassName="ReactModalPortal",V4=Yi.bodyOpenClassName="ReactModal__Body--open",Ei=Lr.canUseDOM&&Yc.default.createPortal!==void 0,pE=function(e){return document.createElement(e)},mE=function(){return Ei?Yc.default.createPortal:Yc.default.unstable_renderSubtreeIntoContainer};function Ru(t){return t()}var Dl=function(t){M4(e,t);function e(){var n,r,i,s;L4(this,e);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return s=(r=(i=fE(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Ei&&Yc.default.unmountComponentAtNode(i.node);var c=Ru(i.props.parentSelector);c&&c.contains(i.node)?c.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(c){i.portal=c},i.renderPortal=function(c){var h=mE(),p=h(i,Qc.default.createElement(dE.default,cE({defaultStyles:e.defaultStyles},c)),i.node);i.portalRef(p)},r),fE(i,s)}return R4(e,[{key:"componentDidMount",value:function(){if(Lr.canUseDOM){Ei||(this.node=pE("div")),this.node.className=this.props.portalClassName;var r=Ru(this.props.parentSelector);r.appendChild(this.node),!Ei&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=Ru(r.parentSelector),s=Ru(this.props.parentSelector);return{prevParent:i,nextParent:s}}},{key:"componentDidUpdate",value:function(r,i,s){if(Lr.canUseDOM){var o=this.props,a=o.isOpen,u=o.portalClassName;r.portalClassName!==u&&(this.node.className=u);var c=s.prevParent,h=s.nextParent;h!==c&&(c.removeChild(this.node),h.appendChild(this.node)),!(!r.isOpen&&!a)&&!Ei&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!Lr.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),s=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);s?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,s-i)):this.removePortal()}}},{key:"render",value:function(){if(!Lr.canUseDOM||!Ei)return null;!this.node&&Ei&&(this.node=pE("div"));var r=mE();return r(Qc.default.createElement(dE.default,cE({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){x4.setElement(r)}}]),e}(iC.Component);Dl.propTypes={isOpen:le.default.bool.isRequired,style:le.default.shape({content:le.default.object,overlay:le.default.object}),portalClassName:le.default.string,bodyOpenClassName:le.default.string,htmlOpenClassName:le.default.string,className:le.default.oneOfType([le.default.string,le.default.shape({base:le.default.string.isRequired,afterOpen:le.default.string.isRequired,beforeClose:le.default.string.isRequired})]),overlayClassName:le.default.oneOfType([le.default.string,le.default.shape({base:le.default.string.isRequired,afterOpen:le.default.string.isRequired,beforeClose:le.default.string.isRequired})]),appElement:le.default.oneOfType([le.default.instanceOf(hE.default),le.default.instanceOf(Lr.SafeHTMLCollection),le.default.instanceOf(Lr.SafeNodeList),le.default.arrayOf(le.default.instanceOf(hE.default))]),onAfterOpen:le.default.func,onRequestClose:le.default.func,closeTimeoutMS:le.default.number,ariaHideApp:le.default.bool,shouldFocusAfterRender:le.default.bool,shouldCloseOnOverlayClick:le.default.bool,shouldReturnFocusAfterClose:le.default.bool,preventScroll:le.default.bool,parentSelector:le.default.func,aria:le.default.object,data:le.default.object,role:le.default.string,contentLabel:le.default.string,shouldCloseOnEsc:le.default.bool,overlayRef:le.default.func,contentRef:le.default.func,id:le.default.string,overlayElement:le.default.func,contentElement:le.default.func};Dl.defaultProps={isOpen:!1,portalClassName:F4,bodyOpenClassName:V4,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Qc.default.createElement("div",e,n)},contentElement:function(e,n){return Qc.default.createElement("div",e,n)}};Dl.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,N4.polyfill)(Dl);Yi.default=Dl;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Yi,r=i(n);function i(s){return s&&s.__esModule?s:{default:s}}e.default=r.default,t.exports=e.default})(sm,sm.exports);var $4=sm.exports;const sC=ed($4),U4="_titleModal_1hkyl_1",j4="_modalFormSection_1hkyl_11",z4="_closeButton_1hkyl_15",B4="_iconSvg_1hkyl_22",H4="_modalDescription_1hkyl_35",W4="_formField_1hkyl_44",q4="_inputField_1hkyl_50",K4="_input_1hkyl_50",G4="_fieldLabel_1hkyl_62",Q4="_iconPassword_1hkyl_73",Y4="_buttonPassword_1hkyl_81",X4="_buttonSubmit_1hkyl_98",J4="_errorsSchema_1hkyl_111",We={titleModal:U4,modalFormSection:j4,closeButton:z4,iconSvg:B4,modalDescription:H4,formField:W4,inputField:q4,input:K4,fieldLabel:G4,iconPassword:Q4,buttonPassword:Y4,buttonSubmit:X4,errorsSchema:J4};var Z4=function(e){return e$(e)&&!t$(e)};function e$(t){return!!t&&typeof t=="object"}function t$(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||i$(t)}var n$=typeof Symbol=="function"&&Symbol.for,r$=n$?Symbol.for("react.element"):60103;function i$(t){return t.$$typeof===r$}function s$(t){return Array.isArray(t)?[]:{}}function Xc(t,e){return e.clone!==!1&&e.isMergeableObject(t)?pl(s$(t),t,e):t}function o$(t,e,n){return t.concat(e).map(function(r){return Xc(r,n)})}function a$(t,e,n){var r={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(i){r[i]=Xc(t[i],n)}),Object.keys(e).forEach(function(i){!n.isMergeableObject(e[i])||!t[i]?r[i]=Xc(e[i],n):r[i]=pl(t[i],e[i],n)}),r}function pl(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||o$,n.isMergeableObject=n.isMergeableObject||Z4;var r=Array.isArray(e),i=Array.isArray(t),s=r===i;return s?r?n.arrayMerge(t,e,n):a$(t,e,n):Xc(e,n)}pl.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return pl(r,i,n)},{})};var cm=pl,oC=typeof global=="object"&&global&&global.Object===Object&&global,l$=typeof self=="object"&&self&&self.Object===Object&&self,jn=oC||l$||Function("return this")(),ni=jn.Symbol,aC=Object.prototype,u$=aC.hasOwnProperty,c$=aC.toString,oa=ni?ni.toStringTag:void 0;function d$(t){var e=u$.call(t,oa),n=t[oa];try{t[oa]=void 0;var r=!0}catch{}var i=c$.call(t);return r&&(e?t[oa]=n:delete t[oa]),i}var h$=Object.prototype,f$=h$.toString;function p$(t){return f$.call(t)}var m$="[object Null]",g$="[object Undefined]",gE=ni?ni.toStringTag:void 0;function ts(t){return t==null?t===void 0?g$:m$:gE&&gE in Object(t)?d$(t):p$(t)}function lC(t,e){return function(n){return t(e(n))}}var ay=lC(Object.getPrototypeOf,Object);function ns(t){return t!=null&&typeof t=="object"}var y$="[object Object]",v$=Function.prototype,_$=Object.prototype,uC=v$.toString,E$=_$.hasOwnProperty,w$=uC.call(Object);function yE(t){if(!ns(t)||ts(t)!=y$)return!1;var e=ay(t);if(e===null)return!0;var n=E$.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&uC.call(n)==w$}function T$(){this.__data__=[],this.size=0}function cC(t,e){return t===e||t!==t&&e!==e}function Wd(t,e){for(var n=t.length;n--;)if(cC(t[n][0],e))return n;return-1}var S$=Array.prototype,I$=S$.splice;function C$(t){var e=this.__data__,n=Wd(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():I$.call(e,n,1),--this.size,!0}function A$(t){var e=this.__data__,n=Wd(e,t);return n<0?void 0:e[n][1]}function R$(t){return Wd(this.__data__,t)>-1}function P$(t,e){var n=this.__data__,r=Wd(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function pr(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pr.prototype.clear=T$;pr.prototype.delete=C$;pr.prototype.get=A$;pr.prototype.has=R$;pr.prototype.set=P$;function k$(){this.__data__=new pr,this.size=0}function b$(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function O$(t){return this.__data__.get(t)}function x$(t){return this.__data__.has(t)}function Ll(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var N$="[object AsyncFunction]",D$="[object Function]",L$="[object GeneratorFunction]",M$="[object Proxy]";function dC(t){if(!Ll(t))return!1;var e=ts(t);return e==D$||e==L$||e==N$||e==M$}var wf=jn["__core-js_shared__"],vE=function(){var t=/[^.]+$/.exec(wf&&wf.keys&&wf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function F$(t){return!!vE&&vE in t}var V$=Function.prototype,$$=V$.toString;function rs(t){if(t!=null){try{return $$.call(t)}catch{}try{return t+""}catch{}}return""}var U$=/[\\^$.*+?()[\]{}|]/g,j$=/^\[object .+?Constructor\]$/,z$=Function.prototype,B$=Object.prototype,H$=z$.toString,W$=B$.hasOwnProperty,q$=RegExp("^"+H$.call(W$).replace(U$,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function K$(t){if(!Ll(t)||F$(t))return!1;var e=dC(t)?q$:j$;return e.test(rs(t))}function G$(t,e){return t==null?void 0:t[e]}function is(t,e){var n=G$(t,e);return K$(n)?n:void 0}var ml=is(jn,"Map"),gl=is(Object,"create");function Q$(){this.__data__=gl?gl(null):{},this.size=0}function Y$(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var X$="__lodash_hash_undefined__",J$=Object.prototype,Z$=J$.hasOwnProperty;function eU(t){var e=this.__data__;if(gl){var n=e[t];return n===X$?void 0:n}return Z$.call(e,t)?e[t]:void 0}var tU=Object.prototype,nU=tU.hasOwnProperty;function rU(t){var e=this.__data__;return gl?e[t]!==void 0:nU.call(e,t)}var iU="__lodash_hash_undefined__";function sU(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gl&&e===void 0?iU:e,this}function Xi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xi.prototype.clear=Q$;Xi.prototype.delete=Y$;Xi.prototype.get=eU;Xi.prototype.has=rU;Xi.prototype.set=sU;function oU(){this.size=0,this.__data__={hash:new Xi,map:new(ml||pr),string:new Xi}}function aU(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function qd(t,e){var n=t.__data__;return aU(e)?n[typeof e=="string"?"string":"hash"]:n.map}function lU(t){var e=qd(this,t).delete(t);return this.size-=e?1:0,e}function uU(t){return qd(this,t).get(t)}function cU(t){return qd(this,t).has(t)}function dU(t,e){var n=qd(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function ai(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ai.prototype.clear=oU;ai.prototype.delete=lU;ai.prototype.get=uU;ai.prototype.has=cU;ai.prototype.set=dU;var hU=200;function fU(t,e){var n=this.__data__;if(n instanceof pr){var r=n.__data__;if(!ml||r.length<hU-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new ai(r)}return n.set(t,e),this.size=n.size,this}function bo(t){var e=this.__data__=new pr(t);this.size=e.size}bo.prototype.clear=k$;bo.prototype.delete=b$;bo.prototype.get=O$;bo.prototype.has=x$;bo.prototype.set=fU;function pU(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var _E=function(){try{var t=is(Object,"defineProperty");return t({},"",{}),t}catch{}}();function hC(t,e,n){e=="__proto__"&&_E?_E(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var mU=Object.prototype,gU=mU.hasOwnProperty;function fC(t,e,n){var r=t[e];(!(gU.call(t,e)&&cC(r,n))||n===void 0&&!(e in t))&&hC(t,e,n)}function Kd(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],u=void 0;u===void 0&&(u=t[a]),i?hC(n,a,u):fC(n,a,u)}return n}function yU(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var vU="[object Arguments]";function EE(t){return ns(t)&&ts(t)==vU}var pC=Object.prototype,_U=pC.hasOwnProperty,EU=pC.propertyIsEnumerable,wU=EE(function(){return arguments}())?EE:function(t){return ns(t)&&_U.call(t,"callee")&&!EU.call(t,"callee")},Ml=Array.isArray;function TU(){return!1}var mC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,wE=mC&&typeof module=="object"&&module&&!module.nodeType&&module,SU=wE&&wE.exports===mC,TE=SU?jn.Buffer:void 0,IU=TE?TE.isBuffer:void 0,gC=IU||TU,CU=9007199254740991,AU=/^(?:0|[1-9]\d*)$/;function RU(t,e){var n=typeof t;return e=e??CU,!!e&&(n=="number"||n!="symbol"&&AU.test(t))&&t>-1&&t%1==0&&t<e}var PU=9007199254740991;function yC(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PU}var kU="[object Arguments]",bU="[object Array]",OU="[object Boolean]",xU="[object Date]",NU="[object Error]",DU="[object Function]",LU="[object Map]",MU="[object Number]",FU="[object Object]",VU="[object RegExp]",$U="[object Set]",UU="[object String]",jU="[object WeakMap]",zU="[object ArrayBuffer]",BU="[object DataView]",HU="[object Float32Array]",WU="[object Float64Array]",qU="[object Int8Array]",KU="[object Int16Array]",GU="[object Int32Array]",QU="[object Uint8Array]",YU="[object Uint8ClampedArray]",XU="[object Uint16Array]",JU="[object Uint32Array]",Oe={};Oe[HU]=Oe[WU]=Oe[qU]=Oe[KU]=Oe[GU]=Oe[QU]=Oe[YU]=Oe[XU]=Oe[JU]=!0;Oe[kU]=Oe[bU]=Oe[zU]=Oe[OU]=Oe[BU]=Oe[xU]=Oe[NU]=Oe[DU]=Oe[LU]=Oe[MU]=Oe[FU]=Oe[VU]=Oe[$U]=Oe[UU]=Oe[jU]=!1;function ZU(t){return ns(t)&&yC(t.length)&&!!Oe[ts(t)]}function ly(t){return function(e){return t(e)}}var vC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,La=vC&&typeof module=="object"&&module&&!module.nodeType&&module,ej=La&&La.exports===vC,Tf=ej&&oC.process,mo=function(){try{var t=La&&La.require&&La.require("util").types;return t||Tf&&Tf.binding&&Tf.binding("util")}catch{}}(),SE=mo&&mo.isTypedArray,tj=SE?ly(SE):ZU,nj=Object.prototype,rj=nj.hasOwnProperty;function _C(t,e){var n=Ml(t),r=!n&&wU(t),i=!n&&!r&&gC(t),s=!n&&!r&&!i&&tj(t),o=n||r||i||s,a=o?yU(t.length,String):[],u=a.length;for(var c in t)(e||rj.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||RU(c,u)))&&a.push(c);return a}var ij=Object.prototype;function uy(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ij;return t===n}var sj=lC(Object.keys,Object),oj=Object.prototype,aj=oj.hasOwnProperty;function lj(t){if(!uy(t))return sj(t);var e=[];for(var n in Object(t))aj.call(t,n)&&n!="constructor"&&e.push(n);return e}function EC(t){return t!=null&&yC(t.length)&&!dC(t)}function cy(t){return EC(t)?_C(t):lj(t)}function uj(t,e){return t&&Kd(e,cy(e),t)}function cj(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var dj=Object.prototype,hj=dj.hasOwnProperty;function fj(t){if(!Ll(t))return cj(t);var e=uy(t),n=[];for(var r in t)r=="constructor"&&(e||!hj.call(t,r))||n.push(r);return n}function dy(t){return EC(t)?_C(t,!0):fj(t)}function pj(t,e){return t&&Kd(e,dy(e),t)}var wC=typeof exports=="object"&&exports&&!exports.nodeType&&exports,IE=wC&&typeof module=="object"&&module&&!module.nodeType&&module,mj=IE&&IE.exports===wC,CE=mj?jn.Buffer:void 0,AE=CE?CE.allocUnsafe:void 0;function gj(t,e){if(e)return t.slice();var n=t.length,r=AE?AE(n):new t.constructor(n);return t.copy(r),r}function TC(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function yj(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function SC(){return[]}var vj=Object.prototype,_j=vj.propertyIsEnumerable,RE=Object.getOwnPropertySymbols,hy=RE?function(t){return t==null?[]:(t=Object(t),yj(RE(t),function(e){return _j.call(t,e)}))}:SC;function Ej(t,e){return Kd(t,hy(t),e)}function IC(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var wj=Object.getOwnPropertySymbols,CC=wj?function(t){for(var e=[];t;)IC(e,hy(t)),t=ay(t);return e}:SC;function Tj(t,e){return Kd(t,CC(t),e)}function AC(t,e,n){var r=e(t);return Ml(t)?r:IC(r,n(t))}function Sj(t){return AC(t,cy,hy)}function Ij(t){return AC(t,dy,CC)}var dm=is(jn,"DataView"),hm=is(jn,"Promise"),fm=is(jn,"Set"),pm=is(jn,"WeakMap"),PE="[object Map]",Cj="[object Object]",kE="[object Promise]",bE="[object Set]",OE="[object WeakMap]",xE="[object DataView]",Aj=rs(dm),Rj=rs(ml),Pj=rs(hm),kj=rs(fm),bj=rs(pm),Kn=ts;(dm&&Kn(new dm(new ArrayBuffer(1)))!=xE||ml&&Kn(new ml)!=PE||hm&&Kn(hm.resolve())!=kE||fm&&Kn(new fm)!=bE||pm&&Kn(new pm)!=OE)&&(Kn=function(t){var e=ts(t),n=e==Cj?t.constructor:void 0,r=n?rs(n):"";if(r)switch(r){case Aj:return xE;case Rj:return PE;case Pj:return kE;case kj:return bE;case bj:return OE}return e});var Oj=Object.prototype,xj=Oj.hasOwnProperty;function Nj(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&xj.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var NE=jn.Uint8Array;function fy(t){var e=new t.constructor(t.byteLength);return new NE(e).set(new NE(t)),e}function Dj(t,e){var n=e?fy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Lj=/\w*$/;function Mj(t){var e=new t.constructor(t.source,Lj.exec(t));return e.lastIndex=t.lastIndex,e}var DE=ni?ni.prototype:void 0,LE=DE?DE.valueOf:void 0;function Fj(t){return LE?Object(LE.call(t)):{}}function Vj(t,e){var n=e?fy(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var $j="[object Boolean]",Uj="[object Date]",jj="[object Map]",zj="[object Number]",Bj="[object RegExp]",Hj="[object Set]",Wj="[object String]",qj="[object Symbol]",Kj="[object ArrayBuffer]",Gj="[object DataView]",Qj="[object Float32Array]",Yj="[object Float64Array]",Xj="[object Int8Array]",Jj="[object Int16Array]",Zj="[object Int32Array]",e9="[object Uint8Array]",t9="[object Uint8ClampedArray]",n9="[object Uint16Array]",r9="[object Uint32Array]";function i9(t,e,n){var r=t.constructor;switch(e){case Kj:return fy(t);case $j:case Uj:return new r(+t);case Gj:return Dj(t,n);case Qj:case Yj:case Xj:case Jj:case Zj:case e9:case t9:case n9:case r9:return Vj(t,n);case jj:return new r;case zj:case Wj:return new r(t);case Bj:return Mj(t);case Hj:return new r;case qj:return Fj(t)}}var ME=Object.create,s9=function(){function t(){}return function(e){if(!Ll(e))return{};if(ME)return ME(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function o9(t){return typeof t.constructor=="function"&&!uy(t)?s9(ay(t)):{}}var a9="[object Map]";function l9(t){return ns(t)&&Kn(t)==a9}var FE=mo&&mo.isMap,u9=FE?ly(FE):l9,c9="[object Set]";function d9(t){return ns(t)&&Kn(t)==c9}var VE=mo&&mo.isSet,h9=VE?ly(VE):d9,f9=1,p9=2,m9=4,RC="[object Arguments]",g9="[object Array]",y9="[object Boolean]",v9="[object Date]",_9="[object Error]",PC="[object Function]",E9="[object GeneratorFunction]",w9="[object Map]",T9="[object Number]",kC="[object Object]",S9="[object RegExp]",I9="[object Set]",C9="[object String]",A9="[object Symbol]",R9="[object WeakMap]",P9="[object ArrayBuffer]",k9="[object DataView]",b9="[object Float32Array]",O9="[object Float64Array]",x9="[object Int8Array]",N9="[object Int16Array]",D9="[object Int32Array]",L9="[object Uint8Array]",M9="[object Uint8ClampedArray]",F9="[object Uint16Array]",V9="[object Uint32Array]",Re={};Re[RC]=Re[g9]=Re[P9]=Re[k9]=Re[y9]=Re[v9]=Re[b9]=Re[O9]=Re[x9]=Re[N9]=Re[D9]=Re[w9]=Re[T9]=Re[kC]=Re[S9]=Re[I9]=Re[C9]=Re[A9]=Re[L9]=Re[M9]=Re[F9]=Re[V9]=!0;Re[_9]=Re[PC]=Re[R9]=!1;function Ma(t,e,n,r,i,s){var o,a=e&f9,u=e&p9,c=e&m9;if(o!==void 0)return o;if(!Ll(t))return t;var h=Ml(t);if(h){if(o=Nj(t),!a)return TC(t,o)}else{var p=Kn(t),m=p==PC||p==E9;if(gC(t))return gj(t,a);if(p==kC||p==RC||m&&!i){if(o=u||m?{}:o9(t),!a)return u?Tj(t,pj(o,t)):Ej(t,uj(o,t))}else{if(!Re[p])return i?t:{};o=i9(t,p,a)}}s||(s=new bo);var T=s.get(t);if(T)return T;s.set(t,o),h9(t)?t.forEach(function(k){o.add(Ma(k,e,n,k,t,s))}):u9(t)&&t.forEach(function(k,_){o.set(_,Ma(k,e,n,_,t,s))});var I=c?u?Ij:Sj:u?dy:cy,R=h?void 0:I(t);return pU(R||t,function(k,_){R&&(_=k,k=t[_]),fC(o,_,Ma(k,e,n,_,t,s))}),o}var $9=1,U9=4;function Pu(t){return Ma(t,$9|U9)}var $E=Array.isArray,UE=Object.keys,j9=Object.prototype.hasOwnProperty,z9=typeof Element<"u";function mm(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var n=$E(t),r=$E(e),i,s,o;if(n&&r){if(s=t.length,s!=e.length)return!1;for(i=s;i--!==0;)if(!mm(t[i],e[i]))return!1;return!0}if(n!=r)return!1;var a=t instanceof Date,u=e instanceof Date;if(a!=u)return!1;if(a&&u)return t.getTime()==e.getTime();var c=t instanceof RegExp,h=e instanceof RegExp;if(c!=h)return!1;if(c&&h)return t.toString()==e.toString();var p=UE(t);if(s=p.length,s!==UE(e).length)return!1;for(i=s;i--!==0;)if(!j9.call(e,p[i]))return!1;if(z9&&t instanceof Element&&e instanceof Element)return t===e;for(i=s;i--!==0;)if(o=p[i],!(o==="_owner"&&t.$$typeof)&&!mm(t[o],e[o]))return!1;return!0}return t!==t&&e!==e}var B9=function(e,n){try{return mm(e,n)}catch(r){if(r.message&&r.message.match(/stack|recursion/i)||r.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}};const wi=ed(B9);var H9=4;function jE(t){return Ma(t,H9)}function bC(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var W9="[object Symbol]";function py(t){return typeof t=="symbol"||ns(t)&&ts(t)==W9}var q9="Expected a function";function my(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(q9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(my.Cache||ai),n}my.Cache=ai;var K9=500;function G9(t){var e=my(t,function(r){return n.size===K9&&n.clear(),r}),n=e.cache;return e}var Q9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y9=/\\(\\)?/g,X9=G9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Q9,function(n,r,i,s){e.push(i?s.replace(Y9,"$1"):r||n)}),e}),J9=1/0;function Z9(t){if(typeof t=="string"||py(t))return t;var e=t+"";return e=="0"&&1/t==-J9?"-0":e}var e3=1/0,zE=ni?ni.prototype:void 0,BE=zE?zE.toString:void 0;function OC(t){if(typeof t=="string")return t;if(Ml(t))return bC(t,OC)+"";if(py(t))return BE?BE.call(t):"";var e=t+"";return e=="0"&&1/t==-e3?"-0":e}function t3(t){return t==null?"":OC(t)}function xC(t){return Ml(t)?bC(t,Z9):py(t)?[t]:TC(X9(t3(t)))}var NC={exports:{}},Ce={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=typeof Symbol=="function"&&Symbol.for,gy=it?Symbol.for("react.element"):60103,yy=it?Symbol.for("react.portal"):60106,Gd=it?Symbol.for("react.fragment"):60107,Qd=it?Symbol.for("react.strict_mode"):60108,Yd=it?Symbol.for("react.profiler"):60114,Xd=it?Symbol.for("react.provider"):60109,Jd=it?Symbol.for("react.context"):60110,vy=it?Symbol.for("react.async_mode"):60111,Zd=it?Symbol.for("react.concurrent_mode"):60111,eh=it?Symbol.for("react.forward_ref"):60112,th=it?Symbol.for("react.suspense"):60113,n3=it?Symbol.for("react.suspense_list"):60120,nh=it?Symbol.for("react.memo"):60115,rh=it?Symbol.for("react.lazy"):60116,r3=it?Symbol.for("react.block"):60121,i3=it?Symbol.for("react.fundamental"):60117,s3=it?Symbol.for("react.responder"):60118,o3=it?Symbol.for("react.scope"):60119;function en(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case gy:switch(t=t.type,t){case vy:case Zd:case Gd:case Yd:case Qd:case th:return t;default:switch(t=t&&t.$$typeof,t){case Jd:case eh:case rh:case nh:case Xd:return t;default:return e}}case yy:return e}}}function DC(t){return en(t)===Zd}Ce.AsyncMode=vy;Ce.ConcurrentMode=Zd;Ce.ContextConsumer=Jd;Ce.ContextProvider=Xd;Ce.Element=gy;Ce.ForwardRef=eh;Ce.Fragment=Gd;Ce.Lazy=rh;Ce.Memo=nh;Ce.Portal=yy;Ce.Profiler=Yd;Ce.StrictMode=Qd;Ce.Suspense=th;Ce.isAsyncMode=function(t){return DC(t)||en(t)===vy};Ce.isConcurrentMode=DC;Ce.isContextConsumer=function(t){return en(t)===Jd};Ce.isContextProvider=function(t){return en(t)===Xd};Ce.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===gy};Ce.isForwardRef=function(t){return en(t)===eh};Ce.isFragment=function(t){return en(t)===Gd};Ce.isLazy=function(t){return en(t)===rh};Ce.isMemo=function(t){return en(t)===nh};Ce.isPortal=function(t){return en(t)===yy};Ce.isProfiler=function(t){return en(t)===Yd};Ce.isStrictMode=function(t){return en(t)===Qd};Ce.isSuspense=function(t){return en(t)===th};Ce.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Gd||t===Zd||t===Yd||t===Qd||t===th||t===n3||typeof t=="object"&&t!==null&&(t.$$typeof===rh||t.$$typeof===nh||t.$$typeof===Xd||t.$$typeof===Jd||t.$$typeof===eh||t.$$typeof===i3||t.$$typeof===s3||t.$$typeof===o3||t.$$typeof===r3)};Ce.typeOf=en;NC.exports=Ce;var a3=NC.exports,LC=a3,l3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u3={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},MC={};MC[LC.ForwardRef]=l3;MC[LC.Memo]=u3;function xe(){return xe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xe.apply(this,arguments)}function Ds(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var ih=N.createContext(void 0);ih.displayName="FormikContext";var c3=ih.Provider;ih.Consumer;function FC(){var t=N.useContext(ih);return t}var Bt=function(e){return typeof e=="function"},sh=function(e){return e!==null&&typeof e=="object"},d3=function(e){return String(Math.floor(Number(e)))===e},Sf=function(e){return Object.prototype.toString.call(e)==="[object String]"},h3=function(e){return N.Children.count(e)===0},If=function(e){return sh(e)&&Bt(e.then)};function zt(t,e,n,r){r===void 0&&(r=0);for(var i=xC(e);t&&r<i.length;)t=t[i[r++]];return r!==i.length&&!t||t===void 0?n:t}function Di(t,e,n){for(var r=jE(t),i=r,s=0,o=xC(e);s<o.length-1;s++){var a=o[s],u=zt(t,o.slice(0,s+1));if(u&&(sh(u)||Array.isArray(u)))i=i[a]=jE(u);else{var c=o[s+1];i=i[a]=d3(c)&&Number(c)>=0?[]:{}}}return(s===0?t:i)[o[s]]===n?t:(n===void 0?delete i[o[s]]:i[o[s]]=n,s===0&&n===void 0&&delete r[o[s]],r)}function VC(t,e,n,r){n===void 0&&(n=new WeakMap),r===void 0&&(r={});for(var i=0,s=Object.keys(t);i<s.length;i++){var o=s[i],a=t[o];sh(a)?n.get(a)||(n.set(a,!0),r[o]=Array.isArray(a)?[]:{},VC(a,e,n,r[o])):r[o]=e}return r}function f3(t,e){switch(e.type){case"SET_VALUES":return xe({},t,{values:e.payload});case"SET_TOUCHED":return xe({},t,{touched:e.payload});case"SET_ERRORS":return wi(t.errors,e.payload)?t:xe({},t,{errors:e.payload});case"SET_STATUS":return xe({},t,{status:e.payload});case"SET_ISSUBMITTING":return xe({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return xe({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return xe({},t,{values:Di(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return xe({},t,{touched:Di(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return xe({},t,{errors:Di(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return xe({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return xe({},t,{touched:VC(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return xe({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return xe({},t,{isSubmitting:!1});default:return t}}var pi={},ku={};function p3(t){var e=t.validateOnChange,n=e===void 0?!0:e,r=t.validateOnBlur,i=r===void 0?!0:r,s=t.validateOnMount,o=s===void 0?!1:s,a=t.isInitialValid,u=t.enableReinitialize,c=u===void 0?!1:u,h=t.onSubmit,p=Ds(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=xe({validateOnChange:n,validateOnBlur:i,validateOnMount:o,onSubmit:h},p),T=N.useRef(m.initialValues),I=N.useRef(m.initialErrors||pi),R=N.useRef(m.initialTouched||ku),k=N.useRef(m.initialStatus),_=N.useRef(!1),y=N.useRef({});N.useEffect(function(){return _.current=!0,function(){_.current=!1}},[]);var w=N.useState(0),b=w[1],V=N.useRef({values:Pu(m.initialValues),errors:Pu(m.initialErrors)||pi,touched:Pu(m.initialTouched)||ku,status:Pu(m.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),D=V.current,E=N.useCallback(function(L){var K=V.current;V.current=f3(K,L),K!==V.current&&b(function(Y){return Y+1})},[]),g=N.useCallback(function(L,K){return new Promise(function(Y,te){var ee=m.validate(L,K);ee==null?Y(pi):If(ee)?ee.then(function(ae){Y(ae||pi)},function(ae){te(ae)}):Y(ee)})},[m.validate]),S=N.useCallback(function(L,K){var Y=m.validationSchema,te=Bt(Y)?Y(K):Y,ee=K&&te.validateAt?te.validateAt(K,L):y3(L,te);return new Promise(function(ae,Le){ee.then(function(){ae(pi)},function(tn){tn.name==="ValidationError"?ae(g3(tn)):Le(tn)})})},[m.validationSchema]),C=N.useCallback(function(L,K){return new Promise(function(Y){return Y(y.current[L].validate(K))})},[]),P=N.useCallback(function(L){var K=Object.keys(y.current).filter(function(te){return Bt(y.current[te].validate)}),Y=K.length>0?K.map(function(te){return C(te,zt(L,te))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(Y).then(function(te){return te.reduce(function(ee,ae,Le){return ae==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||ae&&(ee=Di(ee,K[Le],ae)),ee},{})})},[C]),O=N.useCallback(function(L){return Promise.all([P(L),m.validationSchema?S(L):{},m.validate?g(L):{}]).then(function(K){var Y=K[0],te=K[1],ee=K[2],ae=cm.all([Y,te,ee],{arrayMerge:v3});return ae})},[m.validate,m.validationSchema,P,g,S]),A=nn(function(L){return L===void 0&&(L=D.values),E({type:"SET_ISVALIDATING",payload:!0}),O(L).then(function(K){return _.current&&(E({type:"SET_ISVALIDATING",payload:!1}),E({type:"SET_ERRORS",payload:K})),K})});N.useEffect(function(){o&&_.current===!0&&wi(T.current,m.initialValues)&&A(T.current)},[o,A]);var q=N.useCallback(function(L){var K=L&&L.values?L.values:T.current,Y=L&&L.errors?L.errors:I.current?I.current:m.initialErrors||{},te=L&&L.touched?L.touched:R.current?R.current:m.initialTouched||{},ee=L&&L.status?L.status:k.current?k.current:m.initialStatus;T.current=K,I.current=Y,R.current=te,k.current=ee;var ae=function(){E({type:"RESET_FORM",payload:{isSubmitting:!!L&&!!L.isSubmitting,errors:Y,touched:te,status:ee,values:K,isValidating:!!L&&!!L.isValidating,submitCount:L&&L.submitCount&&typeof L.submitCount=="number"?L.submitCount:0}})};if(m.onReset){var Le=m.onReset(D.values,ls);If(Le)?Le.then(ae):ae()}else ae()},[m.initialErrors,m.initialStatus,m.initialTouched,m.onReset]);N.useEffect(function(){_.current===!0&&!wi(T.current,m.initialValues)&&c&&(T.current=m.initialValues,q(),o&&A(T.current))},[c,m.initialValues,q,o,A]),N.useEffect(function(){c&&_.current===!0&&!wi(I.current,m.initialErrors)&&(I.current=m.initialErrors||pi,E({type:"SET_ERRORS",payload:m.initialErrors||pi}))},[c,m.initialErrors]),N.useEffect(function(){c&&_.current===!0&&!wi(R.current,m.initialTouched)&&(R.current=m.initialTouched||ku,E({type:"SET_TOUCHED",payload:m.initialTouched||ku}))},[c,m.initialTouched]),N.useEffect(function(){c&&_.current===!0&&!wi(k.current,m.initialStatus)&&(k.current=m.initialStatus,E({type:"SET_STATUS",payload:m.initialStatus}))},[c,m.initialStatus,m.initialTouched]);var J=nn(function(L){if(y.current[L]&&Bt(y.current[L].validate)){var K=zt(D.values,L),Y=y.current[L].validate(K);return If(Y)?(E({type:"SET_ISVALIDATING",payload:!0}),Y.then(function(te){return te}).then(function(te){E({type:"SET_FIELD_ERROR",payload:{field:L,value:te}}),E({type:"SET_ISVALIDATING",payload:!1})})):(E({type:"SET_FIELD_ERROR",payload:{field:L,value:Y}}),Promise.resolve(Y))}else if(m.validationSchema)return E({type:"SET_ISVALIDATING",payload:!0}),S(D.values,L).then(function(te){return te}).then(function(te){E({type:"SET_FIELD_ERROR",payload:{field:L,value:zt(te,L)}}),E({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),pe=N.useCallback(function(L,K){var Y=K.validate;y.current[L]={validate:Y}},[]),M=N.useCallback(function(L){delete y.current[L]},[]),$=nn(function(L,K){E({type:"SET_TOUCHED",payload:L});var Y=K===void 0?i:K;return Y?A(D.values):Promise.resolve()}),W=N.useCallback(function(L){E({type:"SET_ERRORS",payload:L})},[]),G=nn(function(L,K){var Y=Bt(L)?L(D.values):L;E({type:"SET_VALUES",payload:Y});var te=K===void 0?n:K;return te?A(Y):Promise.resolve()}),Z=N.useCallback(function(L,K){E({type:"SET_FIELD_ERROR",payload:{field:L,value:K}})},[]),ne=nn(function(L,K,Y){E({type:"SET_FIELD_VALUE",payload:{field:L,value:K}});var te=Y===void 0?n:Y;return te?A(Di(D.values,L,K)):Promise.resolve()}),oe=N.useCallback(function(L,K){var Y=K,te=L,ee;if(!Sf(L)){L.persist&&L.persist();var ae=L.target?L.target:L.currentTarget,Le=ae.type,tn=ae.name,cs=ae.id,Lo=ae.value,ui=ae.checked,dh=ae.outerHTML,Mo=ae.options,Fo=ae.multiple;Y=K||tn||cs,te=/number|range/.test(Le)?(ee=parseFloat(Lo),isNaN(ee)?"":ee):/checkbox/.test(Le)?E3(zt(D.values,Y),ui,Lo):Mo&&Fo?_3(Mo):Lo}Y&&ne(Y,te)},[ne,D.values]),_e=nn(function(L){if(Sf(L))return function(K){return oe(K,L)};oe(L)}),Te=nn(function(L,K,Y){K===void 0&&(K=!0),E({type:"SET_FIELD_TOUCHED",payload:{field:L,value:K}});var te=Y===void 0?i:Y;return te?A(D.values):Promise.resolve()}),Ue=N.useCallback(function(L,K){L.persist&&L.persist();var Y=L.target,te=Y.name,ee=Y.id,ae=Y.outerHTML,Le=K||te||ee;Te(Le,!0)},[Te]),He=nn(function(L){if(Sf(L))return function(K){return Ue(K,L)};Ue(L)}),as=N.useCallback(function(L){Bt(L)?E({type:"SET_FORMIK_STATE",payload:L}):E({type:"SET_FORMIK_STATE",payload:function(){return L}})},[]),Fl=N.useCallback(function(L){E({type:"SET_STATUS",payload:L})},[]),li=N.useCallback(function(L){E({type:"SET_ISSUBMITTING",payload:L})},[]),mr=nn(function(){return E({type:"SUBMIT_ATTEMPT"}),A().then(function(L){var K=L instanceof Error,Y=!K&&Object.keys(L).length===0;if(Y){var te;try{if(te=xo(),te===void 0)return}catch(ee){throw ee}return Promise.resolve(te).then(function(ee){return _.current&&E({type:"SUBMIT_SUCCESS"}),ee}).catch(function(ee){if(_.current)throw E({type:"SUBMIT_FAILURE"}),ee})}else if(_.current&&(E({type:"SUBMIT_FAILURE"}),K))throw L})}),Oo=nn(function(L){L&&L.preventDefault&&Bt(L.preventDefault)&&L.preventDefault(),L&&L.stopPropagation&&Bt(L.stopPropagation)&&L.stopPropagation(),mr().catch(function(K){console.warn("Warning: An unhandled error was caught from submitForm()",K)})}),ls={resetForm:q,validateForm:A,validateField:J,setErrors:W,setFieldError:Z,setFieldTouched:Te,setFieldValue:ne,setStatus:Fl,setSubmitting:li,setTouched:$,setValues:G,setFormikState:as,submitForm:mr},xo=nn(function(){return h(D.values,ls)}),No=nn(function(L){L&&L.preventDefault&&Bt(L.preventDefault)&&L.preventDefault(),L&&L.stopPropagation&&Bt(L.stopPropagation)&&L.stopPropagation(),q()}),Vl=N.useCallback(function(L){return{value:zt(D.values,L),error:zt(D.errors,L),touched:!!zt(D.touched,L),initialValue:zt(T.current,L),initialTouched:!!zt(R.current,L),initialError:zt(I.current,L)}},[D.errors,D.touched,D.values]),uh=N.useCallback(function(L){return{setValue:function(Y,te){return ne(L,Y,te)},setTouched:function(Y,te){return Te(L,Y,te)},setError:function(Y){return Z(L,Y)}}},[ne,Te,Z]),ch=N.useCallback(function(L){var K=sh(L),Y=K?L.name:L,te=zt(D.values,Y),ee={name:Y,value:te,onChange:_e,onBlur:He};if(K){var ae=L.type,Le=L.value,tn=L.as,cs=L.multiple;ae==="checkbox"?Le===void 0?ee.checked=!!te:(ee.checked=!!(Array.isArray(te)&&~te.indexOf(Le)),ee.value=Le):ae==="radio"?(ee.checked=te===Le,ee.value=Le):tn==="select"&&cs&&(ee.value=ee.value||[],ee.multiple=!0)}return ee},[He,_e,D.values]),us=N.useMemo(function(){return!wi(T.current,D.values)},[T.current,D.values]),Do=N.useMemo(function(){return typeof a<"u"?us?D.errors&&Object.keys(D.errors).length===0:a!==!1&&Bt(a)?a(m):a:D.errors&&Object.keys(D.errors).length===0},[a,us,D.errors,m]),$l=xe({},D,{initialValues:T.current,initialErrors:I.current,initialTouched:R.current,initialStatus:k.current,handleBlur:He,handleChange:_e,handleReset:No,handleSubmit:Oo,resetForm:q,setErrors:W,setFormikState:as,setFieldTouched:Te,setFieldValue:ne,setFieldError:Z,setStatus:Fl,setSubmitting:li,setTouched:$,setValues:G,submitForm:mr,validateForm:A,validateField:J,isValid:Do,dirty:us,unregisterField:M,registerField:pe,getFieldProps:ch,getFieldMeta:Vl,getFieldHelpers:uh,validateOnBlur:i,validateOnChange:n,validateOnMount:o});return $l}function m3(t){var e=p3(t),n=t.component,r=t.children,i=t.render,s=t.innerRef;return N.useImperativeHandle(s,function(){return e}),N.createElement(c3,{value:e},n?N.createElement(n,e):i?i(e):r?Bt(r)?r(e):h3(r)?null:N.Children.only(r):null)}function g3(t){var e={};if(t.inner){if(t.inner.length===0)return Di(e,t.path,t.message);for(var i=t.inner,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var s;if(n){if(r>=i.length)break;s=i[r++]}else{if(r=i.next(),r.done)break;s=r.value}var o=s;zt(e,o.path)||(e=Di(e,o.path,o.message))}}return e}function y3(t,e,n,r){n===void 0&&(n=!1);var i=gm(t);return e[n?"validateSync":"validate"](i,{abortEarly:!1,context:i})}function gm(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=String(n);Array.isArray(t[r])===!0?e[r]=t[r].map(function(i){return Array.isArray(i)===!0||yE(i)?gm(i):i!==""?i:void 0}):yE(t[r])?e[r]=gm(t[r]):e[r]=t[r]!==""?t[r]:void 0}return e}function v3(t,e,n){var r=t.slice();return e.forEach(function(s,o){if(typeof r[o]>"u"){var a=n.clone!==!1,u=a&&n.isMergeableObject(s);r[o]=u?cm(Array.isArray(s)?[]:{},s,n):s}else n.isMergeableObject(s)?r[o]=cm(t[o],s,n):t.indexOf(s)===-1&&r.push(s)}),r}function _3(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function E3(t,e,n){if(typeof t=="boolean")return!!e;var r=[],i=!1,s=-1;if(Array.isArray(t))r=t,s=t.indexOf(n),i=s>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!i?r.concat(n):i?r.slice(0,s).concat(r.slice(s+1)):r}var w3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?N.useLayoutEffect:N.useEffect;function nn(t){var e=N.useRef(t);return w3(function(){e.current=t}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.current.apply(void 0,r)},[])}function Cf(t){var e=t.validate,n=t.name,r=t.render,i=t.children,s=t.as,o=t.component,a=t.className,u=Ds(t,["validate","name","render","children","as","component","className"]),c=FC(),h=Ds(c,["validate","validationSchema"]),p=h.registerField,m=h.unregisterField;N.useEffect(function(){return p(n,{validate:e}),function(){m(n)}},[p,m,n,e]);var T=h.getFieldProps(xe({name:n},u)),I=h.getFieldMeta(n),R={field:T,form:h};if(r)return r(xe({},R,{meta:I}));if(Bt(i))return i(xe({},R,{meta:I}));if(o){if(typeof o=="string"){var k=u.innerRef,_=Ds(u,["innerRef"]);return N.createElement(o,xe({ref:k},T,_,{className:a}),i)}return N.createElement(o,xe({field:T,form:h},u,{className:a}),i)}var y=s||"input";if(typeof y=="string"){var w=u.innerRef,b=Ds(u,["innerRef"]);return N.createElement(y,xe({ref:w},T,b,{className:a}),i)}return N.createElement(y,xe({},T,u,{className:a}),i)}var $C=N.forwardRef(function(t,e){var n=t.action,r=Ds(t,["action"]),i=n??"#",s=FC(),o=s.handleReset,a=s.handleSubmit;return N.createElement("form",xe({onSubmit:a,ref:e,onReset:o,action:i},r))});$C.displayName="Form";function ss(t){this._maxSize=t,this.clear()}ss.prototype.clear=function(){this._size=0,this._values=Object.create(null)};ss.prototype.get=function(t){return this._values[t]};ss.prototype.set=function(t,e){return this._size>=this._maxSize&&this.clear(),t in this._values||this._size++,this._values[t]=e};var T3=/[^.^\]^[]+|(?=\[\]|\.\.)/g,UC=/^\d+$/,S3=/^\d/,I3=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,C3=/^\s*(['"]?)(.*?)(\1)\s*$/,_y=512,HE=new ss(_y),WE=new ss(_y),qE=new ss(_y),Li={Cache:ss,split:ym,normalizePath:Af,setter:function(t){var e=Af(t);return WE.get(t)||WE.set(t,function(r,i){for(var s=0,o=e.length,a=r;s<o-1;){var u=e[s];if(u==="__proto__"||u==="constructor"||u==="prototype")return r;a=a[e[s++]]}a[e[s]]=i})},getter:function(t,e){var n=Af(t);return qE.get(t)||qE.set(t,function(i){for(var s=0,o=n.length;s<o;)if(i!=null||!e)i=i[n[s++]];else return;return i})},join:function(t){return t.reduce(function(e,n){return e+(Ey(n)||UC.test(n)?"["+n+"]":(e?".":"")+n)},"")},forEach:function(t,e,n){A3(Array.isArray(t)?t:ym(t),e,n)}};function Af(t){return HE.get(t)||HE.set(t,ym(t).map(function(e){return e.replace(C3,"$2")}))}function ym(t){return t.match(T3)||[""]}function A3(t,e,n){var r=t.length,i,s,o,a;for(s=0;s<r;s++)i=t[s],i&&(k3(i)&&(i='"'+i+'"'),a=Ey(i),o=!a&&/^\d+$/.test(i),e.call(n,i,a,o,s,t))}function Ey(t){return typeof t=="string"&&t&&["'",'"'].indexOf(t.charAt(0))!==-1}function R3(t){return t.match(S3)&&!t.match(UC)}function P3(t){return I3.test(t)}function k3(t){return!Ey(t)&&(R3(t)||P3(t))}const b3=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,oh=t=>t.match(b3)||[],ah=t=>t[0].toUpperCase()+t.slice(1),wy=(t,e)=>oh(t).join(e).toLowerCase(),jC=t=>oh(t).reduce((e,n)=>`${e}${e?n[0].toUpperCase()+n.slice(1).toLowerCase():n.toLowerCase()}`,""),O3=t=>ah(jC(t)),x3=t=>wy(t,"_"),N3=t=>wy(t,"-"),D3=t=>ah(wy(t," ")),L3=t=>oh(t).map(ah).join(" ");var Rf={words:oh,upperFirst:ah,camelCase:jC,pascalCase:O3,snakeCase:x3,kebabCase:N3,sentenceCase:D3,titleCase:L3},Ty={exports:{}};Ty.exports=function(t){return zC(M3(t),t)};Ty.exports.array=zC;function zC(t,e){var n=t.length,r=new Array(n),i={},s=n,o=F3(e),a=V3(t);for(e.forEach(function(c){if(!a.has(c[0])||!a.has(c[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)i[s]||u(t[s],s,new Set);return r;function u(c,h,p){if(p.has(c)){var m;try{m=", node was:"+JSON.stringify(c)}catch{m=""}throw new Error("Cyclic dependency"+m)}if(!a.has(c))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(c));if(!i[h]){i[h]=!0;var T=o.get(c)||new Set;if(T=Array.from(T),h=T.length){p.add(c);do{var I=T[--h];u(I,a.get(I),p)}while(h);p.delete(c)}r[--n]=c}}}function M3(t){for(var e=new Set,n=0,r=t.length;n<r;n++){var i=t[n];e.add(i[0]),e.add(i[1])}return Array.from(e)}function F3(t){for(var e=new Map,n=0,r=t.length;n<r;n++){var i=t[n];e.has(i[0])||e.set(i[0],new Set),e.has(i[1])||e.set(i[1],new Set),e.get(i[0]).add(i[1])}return e}function V3(t){for(var e=new Map,n=0,r=t.length;n<r;n++)e.set(t[n],n);return e}var $3=Ty.exports;const U3=ed($3),j3=Object.prototype.toString,z3=Error.prototype.toString,B3=RegExp.prototype.toString,H3=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",W3=/^Symbol\((.*)\)(.*)$/;function q3(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function KE(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return q3(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return H3.call(t).replace(W3,"Symbol($1)");const r=j3.call(t).slice(8,-1);return r==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):r==="Error"||t instanceof Error?"["+z3.call(t)+"]":r==="RegExp"?B3.call(t):null}function Gr(t,e){let n=KE(t,e);return n!==null?n:JSON.stringify(t,function(r,i){let s=KE(this[r],e);return s!==null?s:i},2)}function BC(t){return t==null?[]:[].concat(t)}let HC,WC,qC,K3=/\$\{\s*(\w+)\s*\}/g;HC=Symbol.toStringTag;class GE{constructor(e,n,r,i){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[HC]="Error",this.name="ValidationError",this.value=n,this.path=r,this.type=i,this.errors=[],this.inner=[],BC(e).forEach(s=>{if(Dt.isError(s)){this.errors.push(...s.errors);const o=s.inner.length?s.inner:[s];this.inner.push(...o)}else this.errors.push(s)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}WC=Symbol.hasInstance;qC=Symbol.toStringTag;class Dt extends Error{static formatError(e,n){const r=n.label||n.path||"this";return r!==n.path&&(n=Object.assign({},n,{path:r})),typeof e=="string"?e.replace(K3,(i,s)=>Gr(n[s])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,r,i,s){const o=new GE(e,n,r,i);if(s)return o;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[qC]="Error",this.name=o.name,this.message=o.message,this.type=o.type,this.value=o.value,this.path=o.path,this.errors=o.errors,this.inner=o.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Dt)}static[WC](e){return GE[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Pn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:r})=>{const i=r!=null&&r!==n?` (cast from the value \`${Gr(r,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${Gr(n,!0)}\``+i:`${t} must match the configured type. The validated value was: \`${Gr(n,!0)}\``+i}},Ot={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},G3={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},vm={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},Q3={isValue:"${path} field must be ${value}"},_m={noUnknown:"${path} field has unspecified keys: ${unknown}"},Y3={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},X3={notType:t=>{const{path:e,value:n,spec:r}=t,i=r.types.length;if(Array.isArray(n)){if(n.length<i)return`${e} tuple value has too few items, expected a length of ${i} but got ${n.length} for value: \`${Gr(n,!0)}\``;if(n.length>i)return`${e} tuple value has too many items, expected a length of ${i} but got ${n.length} for value: \`${Gr(n,!0)}\``}return Dt.formatError(Pn.notType,t)}};Object.assign(Object.create(null),{mixed:Pn,string:Ot,number:G3,date:vm,object:_m,array:Y3,boolean:Q3,tuple:X3});const Sy=t=>t&&t.__isYupSchema__;class Jc{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:r,then:i,otherwise:s}=n,o=typeof r=="function"?r:(...a)=>a.every(u=>u===r);return new Jc(e,(a,u)=>{var c;let h=o(...a)?i:s;return(c=h==null?void 0:h(u))!=null?c:u})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let r=this.refs.map(s=>s.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),i=this.fn(r,e,n);if(i===void 0||i===e)return e;if(!Sy(i))throw new TypeError("conditions must return a schema object");return i.resolve(n)}}const bu={context:"$",value:"."};class os{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===bu.context,this.isValue=this.key[0]===bu.value,this.isSibling=!this.isContext&&!this.isValue;let r=this.isContext?bu.context:this.isValue?bu.value:"";this.path=this.key.slice(r.length),this.getter=this.path&&Li.getter(this.path,!0),this.map=n.map}getValue(e,n,r){let i=this.isContext?r:this.isValue?e:n;return this.getter&&(i=this.getter(i||{})),this.map&&(i=this.map(i)),i}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}os.prototype.__isYupRef=!0;const Ai=t=>t==null;function gs(t){function e({value:n,path:r="",options:i,originalValue:s,schema:o},a,u){const{name:c,test:h,params:p,message:m,skipAbsent:T}=t;let{parent:I,context:R,abortEarly:k=o.spec.abortEarly,disableStackTrace:_=o.spec.disableStackTrace}=i;function y(P){return os.isRef(P)?P.getValue(n,I,R):P}function w(P={}){const O=Object.assign({value:n,originalValue:s,label:o.spec.label,path:P.path||r,spec:o.spec,disableStackTrace:P.disableStackTrace||_},p,P.params);for(const q of Object.keys(O))O[q]=y(O[q]);const A=new Dt(Dt.formatError(P.message||m,O),n,O.path,P.type||c,O.disableStackTrace);return A.params=O,A}const b=k?a:u;let V={path:r,parent:I,type:c,from:i.from,createError:w,resolve:y,options:i,originalValue:s,schema:o};const D=P=>{Dt.isError(P)?b(P):P?u(null):b(w())},E=P=>{Dt.isError(P)?b(P):a(P)};if(T&&Ai(n))return D(!0);let S;try{var C;if(S=h.call(V,n,V),typeof((C=S)==null?void 0:C.then)=="function"){if(i.sync)throw new Error(`Validation test of type: "${V.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(S).then(D,E)}}catch(P){E(P);return}D(S)}return e.OPTIONS=t,e}function J3(t,e,n,r=n){let i,s,o;return e?(Li.forEach(e,(a,u,c)=>{let h=u?a.slice(1,a.length-1):a;t=t.resolve({context:r,parent:i,value:n});let p=t.type==="tuple",m=c?parseInt(h,10):0;if(t.innerType||p){if(p&&!c)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${o}" must contain an index to the tuple element, e.g. "${o}[0]"`);if(n&&m>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${e}. because there is no value at that index. `);i=n,n=n&&n[m],t=p?t.spec.types[m]:t.innerType}if(!c){if(!t.fields||!t.fields[h])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${o} which is a type: "${t.type}")`);i=n,n=n&&n[h],t=t.fields[h]}s=h,o=u?"["+a+"]":"."+a}),{schema:t,parent:i,parentPath:s}):{parent:i,parentPath:e,schema:t}}class Zc extends Set{describe(){const e=[];for(const n of this.values())e.push(os.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const r of this.values())n.push(e(r));return n}clone(){return new Zc(this.values())}merge(e,n){const r=this.clone();return e.forEach(i=>r.add(i)),n.forEach(i=>r.delete(i)),r}}function Ls(t,e=new Map){if(Sy(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let r=0;r<t.length;r++)n[r]=Ls(t[r],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[r,i]of t.entries())n.set(r,Ls(i,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const r of t)n.add(Ls(r,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[r,i]of Object.entries(t))n[r]=Ls(i,e)}else throw Error(`Unable to clone ${t}`);return n}class $n{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Zc,this._blacklist=new Zc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Pn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Ls(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let r=e(this);return this._mutate=n,r}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,r=e.clone();const i=Object.assign({},n.spec,r.spec);return r.spec=i,r.internalTests=Object.assign({},n.internalTests,r.internalTests),r._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),r._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),r.tests=n.tests,r.exclusiveTests=n.exclusiveTests,r.withMutation(s=>{e.tests.forEach(o=>{s.test(o.OPTIONS)})}),r.transforms=[...n.transforms,...r.transforms],r}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let r=n.conditions;n=n.clone(),n.conditions=[],n=r.reduce((i,s)=>s.resolve(i,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,r,i,s;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(r=e.abortEarly)!=null?r:this.spec.abortEarly,recursive:(i=e.recursive)!=null?i:this.spec.recursive,disableStackTrace:(s=e.disableStackTrace)!=null?s:this.spec.disableStackTrace})}cast(e,n={}){let r=this.resolve(Object.assign({value:e},n)),i=n.assert==="ignore-optionality",s=r._cast(e,n);if(n.assert!==!1&&!r.isType(s)){if(i&&Ai(s))return s;let o=Gr(e),a=Gr(s);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${r.type}". 

attempted value: ${o} 
`+(a!==o?`result of cast: ${a}`:""))}return s}_cast(e,n){let r=e===void 0?e:this.transforms.reduce((i,s)=>s.call(this,i,e,this),e);return r===void 0&&(r=this.getDefault(n)),r}_validate(e,n={},r,i){let{path:s,originalValue:o=e,strict:a=this.spec.strict}=n,u=e;a||(u=this._cast(u,Object.assign({assert:!1},n)));let c=[];for(let h of Object.values(this.internalTests))h&&c.push(h);this.runTests({path:s,value:u,originalValue:o,options:n,tests:c},r,h=>{if(h.length)return i(h,u);this.runTests({path:s,value:u,originalValue:o,options:n,tests:this.tests},r,i)})}runTests(e,n,r){let i=!1,{tests:s,value:o,originalValue:a,path:u,options:c}=e,h=R=>{i||(i=!0,n(R,o))},p=R=>{i||(i=!0,r(R,o))},m=s.length,T=[];if(!m)return p([]);let I={value:o,originalValue:a,path:u,options:c,schema:this};for(let R=0;R<s.length;R++){const k=s[R];k(I,h,function(y){y&&(Array.isArray(y)?T.push(...y):T.push(y)),--m<=0&&p(T)})}}asNestedTest({key:e,index:n,parent:r,parentPath:i,originalParent:s,options:o}){const a=e??n;if(a==null)throw TypeError("Must include `key` or `index` for nested validations");const u=typeof a=="number";let c=r[a];const h=Object.assign({},o,{strict:!0,parent:r,value:c,originalValue:s[a],key:void 0,[u?"index":"key"]:a,path:u||a.includes(".")?`${i||""}[${u?a:`"${a}"`}]`:(i?`${i}.`:"")+e});return(p,m,T)=>this.resolve(h)._validate(c,h,m,T)}validate(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return new Promise((o,a)=>i._validate(e,n,(u,c)=>{Dt.isError(u)&&(u.value=c),a(u)},(u,c)=>{u.length?a(new Dt(u,c,void 0,void 0,s)):o(c)}))}validateSync(e,n){var r;let i=this.resolve(Object.assign({},n,{value:e})),s,o=(r=n==null?void 0:n.disableStackTrace)!=null?r:i.spec.disableStackTrace;return i._validate(e,Object.assign({},n,{sync:!0}),(a,u)=>{throw Dt.isError(a)&&(a.value=u),a},(a,u)=>{if(a.length)throw new Dt(a,e,void 0,void 0,o);s=u}),s}isValid(e,n){return this.validate(e,n).then(()=>!0,r=>{if(Dt.isError(r))return!1;throw r})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(r){if(Dt.isError(r))return!1;throw r}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Ls(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const r=this.clone({nullable:e});return r.internalTests.nullable=gs({message:n,name:"nullable",test(i){return i===null?this.schema.spec.nullable:!0}}),r}optionality(e,n){const r=this.clone({optional:e});return r.internalTests.optionality=gs({message:n,name:"optionality",test(i){return i===void 0?this.schema.spec.optional:!0}}),r}optional(){return this.optionality(!0)}defined(e=Pn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Pn.notNull){return this.nullability(!1,e)}required(e=Pn.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Pn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let r=this.clone(),i=gs(n),s=n.exclusive||n.name&&r.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(r.exclusiveTests[n.name]=!!n.exclusive),r.tests=r.tests.filter(o=>!(o.OPTIONS.name===n.name&&(s||o.OPTIONS.test===i.OPTIONS.test))),r.tests.push(i),r}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let r=this.clone(),i=BC(e).map(s=>new os(s));return i.forEach(s=>{s.isSibling&&r.deps.push(s.key)}),r.conditions.push(typeof n=="function"?new Jc(i,n):Jc.fromOptions(i,n)),r}typeError(e){let n=this.clone();return n.internalTests.typeError=gs({message:e,name:"typeError",skipAbsent:!0,test(r){return this.schema._typeCheck(r)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Pn.oneOf){let r=this.clone();return e.forEach(i=>{r._whitelist.add(i),r._blacklist.delete(i)}),r.internalTests.whiteList=gs({message:n,name:"oneOf",skipAbsent:!0,test(i){let s=this.schema._whitelist,o=s.resolveAll(this.resolve);return o.includes(i)?!0:this.createError({params:{values:Array.from(s).join(", "),resolved:o}})}}),r}notOneOf(e,n=Pn.notOneOf){let r=this.clone();return e.forEach(i=>{r._blacklist.add(i),r._whitelist.delete(i)}),r.internalTests.blacklist=gs({message:n,name:"notOneOf",test(i){let s=this.schema._blacklist,o=s.resolveAll(this.resolve);return o.includes(i)?this.createError({params:{values:Array.from(s).join(", "),resolved:o}}):!0}}),r}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:r,meta:i,optional:s,nullable:o}=n.spec;return{meta:i,label:r,optional:s,nullable:o,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(u=>({name:u.OPTIONS.name,params:u.OPTIONS.params})).filter((u,c,h)=>h.findIndex(p=>p.name===u.name)===c)}}}$n.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])$n.prototype[`${t}At`]=function(e,n,r={}){const{parent:i,parentPath:s,schema:o}=J3(this,e,n,r.context);return o[t](i&&i[s],Object.assign({},r,{parent:i,path:e}))};for(const t of["equals","is"])$n.prototype[t]=$n.prototype.oneOf;for(const t of["not","nope"])$n.prototype[t]=$n.prototype.notOneOf;const Z3=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function e6(t){const e=Em(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Em(t){var e,n;const r=Z3.exec(t);return r?{year:Hn(r[1]),month:Hn(r[2],1)-1,day:Hn(r[3],1),hour:Hn(r[4]),minute:Hn(r[5]),second:Hn(r[6]),millisecond:r[7]?Hn(r[7].substring(0,3)):0,precision:(e=(n=r[7])==null?void 0:n.length)!=null?e:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Hn(r[10]),minuteOffset:Hn(r[11])}:null}function Hn(t,e=0){return Number(t)||e}let t6=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,n6=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,r6=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i6="^\\d{4}-\\d{2}-\\d{2}",s6="\\d{2}:\\d{2}:\\d{2}",o6="(([+-]\\d{2}(:?\\d{2})?)|Z)",a6=new RegExp(`${i6}T${s6}(\\.\\d+)?${o6}$`),l6=t=>Ai(t)||t===t.trim(),u6={}.toString();function Qs(){return new KC}class KC extends $n{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,r)=>{if(!r.spec.coerce||r.isType(e)||Array.isArray(e))return e;const i=e!=null&&e.toString?e.toString():e;return i===u6?e:i})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Pn.required,name:"required",skipAbsent:!0,test:r=>!!r.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=Ot.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(r){return r.length===this.resolve(e)}})}min(e,n=Ot.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(r){return r.length>=this.resolve(e)}})}max(e,n=Ot.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(r){return r.length<=this.resolve(e)}})}matches(e,n){let r=!1,i,s;return n&&(typeof n=="object"?{excludeEmptyString:r=!1,message:i,name:s}=n:i=n),this.test({name:s||"matches",message:i||Ot.matches,params:{regex:e},skipAbsent:!0,test:o=>o===""&&r||o.search(e)!==-1})}email(e=Ot.email){return this.matches(t6,{name:"email",message:e,excludeEmptyString:!0})}url(e=Ot.url){return this.matches(n6,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=Ot.uuid){return this.matches(r6,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",r,i;return e&&(typeof e=="object"?{message:n="",allowOffset:r=!1,precision:i=void 0}=e:n=e),this.matches(a6,{name:"datetime",message:n||Ot.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||Ot.datetime_offset,params:{allowOffset:r},skipAbsent:!0,test:s=>{if(!s||r)return!0;const o=Em(s);return o?!!o.z:!1}}).test({name:"datetime_precision",message:n||Ot.datetime_precision,params:{precision:i},skipAbsent:!0,test:s=>{if(!s||i==null)return!0;const o=Em(s);return o?o.precision===i:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=Ot.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:l6})}lowercase(e=Ot.lowercase){return this.transform(n=>Ai(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ai(n)||n===n.toLowerCase()})}uppercase(e=Ot.uppercase){return this.transform(n=>Ai(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>Ai(n)||n===n.toUpperCase()})}}Qs.prototype=KC.prototype;let c6=new Date(""),d6=t=>Object.prototype.toString.call(t)==="[object Date]";class lh extends $n{constructor(){super({type:"date",check(e){return d6(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,r)=>!r.spec.coerce||r.isType(e)||e===null?e:(e=e6(e),isNaN(e)?lh.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let r;if(os.isRef(e))r=e;else{let i=this.cast(e);if(!this._typeCheck(i))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);r=i}return r}min(e,n=vm.min){let r=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(r)}})}max(e,n=vm.max){let r=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(r)}})}}lh.INVALID_DATE=c6;lh.prototype;function h6(t,e=[]){let n=[],r=new Set,i=new Set(e.map(([o,a])=>`${o}-${a}`));function s(o,a){let u=Li.split(o)[0];r.add(u),i.has(`${a}-${u}`)||n.push([a,u])}for(const o of Object.keys(t)){let a=t[o];r.add(o),os.isRef(a)&&a.isSibling?s(a.path,o):Sy(a)&&"deps"in a&&a.deps.forEach(u=>s(u,o))}return U3.array(Array.from(r),n).reverse()}function QE(t,e){let n=1/0;return t.some((r,i)=>{var s;if((s=e.path)!=null&&s.includes(r))return n=i,!0}),n}function GC(t){return(e,n)=>QE(t,e)-QE(t,n)}const f6=(t,e,n)=>{if(typeof t!="string")return t;let r=t;try{r=JSON.parse(t)}catch{}return n.isType(r)?r:t};function tc(t){if("fields"in t){const e={};for(const[n,r]of Object.entries(t.fields))e[n]=tc(r);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=tc(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(tc)}):"optional"in t?t.optional():t}const p6=(t,e)=>{const n=[...Li.normalizePath(e)];if(n.length===1)return n[0]in t;let r=n.pop(),i=Li.getter(Li.join(n),!0)(t);return!!(i&&r in i)};let YE=t=>Object.prototype.toString.call(t)==="[object Object]";function m6(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(r=>n.indexOf(r)===-1)}const g6=GC([]);function Iy(t){return new QC(t)}class QC extends $n{constructor(e){super({type:"object",check(n){return YE(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=g6,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var r;let i=super._cast(e,n);if(i===void 0)return this.getDefault(n);if(!this._typeCheck(i))return i;let s=this.fields,o=(r=n.stripUnknown)!=null?r:this.spec.noUnknown,a=[].concat(this._nodes,Object.keys(i).filter(p=>!this._nodes.includes(p))),u={},c=Object.assign({},n,{parent:u,__validating:n.__validating||!1}),h=!1;for(const p of a){let m=s[p],T=p in i;if(m){let I,R=i[p];c.path=(n.path?`${n.path}.`:"")+p,m=m.resolve({value:R,context:n.context,parent:u});let k=m instanceof $n?m.spec:void 0,_=k==null?void 0:k.strict;if(k!=null&&k.strip){h=h||p in i;continue}I=!n.__validating||!_?m.cast(i[p],c):i[p],I!==void 0&&(u[p]=I)}else T&&!o&&(u[p]=i[p]);(T!==p in u||u[p]!==i[p])&&(h=!0)}return h?u:i}_validate(e,n={},r,i){let{from:s=[],originalValue:o=e,recursive:a=this.spec.recursive}=n;n.from=[{schema:this,value:o},...s],n.__validating=!0,n.originalValue=o,super._validate(e,n,r,(u,c)=>{if(!a||!YE(c)){i(u,c);return}o=o||c;let h=[];for(let p of this._nodes){let m=this.fields[p];!m||os.isRef(m)||h.push(m.asNestedTest({options:n,key:p,parent:c,parentPath:n.path,originalParent:o}))}this.runTests({tests:h,value:c,originalValue:o,options:n},r,p=>{i(p.sort(this._sortErrors).concat(u),c)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),r=n.fields;for(let[i,s]of Object.entries(this.fields)){const o=r[i];r[i]=o===void 0?s:o}return n.withMutation(i=>i.setFields(r,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(r=>{var i;const s=this.fields[r];let o=e;(i=o)!=null&&i.value&&(o=Object.assign({},o,{parent:o.value,value:o.value[r]})),n[r]=s&&"getDefault"in s?s.getDefault(o):void 0}),n}setFields(e,n){let r=this.clone();return r.fields=e,r._nodes=h6(e,n),r._sortErrors=GC(Object.keys(e)),n&&(r._excludedEdges=n),r}shape(e,n=[]){return this.clone().withMutation(r=>{let i=r._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),i=[...r._excludedEdges,...n]),r.setFields(Object.assign(r.fields,e),i)})}partial(){const e={};for(const[n,r]of Object.entries(this.fields))e[n]="optional"in r&&r.optional instanceof Function?r.optional():r;return this.setFields(e)}deepPartial(){return tc(this)}pick(e){const n={};for(const r of e)this.fields[r]&&(n[r]=this.fields[r]);return this.setFields(n,this._excludedEdges.filter(([r,i])=>e.includes(r)&&e.includes(i)))}omit(e){const n=[];for(const r of Object.keys(this.fields))e.includes(r)||n.push(r);return this.pick(n)}from(e,n,r){let i=Li.getter(e,!0);return this.transform(s=>{if(!s)return s;let o=s;return p6(s,e)&&(o=Object.assign({},s),r||delete o[e],o[n]=i(s)),o})}json(){return this.transform(f6)}noUnknown(e=!0,n=_m.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let r=this.test({name:"noUnknown",exclusive:!0,message:n,test(i){if(i==null)return!0;const s=m6(this.schema,i);return!e||s.length===0||this.createError({params:{unknown:s.join(", ")}})}});return r.spec.noUnknown=e,r}unknown(e=!0,n=_m.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const r={};for(const i of Object.keys(n))r[e(i)]=n[i];return r})}camelCase(){return this.transformKeys(Rf.camelCase)}snakeCase(){return this.transformKeys(Rf.snakeCase)}constantCase(){return this.transformKeys(e=>Rf.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),r=super.describe(e);r.fields={};for(const[s,o]of Object.entries(n.fields)){var i;let a=e;(i=a)!=null&&i.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[s]})),r.fields[s]=o.describe(a)}return r}}Iy.prototype=QC.prototype;const YC=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,y6=Iy().shape({password:Qs().min(6,"Too Short!").max(12,"Too Long!").required("Required"),email:Qs().email("Invalid email").matches(YC,"Invalid email domain").required("Required")}),v6=Iy().shape({name:Qs().min(2,"Too Short!").max(50,"Too Long!").required("Required"),password:Qs().min(6,"Too Short!").max(12,"Too Long!").required("Required"),email:Qs().email("Invalid email").matches(YC,"Invalid email domain").required("Required")}),Ms={titleLogin:"Log In",titleRegistration:"Registration",descriptionLogin:"Welcome back! Please enter your credentials to access your account and continue your babysitter search.",descriptionRegistration:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information.",titleButtonLogin:"Log In",titleButtonRegistration:"Sign Up"};function _6(){const[t,e]=N.useState(!1),{modalType:n}=ji(a=>a.users),r=Ed();function i(){e(a=>!a)}const s=t?"#icon-eye":"#icon-eyeOff";function o(a){n===an.registration&&r(Ju(a)),n===an.login&&r(Zu(a))}return z.jsx(m3,{initialValues:{name:"",email:"",password:""},validationSchema:n===an.registration?v6:y6,onSubmit:a=>{o(a),r(WI())},children:({errors:a,touched:u})=>z.jsxs($C,{className:We.formField,children:[n===an.registration&&z.jsxs("div",{className:We.inputField,children:[z.jsx("label",{htmlFor:"name",className:We.fieldLabel,children:"Name"}),z.jsx(Cf,{id:"name",name:"name",className:We.input}),a.name&&u.name?z.jsx("div",{className:We.errorsSchema,children:a.name}):null]}),z.jsxs("div",{className:We.inputField,children:[z.jsx("label",{htmlFor:"email",className:We.fieldLabel,children:"Email"}),z.jsx(Cf,{id:"email",name:"email",type:"email",className:We.input}),a.email&&u.email?z.jsx("div",{className:We.errorsSchema,children:a.email}):null]}),z.jsxs("div",{className:We.inputField,children:[z.jsx("label",{htmlFor:"password",className:We.fieldLabel,children:"Password"}),z.jsx(Cf,{id:"password",name:"password",type:`${t?"text":"password"}`,className:We.input}),a.password&&u.password?z.jsx("div",{className:We.errorsSchema,children:a.password}):null,z.jsx("button",{type:"button",className:We.buttonPassword,onClick:i,children:z.jsx("svg",{className:We.iconPassword,children:z.jsx("use",{href:`${_g}${s}`})})})]}),z.jsxs("button",{type:"submit",className:We.buttonSubmit,children:[n===an.login&&Ms.titleButtonLogin,n===an.registration&&Ms.titleButtonRegistration]})]})})}const E6={content:{border:"none",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"30px",padding:"64px",maxWidth:"565px"}};sC.setAppElement("#root");function w6(){const{isModalLoginRegistration:t,modalType:e}=ji(i=>i.users),n=Ed();function r(){n(WI())}return z.jsx(sC,{isOpen:t,style:E6,onRequestClose:r,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,children:z.jsxs("section",{className:We.modalFormSection,children:[z.jsx("button",{onClick:r,className:We.closeButton,children:z.jsx("svg",{className:We.iconSvg,children:z.jsx("use",{href:`${_g}#icon-iconX`})})}),z.jsxs("h2",{className:We.titleModal,children:[e===an.login&&Ms.titleLogin,e===an.registration&&Ms.titleRegistration]}),z.jsxs("p",{className:We.modalDescription,children:[e===an.login&&Ms.descriptionLogin,e===an.registration&&Ms.descriptionRegistration]}),z.jsx(_6,{})]})})}kf.createRoot(document.getElementById("root")).render(z.jsx(we.StrictMode,{children:z.jsx(Eb,{store:kV,children:z.jsxs(Kk,{basename:"/nanny-services/",children:[z.jsx(CV,{}),z.jsx(pV,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light","transition:Bounce":!0}),z.jsx(w6,{})]})})}));export{$b as C,_V as L,gV as N,Pf as R,an as T,Nt as a,mV as b,Ed as c,aE as d,uS as e,I6 as f,Ef as g,_g as i,z as j,oE as o,N as r,S6 as s,ji as u};
