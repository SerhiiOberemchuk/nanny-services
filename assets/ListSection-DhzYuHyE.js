import{t as T,v as x,j as e,F as A,E as k,w as $,x as M,M as C,i as j,r as D,u as w,q,s as V,c as z,B as Y,y as U,z as E}from"./index-ChPrwRuj.js";const O="_list_n7wgd_1",P="_listItem_n7wgd_10",Z="_imgSection_n7wgd_23",B="_image_n7wgd_32",W="_status_n7wgd_38",H="_statusDisable_n7wgd_51",J="_infoSection_n7wgd_58",K="_nameSection_n7wgd_62",X="_nannyName_n7wgd_67",G="_about_n7wgd_76",Q="_buttonReadMore_n7wgd_84",ee="_iconSvg_n7wgd_101",te="_iconSvgStar_n7wgd_109",ae="_iconSvgFavorite_n7wgd_117",se="_isFavorite_n7wgd_125",ne="_locationSection_n7wgd_130",ie="_locationFavorite_n7wgd_138",re="_spanLocation_n7wgd_143",oe="_spanPrice_n7wgd_162",ce="_buttonFavorite_n7wgd_166",c={list:O,listItem:P,imgSection:Z,image:B,status:W,statusDisable:H,infoSection:J,nameSection:K,nannyName:X,about:G,buttonReadMore:Q,iconSvg:ee,iconSvgStar:te,iconSvgFavorite:ae,isFavorite:se,locationSection:ne,locationFavorite:ie,spanLocation:re,spanPrice:oe,buttonFavorite:ce},le="_reviewsList_1kij1_1",de="_itemReviews_1kij1_8",me="_reviewerName_1kij1_14",ue="_reviewerLeter_1kij1_19",he="_reviewerTitle_1kij1_34",_e="_reviewValueBox_1kij1_44",pe="_reviewValue_1kij1_44",xe="_iconSvgStar_1kij1_55",ge="_buttonAppointment_1kij1_62",h={reviewsList:le,itemReviews:de,reviewerName:me,reviewerLeter:ue,reviewerTitle:he,reviewValueBox:_e,reviewValue:pe,iconSvgStar:xe,buttonAppointment:ge},ve="_madalContent_1d0o5_1",Ne="_title_1d0o5_11",fe="_description_1d0o5_19",je="_nameAvatar_1d0o5_27",be="_avatar_1d0o5_34",we="_youNanny_1d0o5_39",Se="_nannyName_1d0o5_46",De="_iconSvg_1d0o5_53",_={madalContent:ve,title:Ne,description:fe,nameAvatar:je,avatar:be,youNanny:we,nannyName:Se,iconSvg:De},ye=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,Fe=/^\+380\d{9}$/,Ce=/^([01]\d|2[0-3]):([0-5]\d)$/,Le=T().shape({address:x().min(1,"Too Short!").max(20,"Too Long!").required("Required"),numberPhone:x().matches(Fe,"Invalid phone number format").required("Required"),age:x().min(1,"Too Short!").max(2,"Too Long!").required("Required"),time:x().matches(Ce,"Invalid time format").required("Required"),email:x().email("Invalid email").matches(ye,"Invalid email domain").required("Required"),fatherName:x().required("Required"),comment:x().required("Required")}),Re="_form_axi9p_1",Ie="_positionInput_axi9p_7",Te="_errorsSchema_axi9p_12",Ae="_field_axi9p_23",ke="_textarea_axi9p_24",$e="_buttonSubmit_axi9p_46",Me="_blockField_axi9p_57",qe="_hiddenLabel_axi9p_64",p={form:Re,positionInput:Ie,errorsSchema:Te,field:Ae,textarea:ke,buttonSubmit:$e,blockField:Me,hiddenLabel:qe},g=({id:t,name:a,type:n="text",placeholder:s,ariaLabel:i,as:o="input"})=>e.jsxs("div",{className:p.positionInput,children:[e.jsx("label",{htmlFor:t,className:p.hiddenLabel,children:s}),e.jsx(A,{type:n,id:t,name:a,placeholder:s,"aria-label":i,className:o==="textarea"?p.textarea:p.field,as:o}),e.jsx(k,{name:a,component:"div",className:p.errorsSchema})]}),Ve=()=>e.jsx($,{initialValues:{address:"",numberPhone:"+380",age:"",time:"",email:"",fatherName:"",comment:""},onSubmit:t=>console.log(t),validationSchema:Le,children:()=>e.jsxs(M,{className:p.form,children:[e.jsxs("div",{className:p.blockField,children:[e.jsx(g,{id:"address",name:"address",placeholder:"Address",ariaLabel:"Address"}),e.jsx(g,{id:"numberPhone",name:"numberPhone",placeholder:"+380",ariaLabel:"number phone"}),e.jsx(g,{id:"age",name:"age",placeholder:"Child's age",ariaLabel:"Child's age"}),e.jsx(g,{id:"time",name:"time",type:"time",placeholder:"00:00",ariaLabel:"time"})]}),e.jsx(g,{id:"email",name:"email",type:"email",placeholder:"Email",ariaLabel:"Email"}),e.jsx(g,{id:"fatherName",name:"fatherName",placeholder:"Father's or mother's name",ariaLabel:"Father's or mother's name"}),e.jsx(g,{id:"comment",name:"comment",placeholder:"Comment",ariaLabel:"Comment",as:"textarea"}),e.jsx("button",{type:"submit",className:p.buttonSubmit,children:"Submit"})]})}),ze={content:{border:"none",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"30px",padding:"64px",color:"#11101c",zIndex:1001},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1e3}};C.setAppElement("#root");function Ye({data:t,isModal:a=!1,closeModal:n}){return e.jsx(C,{isOpen:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:n,style:ze,children:e.jsxs("div",{className:_.madalContent,children:[e.jsx("button",{type:"button",onClick:n,children:e.jsx("svg",{className:_.iconSvg,children:e.jsx("use",{href:`${j}#icon-iconX`})})}),e.jsx("h2",{className:_.title,children:"Make an appointment with a babysitter"}),e.jsx("p",{className:_.description,children:"Arranging a meeting with a caregiver for your child is the first step to creating a safe and comfortable environment. Fill out the form below so we can match you with the perfect care partner."}),e.jsxs("div",{className:_.nameAvatar,children:[e.jsx("img",{src:t.avatar_url,alt:"avatar nanny",className:_.avatar,width:44}),e.jsxs("div",{children:[e.jsx("span",{className:_.youNanny,children:"Your nanny"}),e.jsx("h3",{className:_.nannyName,children:t.name})]})]}),e.jsx(Ve,{})]})})}function Ue({nanny:t}){const[a,n]=D.useState(!1);function s(){n(!0)}function i(){n(!1)}return e.jsxs("ul",{className:h.reviewsList,children:[t.reviews.map((o,d)=>e.jsxs("li",{className:h.itemReviews,children:[e.jsxs("div",{className:h.reviewerTitle,children:[e.jsx("div",{className:h.reviewerLeter,children:e.jsx("span",{children:o.reviewer.substr(0,1)})}),e.jsxs("div",{children:[e.jsx("h3",{className:h.reviewerName,children:o.reviewer}),e.jsxs("span",{className:h.reviewValueBox,children:[e.jsx("svg",{className:h.iconSvgStar,children:e.jsx("use",{href:`${j}#icon-star`})}),e.jsx("span",{className:h.reviewValue,children:o.rating.toFixed(1)})]})]})]}),e.jsx("p",{children:o.comment})]},d)),e.jsx("button",{type:"button",onClick:s,className:h.buttonAppointment,children:"Make an appointment"}),e.jsx(Ye,{data:t,isModal:a,closeModal:i})]})}function v(t){const a=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&a==="[object Date]"?new t.constructor(+t):typeof t=="number"||a==="[object Number]"||typeof t=="string"||a==="[object String]"?new Date(t):new Date(NaN)}const L=6e4,R=36e5;function F(t,a){const n=v(t),s=v(a),i=n.getTime()-s.getTime();return i<0?-1:i>0?1:i}function Ee(t,a){const n=v(t),s=v(a);return n.getFullYear()-s.getFullYear()}function Oe(t,a){const n=v(t),s=v(a),i=F(n,s),o=Math.abs(Ee(n,s));n.setFullYear(1584),s.setFullYear(1584);const d=F(n,s)===-i,m=i*(o-+d);return m===0?0:m}function Pe(t,a){const s=He(t);let i;if(s.date){const l=Je(s.date,2);i=Ke(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let d=0,m;if(s.time&&(d=Xe(s.time),isNaN(d)))return new Date(NaN);if(s.timezone){if(m=Ge(s.timezone),isNaN(m))return new Date(NaN)}else{const l=new Date(o+d),r=new Date(0);return r.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),r.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),r}return new Date(o+d+m)}const b={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ze=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Be=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,We=/^([+-])(\d{2})(?::?(\d{2}))?$/;function He(t){const a={},n=t.split(b.dateTimeDelimiter);let s;if(n.length>2)return a;if(/:/.test(n[0])?s=n[0]:(a.date=n[0],s=n[1],b.timeZoneDelimiter.test(a.date)&&(a.date=t.split(b.timeZoneDelimiter)[0],s=t.substr(a.date.length,t.length))),s){const i=b.timezone.exec(s);i?(a.time=s.replace(i[1],""),a.timezone=i[1]):a.time=s}return a}function Je(t,a){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),s=t.match(n);if(!s)return{year:NaN,restDateString:""};const i=s[1]?parseInt(s[1]):null,o=s[2]?parseInt(s[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((s[1]||s[2]).length)}}function Ke(t,a){if(a===null)return new Date(NaN);const n=t.match(Ze);if(!n)return new Date(NaN);const s=!!n[4],i=f(n[1]),o=f(n[2])-1,d=f(n[3]),m=f(n[4]),l=f(n[5])-1;if(s)return st(a,m,l)?Qe(a,m,l):new Date(NaN);{const r=new Date(0);return!tt(a,o,d)||!at(a,i)?new Date(NaN):(r.setUTCFullYear(a,o,Math.max(i,d)),r)}}function f(t){return t?parseInt(t):1}function Xe(t){const a=t.match(Be);if(!a)return NaN;const n=S(a[1]),s=S(a[2]),i=S(a[3]);return nt(n,s,i)?n*R+s*L+i*1e3:NaN}function S(t){return t&&parseFloat(t.replace(",","."))||0}function Ge(t){if(t==="Z")return 0;const a=t.match(We);if(!a)return 0;const n=a[1]==="+"?-1:1,s=parseInt(a[2]),i=a[3]&&parseInt(a[3])||0;return it(s,i)?n*(s*R+i*L):NaN}function Qe(t,a,n){const s=new Date(0);s.setUTCFullYear(t,0,4);const i=s.getUTCDay()||7,o=(a-1)*7+n+1-i;return s.setUTCDate(s.getUTCDate()+o),s}const et=[31,null,31,30,31,30,31,31,30,31,30,31];function I(t){return t%400===0||t%4===0&&t%100!==0}function tt(t,a,n){return a>=0&&a<=11&&n>=1&&n<=(et[a]||(I(t)?29:28))}function at(t,a){return a>=1&&a<=(I(t)?366:365)}function st(t,a,n){return a>=1&&a<=53&&n>=0&&n<=6}function nt(t,a,n){return t===24?a===0&&n===0:n>=0&&n<60&&a>=0&&a<60&&t>=0&&t<25}function it(t,a){return a>=0&&a<=59}const rt="_listCharacters_qbzly_1",ot="_charactersNanny_qbzly_10",ct="_charactersValue_qbzly_16",lt="_charactersValueAge_qbzly_20",u={listCharacters:rt,charactersNanny:ot,charactersValue:ct,charactersValueAge:lt},dt=new Date;function mt({nanny:t}){return e.jsxs("ul",{className:u.listCharacters,children:[e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Age:"})," ",e.jsx("span",{className:u.charactersValueAge,children:Oe(dt,Pe(t.birthday))})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Experience:"})," ",e.jsx("span",{className:u.charactersValue,children:t.experience})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Kids Age:"})," ",e.jsx("span",{className:u.charactersValue,children:t.kids_age})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Characters:"})," ",e.jsx("span",{className:u.charactersValue,children:t.characters.map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(", ")})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Education:"})," ",e.jsx("span",{className:u.charactersValue,children:t.education})]})]})}const ut=(t,a)=>t.some(s=>s.id===a.id)?t=t.filter(s=>s.id!==a.id):t=[...t,a];function _t({nanniesCatalog:t}){const[a,n]=D.useState([]),s=w(q),i=w(V),{userId:o}=w(r=>r.users),d=z(),m=(r,N)=>{if(!i){Y.warn("Please log in to continue.");return}const y=ut(s,N);d(U({userId:r,favoritesArray:y})),d(E(y))},l=D.useCallback(r=>{n(N=>[...N,r.target.id])},[]);return e.jsx("ul",{className:c.list,children:t.map(r=>e.jsxs("li",{className:c.listItem,children:[e.jsxs("div",{className:c.imgSection,children:[e.jsx("img",{src:r.avatar_url,alt:r.name,className:c.image}),e.jsx("div",{className:c.status,children:e.jsx("div",{className:c.statusDisable})})]}),e.jsxs("div",{className:c.infoSection,children:[e.jsxs("div",{className:c.nameSection,children:[e.jsxs("div",{children:[e.jsx("span",{children:"Nanny"}),e.jsx("h2",{className:c.nannyName,children:r.name})]}),e.jsxs("div",{className:c.locationFavorite,children:[e.jsxs("div",{className:c.locationSection,children:[e.jsxs("span",{className:c.spanLocation,children:[e.jsx("svg",{className:c.iconSvg,children:e.jsx("use",{href:`${j}#icon-map`})}),e.jsx("span",{children:r.location})]}),e.jsxs("span",{className:c.spanLocation,children:[e.jsx("svg",{className:c.iconSvgStar,children:e.jsx("use",{href:`${j}#icon-star`})}),e.jsxs("span",{children:["Rating: ",r.rating]})]}),e.jsxs("span",{children:["Price / 1 hour:"," ",e.jsxs("span",{className:c.spanPrice,children:[r.price_per_hour,"$"]})]})]}),e.jsx("button",{type:"button",className:c.buttonFavorite,onClick:()=>m(o,r),children:e.jsx("svg",{className:`${c.iconSvgFavorite} ${s.some(N=>N.id===r.id)?c.isFavorite:""}`,children:e.jsx("use",{href:`${j}#icon-heart`})})})]})]}),e.jsx(mt,{nanny:r}),e.jsx("p",{className:c.about,children:r.about}),a.includes(r.id)?e.jsx(Ue,{nanny:r}):e.jsx("button",{type:"button",id:r.id,className:c.buttonReadMore,onClick:l,"aria-label":"show reviews",children:"Read more"})]})]},r.id))})}export{_t as L};
