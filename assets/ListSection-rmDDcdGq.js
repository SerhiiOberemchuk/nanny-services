import{k as I,l as x,j as e,F as T,E as k,m as A,n as $,M as y,i as f,r as F,u as w,h as M,s as V,c as q,B as Y,p as z}from"./index-Bioinlcm.js";const U="_list_n7wgd_1",E="_listItem_n7wgd_10",O="_imgSection_n7wgd_23",P="_image_n7wgd_32",Z="_status_n7wgd_38",B="_statusDisable_n7wgd_51",W="_infoSection_n7wgd_58",H="_nameSection_n7wgd_62",J="_nannyName_n7wgd_67",K="_about_n7wgd_76",X="_buttonReadMore_n7wgd_84",G="_iconSvg_n7wgd_101",Q="_iconSvgStar_n7wgd_109",ee="_iconSvgFavorite_n7wgd_117",te="_isFavorite_n7wgd_125",ae="_locationSection_n7wgd_130",se="_locationFavorite_n7wgd_138",ne="_spanLocation_n7wgd_143",ie="_spanPrice_n7wgd_162",re="_buttonFavorite_n7wgd_166",c={list:U,listItem:E,imgSection:O,image:P,status:Z,statusDisable:B,infoSection:W,nameSection:H,nannyName:J,about:K,buttonReadMore:X,iconSvg:G,iconSvgStar:Q,iconSvgFavorite:ee,isFavorite:te,locationSection:ae,locationFavorite:se,spanLocation:ne,spanPrice:ie,buttonFavorite:re},oe="_reviewsList_1kij1_1",ce="_itemReviews_1kij1_8",le="_reviewerName_1kij1_14",de="_reviewerLeter_1kij1_19",me="_reviewerTitle_1kij1_34",ue="_reviewValueBox_1kij1_44",he="_reviewValue_1kij1_44",_e="_iconSvgStar_1kij1_55",pe="_buttonAppointment_1kij1_62",h={reviewsList:oe,itemReviews:ce,reviewerName:le,reviewerLeter:de,reviewerTitle:me,reviewValueBox:ue,reviewValue:he,iconSvgStar:_e,buttonAppointment:pe},xe="_madalContent_1d0o5_1",ge="_title_1d0o5_11",ve="_description_1d0o5_19",Ne="_nameAvatar_1d0o5_27",fe="_avatar_1d0o5_34",je="_youNanny_1d0o5_39",be="_nannyName_1d0o5_46",we="_iconSvg_1d0o5_53",_={madalContent:xe,title:ge,description:ve,nameAvatar:Ne,avatar:fe,youNanny:je,nannyName:be,iconSvg:we},Se=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,De=/^\+380\d{9}$/,ye=/^([01]\d|2[0-3]):([0-5]\d)$/,Fe=I().shape({address:x().min(1,"Too Short!").max(20,"Too Long!").required("Required"),numberPhone:x().matches(De,"Invalid phone number format").required("Required"),age:x().min(1,"Too Short!").max(2,"Too Long!").required("Required"),time:x().matches(ye,"Invalid time format").required("Required"),email:x().email("Invalid email").matches(Se,"Invalid email domain").required("Required"),fatherName:x().required("Required"),comment:x().required("Required")}),Le="_form_axi9p_1",Ce="_positionInput_axi9p_7",Re="_errorsSchema_axi9p_12",Ie="_field_axi9p_23",Te="_textarea_axi9p_24",ke="_buttonSubmit_axi9p_46",Ae="_blockField_axi9p_57",$e="_hiddenLabel_axi9p_64",p={form:Le,positionInput:Ce,errorsSchema:Re,field:Ie,textarea:Te,buttonSubmit:ke,blockField:Ae,hiddenLabel:$e},g=({id:t,name:a,type:s="text",placeholder:n,ariaLabel:i,as:o="input"})=>e.jsxs("div",{className:p.positionInput,children:[e.jsx("label",{htmlFor:t,className:p.hiddenLabel,children:n}),e.jsx(T,{type:s,id:t,name:a,placeholder:n,"aria-label":i,className:o==="textarea"?p.textarea:p.field,as:o}),e.jsx(k,{name:a,component:"div",className:p.errorsSchema})]}),Me=()=>e.jsx(A,{initialValues:{address:"",numberPhone:"+380",age:"",time:"",email:"",fatherName:"",comment:""},onSubmit:t=>console.log(t),validationSchema:Fe,children:()=>e.jsxs($,{className:p.form,children:[e.jsxs("div",{className:p.blockField,children:[e.jsx(g,{id:"address",name:"address",placeholder:"Address",ariaLabel:"Address"}),e.jsx(g,{id:"numberPhone",name:"numberPhone",placeholder:"+380",ariaLabel:"number phone"}),e.jsx(g,{id:"age",name:"age",placeholder:"Child's age",ariaLabel:"Child's age"}),e.jsx(g,{id:"time",name:"time",type:"time",placeholder:"00:00",ariaLabel:"time"})]}),e.jsx(g,{id:"email",name:"email",type:"email",placeholder:"Email",ariaLabel:"Email"}),e.jsx(g,{id:"fatherName",name:"fatherName",placeholder:"Father's or mother's name",ariaLabel:"Father's or mother's name"}),e.jsx(g,{id:"comment",name:"comment",placeholder:"Comment",ariaLabel:"Comment",as:"textarea"}),e.jsx("button",{type:"submit",className:p.buttonSubmit,children:"Submit"})]})}),Ve={content:{border:"none",top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",borderRadius:"30px",padding:"64px",color:"#11101c",zIndex:1001},overlay:{backgroundColor:"rgba(0, 0, 0, 0.75)",zIndex:1e3}};y.setAppElement("#root");function qe({data:t,isModal:a=!1,closeModal:s}){return e.jsx(y,{isOpen:a,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:s,style:Ve,children:e.jsxs("div",{className:_.madalContent,children:[e.jsx("button",{type:"button",onClick:s,children:e.jsx("svg",{className:_.iconSvg,children:e.jsx("use",{href:`${f}#icon-iconX`})})}),e.jsx("h2",{className:_.title,children:"Make an appointment with a babysitter"}),e.jsx("p",{className:_.description,children:"Arranging a meeting with a caregiver for your child is the first step to creating a safe and comfortable environment. Fill out the form below so we can match you with the perfect care partner."}),e.jsxs("div",{className:_.nameAvatar,children:[e.jsx("img",{src:t.avatar_url,alt:"avatar nanny",className:_.avatar,width:44}),e.jsxs("div",{children:[e.jsx("span",{className:_.youNanny,children:"Your nanny"}),e.jsx("h3",{className:_.nannyName,children:t.name})]})]}),e.jsx(Me,{})]})})}function Ye({nanny:t}){const[a,s]=F.useState(!1);function n(){s(!0)}function i(){s(!1)}return e.jsxs("ul",{className:h.reviewsList,children:[t.reviews.map((o,d)=>e.jsxs("li",{className:h.itemReviews,children:[e.jsxs("div",{className:h.reviewerTitle,children:[e.jsx("div",{className:h.reviewerLeter,children:e.jsx("span",{children:o.reviewer.substr(0,1)})}),e.jsxs("div",{children:[e.jsx("h3",{className:h.reviewerName,children:o.reviewer}),e.jsxs("span",{className:h.reviewValueBox,children:[e.jsx("svg",{className:h.iconSvgStar,children:e.jsx("use",{href:`${f}#icon-star`})}),e.jsx("span",{className:h.reviewValue,children:o.rating.toFixed(1)})]})]})]}),e.jsx("p",{children:o.comment})]},d)),e.jsx("button",{type:"button",onClick:n,className:h.buttonAppointment,children:"Make an appointment"}),e.jsx(qe,{data:t,isModal:a,closeModal:i})]})}function v(t){const a=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&a==="[object Date]"?new t.constructor(+t):typeof t=="number"||a==="[object Number]"||typeof t=="string"||a==="[object String]"?new Date(t):new Date(NaN)}const L=6e4,C=36e5;function D(t,a){const s=v(t),n=v(a),i=s.getTime()-n.getTime();return i<0?-1:i>0?1:i}function ze(t,a){const s=v(t),n=v(a);return s.getFullYear()-n.getFullYear()}function Ue(t,a){const s=v(t),n=v(a),i=D(s,n),o=Math.abs(ze(s,n));s.setFullYear(1584),n.setFullYear(1584);const d=D(s,n)===-i,m=i*(o-+d);return m===0?0:m}function Ee(t,a){const n=Be(t);let i;if(n.date){const l=We(n.date,2);i=He(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const o=i.getTime();let d=0,m;if(n.time&&(d=Je(n.time),isNaN(d)))return new Date(NaN);if(n.timezone){if(m=Ke(n.timezone),isNaN(m))return new Date(NaN)}else{const l=new Date(o+d),r=new Date(0);return r.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),r.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),r}return new Date(o+d+m)}const j={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Oe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Pe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ze=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Be(t){const a={},s=t.split(j.dateTimeDelimiter);let n;if(s.length>2)return a;if(/:/.test(s[0])?n=s[0]:(a.date=s[0],n=s[1],j.timeZoneDelimiter.test(a.date)&&(a.date=t.split(j.timeZoneDelimiter)[0],n=t.substr(a.date.length,t.length))),n){const i=j.timezone.exec(n);i?(a.time=n.replace(i[1],""),a.timezone=i[1]):a.time=n}return a}function We(t,a){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+a)+"})|(\\d{2}|[+-]\\d{"+(2+a)+"})$)"),n=t.match(s);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((n[1]||n[2]).length)}}function He(t,a){if(a===null)return new Date(NaN);const s=t.match(Oe);if(!s)return new Date(NaN);const n=!!s[4],i=N(s[1]),o=N(s[2])-1,d=N(s[3]),m=N(s[4]),l=N(s[5])-1;if(n)return tt(a,m,l)?Xe(a,m,l):new Date(NaN);{const r=new Date(0);return!Qe(a,o,d)||!et(a,i)?new Date(NaN):(r.setUTCFullYear(a,o,Math.max(i,d)),r)}}function N(t){return t?parseInt(t):1}function Je(t){const a=t.match(Pe);if(!a)return NaN;const s=S(a[1]),n=S(a[2]),i=S(a[3]);return at(s,n,i)?s*C+n*L+i*1e3:NaN}function S(t){return t&&parseFloat(t.replace(",","."))||0}function Ke(t){if(t==="Z")return 0;const a=t.match(Ze);if(!a)return 0;const s=a[1]==="+"?-1:1,n=parseInt(a[2]),i=a[3]&&parseInt(a[3])||0;return st(n,i)?s*(n*C+i*L):NaN}function Xe(t,a,s){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,o=(a-1)*7+s+1-i;return n.setUTCDate(n.getUTCDate()+o),n}const Ge=[31,null,31,30,31,30,31,31,30,31,30,31];function R(t){return t%400===0||t%4===0&&t%100!==0}function Qe(t,a,s){return a>=0&&a<=11&&s>=1&&s<=(Ge[a]||(R(t)?29:28))}function et(t,a){return a>=1&&a<=(R(t)?366:365)}function tt(t,a,s){return a>=1&&a<=53&&s>=0&&s<=6}function at(t,a,s){return t===24?a===0&&s===0:s>=0&&s<60&&a>=0&&a<60&&t>=0&&t<25}function st(t,a){return a>=0&&a<=59}const nt="_listCharacters_qbzly_1",it="_charactersNanny_qbzly_10",rt="_charactersValue_qbzly_16",ot="_charactersValueAge_qbzly_20",u={listCharacters:nt,charactersNanny:it,charactersValue:rt,charactersValueAge:ot},ct=new Date;function lt({nanny:t}){return e.jsxs("ul",{className:u.listCharacters,children:[e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Age:"})," ",e.jsx("span",{className:u.charactersValueAge,children:Ue(ct,Ee(t.birthday))})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Experience:"})," ",e.jsx("span",{className:u.charactersValue,children:t.experience})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Kids Age:"})," ",e.jsx("span",{className:u.charactersValue,children:t.kids_age})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Characters:"})," ",e.jsx("span",{className:u.charactersValue,children:t.characters.map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(", ")})]}),e.jsxs("li",{className:u.charactersNanny,children:[e.jsx("span",{children:"Education:"})," ",e.jsx("span",{className:u.charactersValue,children:t.education})]})]})}function mt({nanniesCatalog:t}){const[a,s]=F.useState([]),n=w(M),i=w(V),{userId:o}=w(r=>r.users),d=q(),m=r=>{if(!i){Y.warn("Please log in to continue.");return}d(z(r))},l=r=>{s(b=>[...b,r.target.id])};return console.log(t),e.jsx("ul",{className:c.list,children:t.map(r=>e.jsxs("li",{className:c.listItem,children:[e.jsxs("div",{className:c.imgSection,children:[e.jsx("img",{src:r.avatar_url,alt:r.name,className:c.image}),e.jsx("div",{className:c.status,children:e.jsx("div",{className:c.statusDisable})})]}),e.jsxs("div",{className:c.infoSection,children:[e.jsxs("div",{className:c.nameSection,children:[e.jsxs("div",{children:[e.jsx("span",{children:"Nanny"}),e.jsx("h2",{className:c.nannyName,children:r.name})]}),e.jsxs("div",{className:c.locationFavorite,children:[e.jsxs("div",{className:c.locationSection,children:[e.jsxs("span",{className:c.spanLocation,children:[e.jsx("svg",{className:c.iconSvg,children:e.jsx("use",{href:`${f}#icon-map`})}),e.jsx("span",{children:r.location})]}),e.jsxs("span",{className:c.spanLocation,children:[e.jsx("svg",{className:c.iconSvgStar,children:e.jsx("use",{href:`${f}#icon-star`})}),e.jsxs("span",{children:["Rating: ",r.rating]})]}),e.jsxs("span",{children:["Price / 1 hour:"," ",e.jsxs("span",{className:c.spanPrice,children:[r.price_per_hour,"$"]})]})]}),e.jsx("button",{type:"button",className:c.buttonFavorite,onClick:()=>m({userId:o,nanny:r}),children:e.jsx("svg",{className:`${c.iconSvgFavorite} ${n.some(b=>b.id===r.id)?c.isFavorite:""}`,children:e.jsx("use",{href:`${f}#icon-heart`})})})]})]}),e.jsx(lt,{nanny:r}),e.jsx("p",{className:c.about,children:r.about}),a.includes(r.id)?e.jsx(Ye,{nanny:r}):e.jsx("button",{type:"button",id:r.id,className:c.buttonReadMore,onClick:l,"aria-label":"show reviews",children:"Read more"})]})]},r.id))})}export{mt as L};
